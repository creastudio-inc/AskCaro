LongDescription,answer
i'm trying use new bundling feature project i recently converted from mvc 3 mvc 4 beta requires line code global.asax bundletable.bundles.registertemplatebundles which requires using system.web.optimization top.when i do i get red squiggly lines say you missing assembly reference when i try add reference click net tab dialog sort from z i do see system.web.optimization.how do i add ref my project thanks,set in Global.asax application_start (in RELEASE mode etc.) :BundleTable.EnableOptimizations = **true**;to enable minification and change to false in DEBUG mode to render all script and style files individually.
net mvc4 project how does styles.render works i mean styles.render content css which file calling i dont have file folder called css inside my content folder,I did all things necessary to add bundling to an MVC 3 web (I'm new to the existing solution).  Styles.Render didn't work for me.  I finally discovered I was simply missing a colon.  In a master page: &lt;%: Styles.Render("~/Content/Css") %&gt;  I'm still confused about why (on the same page) &lt;% Html.RenderPartial("LogOnUserControl"); %&gt; works without the colon.
i wish add asp.net web api asp.net mvc 4 web application project developed visual studio 2012 which steps must i perform add functioning web api project i'm aware i need controller deriving from apicontroller about all i know.let me know i need provide more details,I had same problem the solution was so easy Right click on solotioninstall Microsoft.ASP.NET.WebApi from "Manage Nuget Package for Sulotion" boom that's it ;)
my question similar asp.net mvc 4 minification amp background imagesexcept i want stick mvc own bundling i can i'm having brain crash trying figure out what correct pattern specifying style bundles standalone css image sets jquery ui work.i have typical mvc site structure content css which contains my base css stylescss within css folder i also have subfolders jquery ui which contains its css file plus images folder image paths jquery ui css relative folder i don't want mess them.as i understand when i specify stylebundle i need specify virtual path which does also match real content path because assuming i'm ignoring routes content iis would try resolve path physical file so i'm specifying bundles.add new stylebundle content styles jquery ui include content css jquery ui css rendered using styles.render content styles jquery ui i can see request going out http localhost mysite content styles jquery ui v nl_6hpftzoqrts9nwrtjq0vqfynhmjy5eopxsk8cxmg1this returning correct minified css response browser sends request relatively linked image http localhost mysite content styles images ui bg highlight soft_100_eeeeee_1x100.pngwhich 404.i understand last part my url jquery ui extensionless url handler my bundle so i can see why relative request image simply styles images so my question what correct way handling situation,CssRewriteUrlTransform fixed my problem. If your code still not loading images after using CssRewriteUrlTransform thenchange your css filename's from:.Include("~/Content/jquery/jquery-ui-1.10.3.custom.css" new CssRewriteUrlTransform())To:.Include("~/Content/jquery/jquery-ui.css" new CssRewriteUrlTransform())Someway .(dots) are not recognizing in url.
asp.net mvc4 web api application defines post method save customer.customer passed json format post request body.customer parameter post method contains null values properties.how fix so posted data passed customer object possible content type application x www form urlencoded should used since i dont know how change javascript method which posts form.controller public class customerscontroller apicontroller public object post frombody customer customer return request.createresponse httpstatuscode.oknew customer customer public class customer public string company name get set public string contact name get set request post http localhost 52216/api customers http/1.1accept application json text javascript q 0.01x-requested xmlhttprequestcontent type application x www form urlencoded charset utf-8 contact name sdfsd company name ssssd,1)In your client side you can send you http.post request in string like belowvar IndexInfo = JSON.stringify(this.scope.IndexTree);this.$http.post('../../../api/EvaluationProcess/InsertEvaluationProcessInputType' "'" + IndexInfo + "'" ).then((response: any) =&gt; {}2)Then in your web api controller you can deserialize it public ApiResponce InsertEvaluationProcessInputType([FromBody]string IndexInfo){var des = (ApiReceivedListOfObjects&lt;TempDistributedIndex&gt;)Newtonsoft.Json.JsonConvert.DeserializeObject(DecryptedProcessInfo typeof(ApiReceivedListOfObjects&lt;TempDistributedIndex&gt;));}3)Your ApiReceivedListOfObjects class should be like belowpublic class ApiReceivedListOfObjects&lt;T&gt;{public List&lt;T&gt; element { get; set; }}4)make sure that your serialized string (IndexInfo here) becomes like below structure before JsonConvert.DeserializeObject command in step 2var resp = @"{""element"": [{""A"": ""A Jones""""B"": ""500015763""}{""A"": ""B Smith""""B"": ""504986213""}{""A"": ""C Brown""""B"": ""509034361""}]}";
could you explain validateantiforgerytoken purpose show me example about validateantiforgerytoken mvc 4 i could find any examples which explain attribute,Microsoft provides us built-in functionality which we use in our application for security purposes so no one can hack our site or invade some critical information.Use of ValidateAntiForgeryTokenLet’s try with a simple example to understand this concept. I do not want to make it too complicated that’s why I am going to use a template of an MVC application already available in Visual Studio. We will do this step by step. Let’s start.Step 1 - Create two MVC applications with default internet template and give those names as CrossSite_RequestForgery and Attack_Application respectively.Now open CrossSite_RequestForgery application's Web Config and change the connection string with the one given below and then save.`&lt;connectionStrings&gt; &lt;add name="DefaultConnection" connectionString="Data Source=local\SQLEXPRESS;Initial Catalog=CSRF; Integrated Security=true;" providerName="System.Data.SqlClient" /&gt;  &lt;/connectionStrings&gt;`Now click on Tools >> NuGet Package Manager then Package Manager ConsoleNow run the below mentioned three commands in Package Manager Console to create the database.Enable-Migrations add-migration first update-database Important Notes - I have created database with code first approach because I want to make this example in the way developers work. You can create database manually also. It's your choice.Now open Account Controller. Here you will see a register method whose type is post. Above this method there should be an attribute available as [ValidateAntiForgeryToken]. Comment this attribute. Now right click on register and click go to View. There again you will find an html helper as @Html.AntiForgeryToken() . Comment this one also. Run the application and click on register button. The URL will be open as:http://localhost:52269/Account/RegisterNotes- I know now the question being raised in all readers’ minds is why these two helpers need to be commented as everyone knows these are used to validate request. Then I just want to let you all know that this is just because I want to show the difference after and before applying these helpers.Now open the second application which is  Attack_Application. Then open Register method of Account Controller. Just change the POST method with the simple one shown below.Registration Form @Html.LabelFor(m => m.UserName) @Html.TextBoxFor(m => m.UserName)@Html.LabelFor(m => m.Password) @Html.PasswordFor(m => m.Password)@Html.LabelFor(m => m.ConfirmPassword) @Html.PasswordFor(m => m.ConfirmPassword) 7.Now suppose you are a hacker and you know the URL from where you can register user in CrossSite_RequestForgery application. Now you created a Forgery site as Attacker_Application and just put the same URL in post method.8.Run this application now and fill the register fields and click on register. You will see you are registered in CrossSite_RequestForgery application. If you check the database of CrossSite_RequestForgery application then you will see and entry you have entered.Important - Now open CrossSite_RequestForgery application and comment out the token in Account Controller and register the View. Try to register again with the same process. Then an error will occur as below.Server Error in '/' Application.The required anti-forgery cookie "__RequestVerificationToken" is not present.This is what the concept says. What we add in View i.e. @Html.AntiForgeryToken() generates __RequestVerificationToken on load time and [ValidateAntiForgeryToken] available on Controller method. Match this token on post time. If token is the same then it means this is a valid request.
i have weird issue mvc4 bundler including files extension min.jsin my bundleconfig class i declarepublic static void registerbundles bundlecollection bundles bundles.add new scriptbundle scripts jquery include scripts jquery-1.8.0.js include scripts jquery.tmpl.min.js my view i declare&lt html&gt lt head&gt scripts.render scripts jquery lt head&gt lt body&gt test&lt body&gt lt html&gt when renders only renders&lt html&gt lt head&gt lt script src scripts jquery-1.8.0.js gt lt script&gt lt head&gt lt body&gt test&lt body&gt lt html&gt i rename jquery.tmpl.min.js jquery.tmpl.js update path bundle accordingly both scripts rendered correctly.is some config setting causing ignore min.js files,Bundler have a lot of benefits check this page BUT:The Microsoft MVC4 Platform Considers that you have at least both minified version &amp; unminified version for each Script or Style Bundle(another files like Debug and vsdoc are available too). So We have trouble in situations that there is only one of these files.You can change debug state in web.config file permanently to handle output:&lt;compilation debug="false" targetFramework="4.0" /&gt;See the output changes! File filtering changed. To meet the purpose we must change ignore case filtration that will change application logic! 
i'm using asp.net mvc 4 webapi beta build rest service i need able accept posted images files from client applications possible using webapi below how action i am currently using does anyone know example how should work httppost public string profileimagepost httppostedfile profileimage string extensions jpg jpeg gif bmp png extensions.any x gt x.equals path.getextension profileimage.filename.tolower stringcomparison.ordinalignorecase throw new httpresponseexception invalid file type httpstatuscode.badrequest other code goes herereturn path image.png,API Controller :[HttpPost]public HttpResponseMessage Post(){   var httpRequest = System.Web.HttpContext.Current.Request;if (System.Web.HttpContext.Current.Request.Files.Count &lt; 1){//TODO}else{try{ foreach (string file in httpRequest.Files){ var postedFile = httpRequest.Files[file];BinaryReader binReader = new BinaryReader(postedFile.InputStream);byte[] byteArray = binReader.ReadBytes(postedFile.ContentLength);}}catch (System.Exception e){   //TODO}} return Request.CreateResponse(HttpStatusCode.Created);}
i am using entity framework asp.net mvc 4 build applicationmy solution split two projects class library includes my data model edmx file few custom interfacesthe container mvc project references class library abovemy problem when i attempt use myentites dbcontext i get following error connection string named myentities could found application config file.i guess problem has something do fact connection string lies within app.config class library rather than mvc project.does anyone have any suggestions,Add Connectoinstrnig in web.config file&lt;ConnectionStiring&gt; &lt;add name="dbName" Connectionstring=" include provider name too"  &gt;&lt;/ConnectionStiring&gt;
i want custom error page shown 500 404 403 here what i have done enabled custom errors web.config follows lt customerrors mode defaultredirect views shared error.cshtml gt lt error statuscode 403 redirect views shared unauthorizedaccess.cshtml gt lt error statuscode 404 redirect views shared filenotfound.cshtml gt lt customerrors&gt registered handleerrorattribute global action filter filterconfig class follows public static void registerglobalfilters globalfiltercollection filters filters.add new customhandleerrorattribute filters.add new authorizeattribute created custom error page each above messages default one 500 already available out box.declared each custom error page view model page system.web.mvc.handleerrorinfofor 500 shows custom error page others doesn't something i am missing does look like all displaying custom errors i read through code onexception method handleerrorattribute class handling only 500.what do i have do handle other errors,In web.config add this under system.webserver tag as below&lt;system.webServer&gt;&lt;httpErrors errorMode="Custom" existingResponse="Replace"&gt;  &lt;remove statusCode="404"/&gt;  &lt;remove statusCode="500"/&gt;  &lt;error statusCode="404" responseMode="ExecuteURL" path="/Error/NotFound"/&gt;  &lt;error statusCode="500" responseMode="ExecuteURL"path="/Error/ErrorPage"/&gt;&lt;/httpErrors&gt;and add a controller aspublic class ErrorController : Controller{//// GET: /Error/[GET("/Error/NotFound")]public ActionResult NotFound(){Response.StatusCode = 404;return View();}[GET("/Error/ErrorPage")]public ActionResult ErrorPage(){Response.StatusCode = 500;return View();}}and add their respected views this will work definitely I guess for all.This solution I found it from: Neptune Century
what references.js file used new asp.net mvc 4 project,MSDN documentation: JavaScript IntelliSenseIn brief _references.js stores the list of JS files paths for which you want the Visual Studio to gather and build the intelisense (aka "code complete"). The VS project adds there some common JS libraries like jQuery to build the intellisense for it. You can add a reference to your custom JS file in form like this: /// &lt;reference path="MyScriptFile.js" /&gt;
i'm getting error my project able find reference owin startup class i've even installed all owin reference packages through nuget still getting same issue i'm using visual studio 2012 mvc4 following errors occurred while attempting load app.no assembly found containing owinstartupattribute assembly found containing startup assemblyname startup class disable owin startup discovery add appsetting owin automaticappstartup value false your webconfig specify owin startup assembly class method add appsetting owin appstartup fully qualified startup class configuration method name your webconfig,In my case I logged into ftp server. Took backup of current files on ftp server. Delete all files manually from ftp server. Clean solution redeployed the code. It worked.
how does scripts.render bundles jquery differ from just referencing script from html like this&lt script src bundles jquery.js type text javascript gt lt script&gt any performance gains,You can also use:@Scripts.RenderFormat("&lt;script type=\"text/javascript\" src=\"{0}\"&gt;&lt;/script&gt;" "~/bundles/mybundle")To specify the format of your output in a scenario where you need to use Charset Type etc.
i am trying use web api httpclient do post endpoint requires login form http cookie identifies account only something ifdef'ed out release version how do i add cookie httprequestmessage,After spending hours on this issue none of the answers above helped me so I found a really useful tool.Firstly I used Telerik's Fiddler 4 to study my Web Requests in details Secondly I came across this useful plugin for Fiddler: https://github.com/sunilpottumuttu/FiddlerGenerateHttpClientCodeIt will just generate the C# code for you. An example was:var uriBuilder = new UriBuilder("test.php" "test");var httpClient = new HttpClient();var httpRequestMessage = new HttpRequestMessage(HttpMethod.Post uriBuilder.ToString());httpRequestMessage.Headers.Add("Host" "test.com");httpRequestMessage.Headers.Add("Connection" "keep-alive"); //   httpRequestMessage.Headers.Add("Content-Length" "138");httpRequestMessage.Headers.Add("Pragma" "no-cache");httpRequestMessage.Headers.Add("Cache-Control" "no-cache");httpRequestMessage.Headers.Add("Origin" "test.com");httpRequestMessage.Headers.Add("Upgrade-Insecure-Requests" "1");//httpRequestMessage.Headers.Add("Content-Type" "application/x-www-form-urlencoded");httpRequestMessage.Headers.Add("User-Agent" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML like Gecko) Chrome/69.0.3497.100 Safari/537.36");httpRequestMessage.Headers.Add("Accept" "text/htmlapplication/xhtml+xmlapplication/xml;q=0.9image/webpimage/apng*/*;q=0.8");httpRequestMessage.Headers.Add("Referer" "http://www.translationdirectory.com/");httpRequestMessage.Headers.Add("Accept-Encoding" "gzip deflate");httpRequestMessage.Headers.Add("Accept-Language" "en-GBen-US;q=0.9en;q=0.8");httpRequestMessage.Headers.Add("Cookie" "__utmc=266643403; __utmz=266643403.1537352460.3.3.utmccn=(referral)|utmcsr=google.co.uk|utmcct=/|utmcmd=referral; __utma=266643403.817561753.1532012719.1537357162.1537361568.5; __utmb=266643403; __atuvc=0%7C34%2C0%7C35%2C0%7C36%2C0%7C37%2C48%7C38; __atuvs=5ba2469fbb02458f002");var httpResponseMessage = httpClient.SendAsync(httpRequestMessage).Result;var httpContent = httpResponseMessage.Content;string result = httpResponseMessage.Content.ReadAsStringAsync().Result;Note that I had to comment out two lines as this plugin is not totally perfect yet but it did the job nevertheless.DISCLAIMER: I am not associated or endorsed by either Telerik or the plugin's author in anyway. 
i'm using datatype.date attribute my model editorfor my view working fine internet&nbsp explorer&nbsp 8 internet&nbsp explorer&nbsp 9 google chrome showing date picker instead displaying value just displays month day year faded gray text.why won't google chrome display value model datatype datatype.date public nullable&lt system.datetime gt estpurchasedate get set view lt td class fieldlabel gt est pur date&lt td&gt lt td class field gt html.editorfor m gt m.estpurchasedate lt td&gt,If you need to have control over the format of the date (in other words not just the yyyy-mm-dd format is acceptable) another solution could be adding a helper property that is of type string and add a date validator to that property and bind to this property on UI.[Display(Name = "Due date")][Required][AllowHtml][DateValidation]public string DueDateString { get; set; }public DateTime? DueDate {get{return string.IsNullOrEmpty(DueDateString) ? (DateTime?)null : DateTime.Parse(DueDateString);}set{DueDateString = value == null ? null : value.Value.ToString("d");}}And here is a date validator:[AttributeUsage(AttributeTargets.Property AllowMultiple = true Inherited = true)]public class DateValidationAttribute : ValidationAttribute{public DateValidationAttribute(){}protected override ValidationResult IsValid(object value ValidationContext validationContext){if (value != null){DateTime date;if (value is string){if (!DateTime.TryParse((string)value out date)){return new ValidationResult(validationContext.DisplayName + " must be a valid date.");}}elsedate = (DateTime)value;if (date &lt; new DateTime(1900 1 1) || date &gt; new DateTime(3000 12 31)){return new ValidationResult(validationContext.DisplayName + " must be a valid date.");}}return null;}}
i have some concerns using async actions asp.net mvc when does improve performance my apps when does good use async action everywhere asp.net mvc regarding awaitable methods shall i use async await keywords when i want query database via ef nhibernate other orm how many times can i use await keywords query database asynchronously one single action method,  Is it good to use async action everywhere in ASP.NET MVC?It's good to do so wherever you can use an async method especially when you have performance issues at the worker process level which happens for massive data and calculation operations. Otherwise no need because unit testing will need casting.  Regarding awaitable methods: shall I use async/await keywords when I  want to query a database (via EF/NHibernate/other ORM)?Yes it's better to use async for any DB operation as could as possible to avoid performance issues at the level of worker processes. Note that EF has created many async alternatives for most operations such as:.ToListAsync().FirstOrDefaultAsync().SaveChangesAsync().FindAsync()  How many times can I use await keywords to query the database  asynchronously in one single action method?The sky is the limit
i have debug true both my web.config s i just don't want my bundles minified nothing i do seems disable i've tried enableoptimisations false here my code javascriptbundles.add new scriptbundle bundles mainjs include scripts regular lib mvc jquery.validate.unobtrusive.js include scripts regular lib mvc jquery.validate include scripts regular lib bootstrap.js includedirectory scripts regular modules js true includedirectory scripts regular pages js true includedirectory scripts regular misc js true cssbundles.add new stylebundle bundles maincss include content css regular lib bootstrap.css includedirectory content css regular modules css true includedirectory content css regular pages css true,This may become useful to someone in the future as the new framework when setup through VS gets a default web.config web.Debug.config and web.Release.config. In the web.release.config you will find this line:&lt;compilation xdt:Transform="RemoveAttributes(debug)" /&gt;this was seeming to override any inline changes I made. I commented this line out and we were gravy (in terms of seeing non-minified code in a "release" build)
my win 7 development machine order use sql express instance instead localdb installed default i unchecked use iis express my mvc 4 project properties page web tab i got following error asp.net 4.5 has been registered web server you need manually configure your web server asp.net 4.5 order your site run correctly.i verified asp.net activated within iis features.please what could done resolve,tl;dr; Clicking OK is the workaround everything will work fine after that.I also received this error message.  Configuring Web http://localhost:xxxxx/ for ASP.NET 4.5 failed. You must manually configure this site for   ASP.NET 4.5 in order for the site to run correctly. ASP.NET 4.0 has not been registered on the Web server.   You need to manually configure your Web server for ASP.NET 4.0 in order for your site to run correctly.Environment: Windows 10 IIS8 VS 2012 Web.After finding this page along with several seemingly invasive solutions I read through the hotfix option at https://support.microsoft.com/en-us/help/3002339/unexpected-dialog-box-appears-when-you-open-projects-in-visual-studio as suggested here.Please avoid doing anything too drastic and note the section of that page marked "Workaround" as shown below:  WorkaroundTo work around this issue click OK when the dialog box appears after you either create a new project or open an existing Web Site Project or Windows Azure project. After you do this the project works as expected.In other words click OK on the dialog box one time and the message is gone forever. The project will work just fine. 
i have test class below i have posted sample test from test classnamespace adminportal.tests.controller test.customer testclass public class businessunitcontrollertests private ibusinessunitrepository mockbusinessunitrepository private businessunitcontroller controller testinitialize public void testinitialize mockbusinessunitrepository mockrepository.generatemock lt ibusinessunitrepository&gt controller new businessunitcontroller mockbusinessunitrepository testcleanup public void testcleanup mockbusinessunitrepository null controller.dispose controller null region index action tests testmethod public void index action calls getallbusinessunit mockbusinessunitrepository.stub x gt x.getallbusinessunit controller.index mockbusinessunitrepository.assertwascalled x gt x.getallbusinessunit when i run project i get following screeni checked references test project has reference main project.any idea why test running saying were inconclusive edit 1 i saw post here changed my test setting default processor architecture x64 still doesn't work,For me one test created this error and it turned out I had unintentionally skipped the test.  On the left of the screen where you click to put a break point you may notice that your test is set to be skipped (there's a microsoft icon to indicate this).  I enabled the test and the error went away.
after significant refactoring my mvc 4 application razor shows error while debugging views name model does exist current context.this offending line code model icollection&lt datasourcebyactive&gt i know usage model correct.why happening how can i fix,In my case I removed web.config file from Views folder by accident. I added it back  and it was OK.
i've upgraded vs.net 2013 now every time i start debug asp.net mvc4 app iis some how vwd js artery created script interfering my requirejs setup crashes jquery reference does anyone know how can i get rid script vwd js arterywindow.vwdtempjquery window.jquery window window.jquery window null window.vwdtempjson window.json jquery v1.8.2 jquery.com jquery.org license restore original jquery references.window.jquery window window.vwdtempjquery window.vwdtempjquery null restore original json.if window.json window.vwdtempjson window.json window.vwdtempjson le has been fixed visual studio 2013 rtm,I found that it was still running until I actually added a value for it in the Web.config appSettings to turn it off.&lt;add key="vs:EnableBrowserLink" value="false" /&gt;
i'm working asp.net mvc 4 webapi am having lot fun running my local computer iis express i've configured iis express serve remote machines too so other my company using my computer our webserver after deciding less than optimal solution we decided put webapi remote server after installing net 45 when i use fiddler sent post controller my local machine returns correct response yet when i change domain webserver running iis7 same post returns cryptic message error has occurred message anyone have any idea what could going,My swagger XML file was not deployed into \bin:GlobalConfiguration.Configuration  .EnableSwagger(c =&gt;  {c.SingleApiVersion("v1" "SwaggerDemoApi");c.IncludeXmlComments(string.Format(@"{0}\bin\SwaggerDemoApi.XML"  System.AppDomain.CurrentDomain.BaseDirectory));c.DescribeAllEnumsAsStrings();  })http://wmpratt.com/swagger-and-asp-net-web-api-part-1/It had to be set in the Release Configuration as well as in the Debug Configuration.
mvc 4 we have bundles while defining bundles we can use wildcards like all files folder.in example below what does version mean public static void registerbundles bundlecollection bundles bundles.add new scriptbundle bundles jquery include scripts jquery version js,~/Scripts/jquery-{version}.js is included in it. Here bundling system is smart enough to reference the highest version of jquery file when we specified {version} selector in the path. Also this bundling system is smart enough to pick the minified version of the file if available at the defined path.
i am runing app app harbor written mvc4.a bundle css files doesnt work my local computer debug mode i see code app i see files app works expected lt link href content css home basic jquery slider.css rel stylesheet gt lt link href content css home home.css rel stylesheet gt when i upload app appharbor i see bundle code app doesnt work lt link href content css home v zhvoipunuvcozhjybcqwpmlozayor4te6k-pm29whqi1 rel stylesheet gt when i browse link href i get 403 forbidden access denied.how troubleshoot,I found out the file bootstrap.css wasn't in the content folder so I looked for it in the packages and pasted there.. it worked!
i am working creating new set services asp.mvc mvc 4 using web api so far great i have created service gotten work now i am trying consume using jquery i can get back json string using fiddler seems ok because service exists separate site trying call jquery errors allowed so clearly case where i need use jsonp.i know web api new i'm hoping someone out can help me.how do i make call web api method using jsonp,We can solve CORS(Cross-origin resource sharing)issue using two ways1)Using Jsonp2)Enabling the Cors1)Using Jsonp-  to use the Jsonp we need to install WebApiContrib.Formatting.Jsonp nuget packageand need to add JsonpFormmater in WebApiConfig.cs refer screenshotsJquery code2)Enabling the Cors - to enable the cors we need to add Microsoft.AspNet.WebApi.Cors nuget package and need to enable cors in WebApiConfig.cs refer screenshotFor more reference you can refer my sample repo on GitHub using the following link.https://github.com/mahesh353/Ninject.WebAPi/tree/develop
i have link like lt href member memberhome profile id gt lt span&gt profile&lt span&gt lt a&gt when i click call partial page switch string viewbag.details case profile html.partial profile break partial page profile contains html.action action controller model.paramter example html.action memberprofile member new id 1 id always changingmy doubt how can i pass id model.parameter part my controllers public actionresult memberhome string id viewbag.details id return view public actionresult memberprofile int id 0 memberdata md new member getmemberprofile id return partialview profilepage md,Here is an extension method that will convert an object to a ViewDataDictionary.public static ViewDataDictionary ToViewDataDictionary(this object values){var dictionary = new ViewDataDictionary();foreach (PropertyDescriptor property in TypeDescriptor.GetProperties(values)){dictionary.Add(property.Name property.GetValue(values));}return dictionary;}You can then use it in your view like so:@Html.Partial("_MyPartial" new{Property1 = "Value1"Property2 = "Value2"}.ToViewDataDictionary())Which is much nicer than the new ViewDataDictionary { { "Property1" "Value1" }  { "Property2" "Value2" }} syntax.Then in your partial view you can use ViewBag to access the properties from a dynamic object rather than indexed properties e.g.&lt;p&gt;@ViewBag.Property1&lt;/p&gt;&lt;p&gt;@ViewBag.Property2&lt;/p&gt;
i have small mvc app i use practice reasons now i am encountering error every time i try debug could load file assembly system.net.http.formatting one its dependencies system cannot find path specified.i ve googled cannot find solution i'm using net 4.5.it can't dll file because i'm using net 45,What I did to solve this problem isGo to NuGet package manager.Select Updates (from the left panel)Update WebApi componentsAfter that the project ran without errors.
i am using membership.create user function following error occurring required anti forgery form field requestverificationtoken presenthow can i fix,i'd like to share mine i have been following this anti forgerytoken tutorial using asp.net mvc 4 with angularjs but it throws an exception everytime i request using $http.post and i figured out the solution is just add'X-Requested-With': 'XMLHttpRequest' to the headers of $http.post because it seems like the (filterContext.HttpContext.Request.IsAjaxRequest())does not recognize it as ajax and here is my example code.App.jsvar headers = {'X-Requested-With': 'XMLHttpRequest''RequestVerificationToken': $scope.token'Content-Type': 'application/json; charset=utf-8;'};$http({  method: 'POST'  url: baseURL + 'Save/User'  data: JSON.stringify($scope.formData)  headers: headers}).then(function (values) { alert(values.data);}).catch(function (err) {console.log(err.data);});SaveController[HttpPost]  [MyValidateAntiForgeryToken]  public ActionResult User(UserModel usermodel)  { ....
while microsoft has created some automagic rendering html attributes razor mvc4 took me quite some time find out how render second css class element based conditional razor expression i would like share you.based model property model.details i want show hide list item details div should shown otherwise should hidden using jquery all i need do add class show hide respectively other purposes i also want add another class details so my mark up should lt div class details show gt details lt div&gt lt div class details hide gt details lt div&gt below i show some failed attempts resulting mark up assuming details lt div model.details.count gt 0 class details show class details hide gt render lt div class details hide gt lt div model.details.count gt 0 class details show class details hide gt render lt div class details hide&amp quot gt lt div model.details.count gt 0 class details show class details hide gt render lt div class details hide&amp 39 gt none correct mark up,You can use String.Format function to add second class based on condition:&lt;div class="@String.Format("details {0}" Details.Count &gt; 0 ? "show" : "hide")"&gt;
i need call controller b action fileuploadmsgview from controller need pass parameter code its going controller b fileuploadmsgview controllera private void test try some codes hereviewbag.fileuploadmsg file uploaded successfully viewbag.fileuploadflag 2 redirecttoaction b fileuploadmsgview new fileuploadmsg file uploaded successfully controllerb receiving part public actionresult fileuploadmsgview string fileuploadmsg return view,If anyone is looking at how to do this in .net core I accomplished it by adding the controller in startup services.AddTransient&lt;MyControllerIwantToInject&gt;();Then Injecting it into the other controller public class controllerBeingInjectedInto : ControllerBase{private readonly MyControllerIwantToInject _myControllerIwantToInject public controllerBeingInjectedInto(MyControllerIwantToInject myControllerIwantToInject){   _myControllerIwantToInject = myControllerIwantToInject;  }Then just call it like so _myControllerIwantToInject.MyMethodINeed();
i am using net mvc4 web api hopefully implement restful api i need pass few parameters system have perform some action return list objects results specifically i am passing two dates returning records fall between them i'm also keeping track records returned so subsequent calls do get reprocessed system.i ve considered few approaches serializing params one single json string picking apart api.http forums.asp.net t/1807316.aspx/1pass params query string.what best way pass multiple query parameters restful api defining params route api controller/date1/date2using post inherently lets me pass object params.researching odata since web api currently supports i haven't done much yet so i'm very familiar it.it seems proper rest practices indicate when data pulled you should use get however get should also nullipotent produces side effects i wonder my specific implementation violates since i mark records api system hence i am producing side effects.it also led me question supporting variable parameters input parameter list changes would tedious have re define your route choice 3 happens lot what might happen parameters defined run time any case my specific implementation which choice any seems best,I know this is really old but I wanted the same thing recently and here's what I found...public HttpResponseMessage Get([FromUri] string var [FromUri] string test) {var retStr = new HttpResponseMessage(HttpStatusCode.OK);if (var.ToLower() == "getnew" &amp;&amp; test.ToLower() == "test") {retStr.Content = new StringContent("Found Test" System.Text.Encoding.UTF8 "text/plain");} else {retStr.Content = new StringContent("Couldn't Find that test" System.Text.Encoding.UTF8 "text/plain");}return retStr;}So now in your address/URI/...http(s)://myURL/api/myController/?var=getnew&amp;test=testResult: "Found Test"http(s)://myURL/api/myController/?var=getnew&amp;test=anythingResult: "Couldn't Find that test"
am i only one who installed windows update 8.1 october 15 suddenly mvc stop working because warning warning1 could resolve reference could locate assembly system.web.mvc version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 processorarchitecture msil check make sure assembly exists disk reference required your code you may get compilation errors.it seems windows update installs newer version mvc version number 4.0.0.1 removes old version from program files folder.someone know how fix without crawling each project,If you are still getting the same error after trying @Krzysztof solution or any of the other answers above one work around that might work for you is to uninstall MVC Runtime 4.0
just upgraded asp.net mvc4 project use unity.webapi version 5.0.0.0 requires system.web.http v 5.0.0.0 per following error assembly unity.webapi version 5.1.0.0 culture neutral publickeytoken 43da31bc42a85347 uses system.web.http version 5.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 which has higher version than referenced assembly system.web.http version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 i am currently referencing system.web.http v4.0 have following nuget packages upgraded respective latest versions antlrv3microsoft asp.net universal providers microsoft.web.infrastructure microsoft asp.net mvc microsoft asp.net razor microsoft asp.net universal providers core librariesmicrosoft asp.net universal providersmicrosoft asp.net web api 2 clientmicrosoft asp.net web api 2 core microsoft asp.net web api 2 web hostmicrosoft asp.net web api 2microsoft asp.net web pagemicrosoft.web.infrastructurewebgrease via nuget i have listed relevant javascript libraries micrososft.jquery.unobtrusive validation etc what nuget package upgrade system.web.http do i have do manually,I have several projects in a solution.  For some of the projects I previously added the references manually.  When I used NuGet to update the WebAPI package those references were not updated automatically.  I found out that I can either manually update those reference so they point to the v5 DLL inside the Packages folder of my solution or do the following. Go to the "Manage NuGet Packages" Select the Installed Package "Microsoft ASP.NET Web API 2.1"Click Manage and check the projects that I manually added before.
answer my second question winter.preface i've been doing lot research entity framework recently something keeps bothering me its performance when queries warmed up so called cold queries i went through performance considerations article entity framework 50 authors introduced concept warm cold queries how differ which i also noticed myself without knowing existence here probably worth mention i only have six months experience behind my back.now i know what topics i can research additionally i want understand framework better terms performance unfortunately most information internet outdated bloated subjectivity hence my inability find any additional information warm vs cold queries topic.basically what i've noticed so far whenever i have recompile recycling hits my initial queries getting very slow any subsequent data read fast subjective expected.we ll migrating windows server 2012 iis8 sql server 2012 junior i actually won myself opportunity test them before rest i'm very happy introduced warming up module get my application ready first request however i'm sure how proceed warming up my entity framework.what i already know worth doing generate my views advance suggested.eventually move my models separate assembly.what i consider doing going common sense probably wrong approach doing dummy data reads application start order warm thingsup generate validate models.questions what would best approach have high availability my entity framework anytime what cases does entity framework gets cold again recompilation recycling iis restart etc,I have no experience in this framework. But in other contexts e.g. Solr completely dummy reads will not be of much use unless you can cache the whole DB (or index).A better approach would be to log the queries extract the most common ones out of the logs and use them to warm up. Just be sure not to log the warm up queries or remove them from the logs before proceeding.
i have model public class dbuserrole public int userroleid get set public string userrole get set public class dbuserroles public list&lt dbuserrole&gt getroles bugnetreports roledropdown new bugnetreports list&lt dbuserrole&gt roles new list&lt dbuserrole&gt dataset table roledropdown.userroledropdown foreach datarow item table.tables 0 rows dbuserrole ur new dbuserrole ur.userrole convert.tostring item userrolename ur.userroleid convert.toint32 item userroleid roles.add ur return roles here controller loads view get admin addnewuserpublic actionresult addnewuser dbuserroles roles new dbuserroles return view roles.getroles i can get items list display using foreach loop shown below foreach var item model lt tr&gt lt td&gt item.userroleid lt td&gt lt td&gt item.userrole lt td&gt lt tr&gt how do i populate dropdownlist model passed through i have tried html.dropdownlistfor x gt x.userrole i'm having luck,@model AdventureWork.CRUD.WebApp4.Models.EmployeeViewModel@{ViewBag.Title = "Detalle";Layout = "~/Views/Shared/_Layout.cshtml";}&lt;h2&gt;Ingresar Usuario&lt;/h2&gt;@using (Html.BeginForm()){@Html.AntiForgeryToken()&lt;div class="form-horizontal"&gt;&lt;hr /&gt;@Html.ValidationSummary(true "" new { @class = "text-danger" })&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.PersonType labelText: "Tipo de Persona" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.DropDownListFor(model =&gt; model.Employee.PersonType new List&lt;SelectListItem&gt;   {   new SelectListItem{ Text= "SC" Value = "SC" }   new SelectListItem{ Text= "VC" Value = "VC" }  new SelectListItem{ Text= "IN" Value = "IN" }   new SelectListItem{ Text= "EM" Value = "EM" }new SelectListItem{ Text= "SP" Value = "SP" }   } htmlAttributes: new { @class = "form-control" })@Html.ValidationMessageFor(model =&gt; model.Employee.PersonType "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.EmployeeGender labelText: "Genero" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.DropDownListFor(model =&gt; model.Employee.EmployeeGender new List&lt;SelectListItem&gt;   {   new SelectListItem{ Text= "Masculino" Value = "M" }   new SelectListItem{ Text= "Femenino" Value = "F" }   } htmlAttributes: new { @class = "form-control" })@Html.ValidationMessageFor(model =&gt; model.Employee.EmployeeGender "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.PersonTitle labelText: "Titulo" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.PersonTitle new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.Employee.PersonTitle "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.PersonFirstName labelText: "Primer Nombre" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.PersonFirstName new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.Employee.PersonFirstName "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.PersonMiddleName labelText: "Segundo Nombre" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.PersonMiddleName new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.Employee.PersonMiddleName "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.PersonLastName labelText: "Apellido" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.PersonLastName new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.Employee.PersonLastName "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.PersonSuffix labelText: "Sufijo" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.PersonSuffix new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.Employee.PersonSuffix "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.DepartmentID labelText: "Departamento" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.DropDownListFor(model =&gt; model.Employee.DepartmentID new SelectList(Model.ListDepartment "DepartmentID" "DepartmentName") htmlAttributes: new { @class = "form-control" })@Html.ValidationMessageFor(model =&gt; model.Employee.DepartmentID "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.EmployeeMaritalStatus labelText: "Estado Civil" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.DropDownListFor(model =&gt; model.Employee.EmployeeMaritalStatus new List&lt;SelectListItem&gt;   {   new SelectListItem{ Text= "Soltero" Value = "S" }   new SelectListItem{ Text= "Casado" Value = "M" }   } htmlAttributes: new { @class = "form-control" })@Html.ValidationMessageFor(model =&gt; model.Employee.EmployeeMaritalStatus "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.ShiftId labelText: "Turno" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.DropDownListFor(model =&gt; model.Employee.ShiftId new SelectList(Model.ListShift "ShiftId" "ShiftName") htmlAttributes: new { @class = "form-control" })@Html.ValidationMessageFor(model =&gt; model.Employee.ShiftId "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.EmployeeLoginId labelText: "Login" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.EmployeeLoginId new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.Employee.EmployeeLoginId "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.EmployeeNationalIDNumber labelText: "Identificacion Nacional" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.EmployeeNationalIDNumber new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.Employee.EmployeeNationalIDNumber "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.EmployeeJobTitle labelText: "Cargo" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.EmployeeJobTitle new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.Employee.EmployeeJobTitle "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.EmployeeBirthDate labelText: "Fecha Nacimiento" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.EmployeeBirthDate new { htmlAttributes = new { @class = "form-control datepicker" } })@Html.ValidationMessageFor(model =&gt; model.Employee.EmployeeBirthDate "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.Employee.EmployeeSalariedFlag labelText: "Asalariado" htmlAttributes: new { @class = "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.Employee.EmployeeSalariedFlag new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.Employee.EmployeeSalariedFlag "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;&lt;div class="col-md-offset-2 col-md-10"&gt;&lt;input type="submit" value="Guardar" class="btn btn-default" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;&lt;div class="col-md-offset-2 col-md-10" style="color:green"&gt;@ViewBag.Message&lt;/div&gt;&lt;div class="col-md-offset-2 col-md-10" style="color:red"&gt;@ViewBag.ErrorMessage&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;}
i need control access views based users privilege levels roles only privilege levels crud operation levels assigned users my mvc 4 application example below authorizeuser my custom attribute i need use like authorizeuser accesslevels read invoice update invoice public actionresult updateinvoice int invoiceid some code return view authorizeuser accesslevels create invoice public actionresult createnewinvoice some code return view authorizeuser accesslevels delete invoice public actionresult deleteinvoice int invoiceid some code return view possible do way,If you use the WEB API with Claims you can use this:[AttributeUsage(AttributeTargets.Method | AttributeTargets.Class Inherited = true AllowMultiple = true)]public class AutorizeCompanyAttribute:  AuthorizationFilterAttribute{public string Company { get; set; }public override void OnAuthorization(HttpActionContext actionContext){var claims = ((ClaimsIdentity)Thread.CurrentPrincipal.Identity);var claim = claims.Claims.Where(x =&gt; x.Type == "Company").FirstOrDefault();string privilegeLevels = string.Join("" claim.Value);if (privilegeLevels.Contains(this.Company)==false){actionContext.Response = actionContext.Request.CreateResponse(HttpStatusCode.Unauthorized "Usuario de Empresa No Autorizado");}}}[HttpGet][AutorizeCompany(Company = "MyCompany")][Authorize(Roles ="SuperAdmin")]public IEnumerable MyAction(){....}
i'm building single page application experiencing issue anti forgery tokens.i know why issue happens i just don't know how fix it.i get error when following happens non logged user loads dialog generated anti forgery token user closes dialoguser logs inuser opens same dialog user submits form dialog anti forgery token meant user current user username reason happens because my application 100 single page when user successfully logs through ajax post account jsonlogin i simply switch out current views authenticated views returned from server do reload page.i know reason because i simple reload page between steps 3 4 error.so seems html.antiforgerytoken loaded form still returns token old user until page reloaded.how can i change html.antiforgerytoken return token new authenticated user i inject new genericalprincipal custom iidentity every application authenticaterequest so time html.antiforgerytoken gets called httpcontext.current.user.identity fact my custom identity isauthenticated property set true yet html.antiforgerytoken still seems render token old user unless i do page reload,Has a problem with anti-forgery-token validation in internet-shop: users open many tabs (with goods) and after logged in on one try to log in on another and got such AntiForgeryException.So AntiForgeryConfig.SuppressIdentityHeuristicChecks = true didn't help for me so I used such ugly hackfix maybe it will be helpful for someone:   public class ExceptionPublisherExceptionFilter : IExceptionFilter{public void OnException(ExceptionContext exceptionContext){var exception = exceptionContext.Exception;var request = HttpContext.Current.Request;if (request != null){if (exception is HttpAntiForgeryException &amp;&amp;exception.Message.ToLower().StartsWith("the provided anti-forgery token was meant for user \"\" but the current user is")){var isAjaxCall = string.Equals("XMLHttpRequest" request.Headers["x-requested-with"] StringComparison.OrdinalIgnoreCase);var returnUrl = !string.IsNullOrWhiteSpace(request["returnUrl"]) ? request["returnUrl"] : "/";var response = HttpContext.Current.Response;if (isAjaxCall){response.Clear();response.StatusCode = 200;response.ContentType = "application/json; charset=utf-8";response.Write(JsonConvert.SerializeObject(new { success = 1 returnUrl = returnUrl }));response.End();}else{response.StatusCode = 200;response.Redirect(returnUrl);}}}ExceptionHandler.HandleException(exception);}}public class FilterConfig{public static void RegisterGlobalFilters(GlobalFilterCollection filters){filters.Add(new ExceptionPublisherExceptionFilter());filters.Add(new HandleErrorAttribute());}}Think it will be great if anti-forgery-token generation options can be set to exclude username or something like that.
i have problem like server system.web.webpages.razor.configuration.hostsection cannot cast b systemwebwebpagesrazorconfigurationhostsection type originates from system.web.webpages.razor version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c windows microsoft.net assembly gac msil system.web.webpages.razor v4.0_2.0.0.0 31bf3856ad364e35 system.web.webpages.razor.dll type b originates from system.web.webpages.razor version 1.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c windows microsoft.net assembly gac msil system.web.webpages.razor v4.0_1.0.0.0 31bf3856ad364e35 system.web.webpages.razor.dll description unhandled exception occurred during execution current web request please review stack trace more information about error where originated code exception details system.invalidcastexception system.web.webpages.razor.configuration.hostsection cannot cast b systemwebwebpagesrazorconfigurationhostsection type originates from system.web.webpages.razor version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c windows microsoft.net assembly gac msil system.web.webpages.razor v4.0_2.0.0.0 31bf3856ad364e35 system.web.webpages.razor.dll type b originates from system.web.webpages.razor version 1.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c windows microsoft.net assembly gac msil system.web.webpages.razor v4.0_1.0.0.0 31bf3856ad364e35 system.web.webpages.razor.dll source error i have installed mvc 3 serer my computer i have tried replacing 15 days old codebase same problem exist.now i want solve do someone know how i can fix,Another way to fix this without having to update references  is this  &lt;runtime&gt;&lt;assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1"&gt;  &lt;dependentAssembly&gt;&lt;assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" /&gt;&lt;bindingRedirect oldVersion="1.0.0.0-5.0.0.0" newVersion="3.0.0.0" /&gt;  &lt;/dependentAssembly&gt;  &lt;dependentAssembly&gt;&lt;assemblyIdentity name="System.Web.Pages.Razor" publicKeyToken="31bf3856ad364e35" culture="neutral" /&gt;&lt;bindingRedirect oldVersion="0.0.0.0-3.2.0.0" newVersion="1.0.0.0" /&gt;  &lt;/dependentAssembly&gt;&lt;/assemblyBinding&gt;  &lt;/runtime&gt;
i have apicontroller serves xml json i would like one my actions return pure html i tried below still return xml json.public string get return lt strong&gt test&lt strong&gt what above returns lt string xmlns http schemas.microsoft.com 2003/10/serialization gt amp lt strong&amp gt test&amp lt strong&amp gt lt string&gt way return just pure unescaped text without even surrounding xml tags maybe different return type action attribute,We must strive not to return html but pure data from our API's and format data accordingly in the UI but maybe you can use:return this.Request.CreateResponse(HttpStatusCode.OK  new{content=YourStringContent})it works for me
asp.net mvc we have url.action actions something similar like url.api which would route api controller,Here is the KISS method for answering the question:If this is the code that you would use to create a MVC controller URL @Url.Action("Edit" "MyController")In order to get a URL for the API version of the controller (assuming you use the same controller name) you can use@Url.Action("Edit" "api/MyController")All the Url.Action method is doing is appending the root path of the application with the controller name followed by the action name (unless it is "Index" in which case it is not appended.  if the route values object has an id property the value is also appended to the URL. 
i'm working asp.net mvc 4 app app has basic form model my form looks like following public class mymodel public string name get set public bool remember get set my form i have following html lt input id name name name type text value model.name gt lt input id remember name remember type checkbox value model.remember gt lt label remember gt amp nbsp remember me lt label&gt when i post form remember value model always false however name property model has value i've tested setting breakpoint following httppost public actionresult myaction mymodel model console.writeline model.remember.tostring i can't figure out why isn't checkbox value getting set,If working with FormCollection rather than model the assignment can be as simple as:MyModel.Remember = fields["Remember"] != "false";
i have website which have layout page however layout page have data which all pages model must provide page title page name location where we actually html helper i did which perform some action also each page have own view models properties.how can i do seems its bad idea type layout how do i pass theses infos,It's incredible that nobody has said this over here. Passing a viewmodel through a base controller is a mess. We are using user claims to pass info to the layout page (for showing user data on the navbar for example).There is one more advantage. The data is stored via cookies so there is no need to retrieve the data in each request via partials.Just do some googling "asp net identity claims".
i can't believe i cannot find other questions about how does one enable bundling debug mode i know how enabled release mode debug mode i cannot find way enable bundling.is even possible am i missing something,In Global.asax add BundleConfig.RegisterBundles(BundleTable.Bundles);  protected void Application_Start(){AreaRegistration.RegisterAllAreas();WebApiConfig.Register(GlobalConfiguration.Configuration);FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);RouteConfig.RegisterRoutes(RouteTable.Routes);BundleConfig.RegisterBundles(BundleTable.Bundles); // add this}
after installing asp.net web tools 2015 rc1 update 1 i get following error within asp.net mvc 4 projects when opening cshtml files object reference set instance objecti get same error message even i start new asp.net mvc 4 project try open cshtml file,Problem: My VS 2015 was throwing up error after I installed SSDT. Whenever I clicked on Tools >> Extensions and Update it was throwing "Object reference not set to an instance of an object" error. When I tried to open a solution it threw some provider not set correctly. Solution:After many hours of research trying out all the solutions previously mentioned by others didn't solve my problem. Every time the error popup was pointing to check the ActivityLog.xml. But I was ignoring it. After hours of frustration I decided to read the error carefully and looked into ActivitLog.xml and found that it was looking for "Could not load file or assembly &apos;System.Collections.Immutable Version=1.1.37.0". So I just started searching for this assembly and stumbled upon this link https://sergeytihon.com/2015/12/01/how-to-restore-viual-studio-2015-after-update-1-dependency-dance/and followed the steps there which fixed my issue.Went into %LOCALAPPDATA%/Local\Microsoft\VisualStudio\14.0\devenv.exe.config and searched for "System.Collections.Immutable" and change newVersion from 1.1.36.0 to 1.1.37.0Final config should look like this&lt;dependentAssembly&gt; &lt;assemblyIdentity name="System.Collections.Immutable" publicKeyToken="b03f5f7f11d50a3a" culture="neutral"/&gt; &lt;bindingRedirect oldVersion="1.0.27.0-1.1.65535.65535" newVersion="1.1.37.0"/&gt;&lt;/dependentAssembly&gt;
i just published my project my host arvixe get error works fine local server error application.directory does exist.parameter name directoryvirtualpathdescription unhandled exception occurred during execution current web request please review stack trace more information about error where originated code exception details system.argumentexception directory does exist.parameter name directoryvirtualpathsource error unhandled exception generated during execution current web request information regarding origin location exception can identified using exception stack trace below.stack trace argumentexception directory does exist.parameter name directoryvirtualpath system.web.optimization.bundle.includedirectory string directoryvirtualpath string searchpattern boolean searchsubdirectories 357 system.web.optimization.bundle.include string virtualpaths 287 iconbench.bundleconfig.registerbundles bundlecollection bundles 75 iconbench.mvcapplication.application start 128 httpexception 0x80004005 directory does exist.parameter name directoryvirtualpath system.web.httpapplicationfactory.ensureappstartcalledforintegratedmode httpcontext context httpapplication app 9160125 system.web.httpapplication.registereventsubscriptionswithiis intptr appcontext httpcontext context methodinfo handlers 131 system.web.httpapplication.initspecial httpapplicationstate state methodinfo handlers intptr appcontext httpcontext context 194 system.web.httpapplicationfactory.getspecialapplicationinstance intptr appcontext httpcontext context 339 system.web.hosting.pipelineruntime.initializeapplication intptr appcontext 253 httpexception 0x80004005 directory does exist.parameter name directoryvirtualpath system.web.httpruntime.firstrequestinit httpcontext context 9079228 system.web.httpruntime.ensurefirstrequestinit httpcontext context 97 system.web.httpruntime.processrequestnotificationprivate iis7workerrequest wr httpcontext context 256version information microsoft net framework version 4.0.30319 asp.net version 4.0.30319.237what does mean,Files that are running your application are missing. Try building and re-uploading your project. Or if you have a backup try returning from backup. Will solve the problem
i appreciate any help site supposed go live tonight i have web api controller delete method method executes fine my local machine running iis express windows 8 soon i deployed live iis server windows server 2008 r2 stopped working throws following error message http error 405.0 method allowedthe page you looking cannot displayed because invalid method http verb being usedi have looked around web solutions i implemented most reasonable ones my web config has following settings lt system.webserver gt lt validation validateintegratedmodeconfiguration false gt lt handlers&gt lt remove name extensionlessurlhandler isapi-4.0_32bit gt lt remove name extensionlessurlhandler isapi-4.0_64bit gt lt remove name extensionlessurlhandler integrated-4.0 gt lt add name extensionlessurlhandler isapi-4.0_32bit path verb getheadpostdebugputdeletepatchoptions modules isapimodule scriptprocessor windir microsoft.net framework v4.0.30319 aspnet isapi.dll precondition classicmoderuntimeversionv4.0bitness32 responsebufferlimit 0 gt lt add name extensionlessurlhandler isapi-4.0_64bit path verb getheadpostdebugputdeletepatchoptions modules isapimodule scriptprocessor windir microsoft.net framework64 v4.0.30319 aspnet isapi.dll precondition classicmoderuntimeversionv4.0bitness64 responsebufferlimit 0 gt lt add name extensionlessurlhandler integrated-4.0 path verb getheadpostdebugputdeletepatchoptions type system.web.handlers.transferrequesthandler precondition integratedmoderuntimeversionv4.0 gt lt handlers&gt lt system.webserver gt i have also tried change handler mappings request filtering iis avail please note webdav authoring rules iis seems disabled.any ideas greatly appreciatedthanks,We had to add custom headers to our web.config as our request had multiple headers that confused the API response.&lt;httpProtocol&gt;&lt;customHeaders&gt;&lt;remove name="Access-Control-Allow-Methods" /&gt;&lt;remove name="Access-Control-Allow-Origin" /&gt;&lt;remove name="Access-Control-Allow-Headers" /&gt;&lt;/customHeaders&gt;&lt;/httpProtocol&gt;
i am new asp.net mvc i have used php before easy create session select user records based current session variables i have looked everywhere internet simple step step tutorial can show me how create use sessions my c asp.net mvc 4 application i want create session user variables i can access from anywhere my controllers able use variables my linq queries thanks advance,You can store any kind of data in a session using:Session["VariableName"]=value;This variable will last 20 mins or so.
how do i set default controller my asp.net mvc 4 project without making homecontroller how should i setup default area when application starts,In case you have only one controller and you want to access every action on root you can skip controller name like thisroutes.MapRoute("Default" "{action}/{id}" new { controller = "Home" action = "Index" id = UrlParameter.Optional });
i'm very new asp.net 4.0 web api can we redirect another url end post action something like response.redirect url actually i upload file from mvc application say www.abcmvc.com through web api say www.abcwebapi.com upload here upload post action i post multi part form web api upload controller post action after uploading i would like redirect back wwwabcmvccom possible,You can check this[Route("Report/MyReport")]public IHttpActionResult GetReport(){   string url = "https://localhost:44305/Templates/ReportPage.html";   System.Uri uri = new System.Uri(url);   return Redirect(uri);}
i created mvc4 web api project using vs2012 i used following tutorial solve cross origin resource sharing http blogs.msdn.com b carlosfigueira archive/2012/07/02/cors support asp net web api rc version.aspx working successfully i post data from client side server successfully.after implementing autherization my project i used following tutorial implement oauth2 http community.codesmithtools.com codesmith community b tdupont archive/2011/03/18/oauth-2-0 mvc two legged implementation.aspx help me getting requesttoken client side.but when i post data from client side i got error xmlhttprequest cannot load http request header field content type allowed access control allow headers my client side code look like function postlogin var emp emp.username txtusername val var pass txtpassword val var hash sha1 requesttoken pass txtpassword val hash emp.password hash emp.requesttoken requesttoken var createurl http localhost 54/api login ajax type post url createurlcontenttype application json charset utf-8 data json.stringify emp statuscode 200 function txtmsg val done toastr.success success error function res toastr.error error sorry either your username password incorrect my api controller look like allowanonymous httppost public loginmodeloauth postlogin frombody loginmodeloauth model var accessresponse oauthservicebase.instance.accesstoken model.requesttoken user model.username model.password model.rememberme accessresponse.success oauthservicebase.instance.unauthorizetoken model.requesttoken var requestresponse oauthservicebase.instance.requesttoken model.errormessage invalid credentials return model else do return accessresponsereturn model my webconfig file look like lt configuration&gt lt configsections&gt lt section name entityframework type system.data.entity.internal.configfile.entityframeworksection entityframework version 4.4.0.0 culture neutral publickeytoken b77a5c561934e089 requirepermission false gt lt section name oauth type millionnodes.configuration.oauthsection millionnodes version 1.0.0.0 culture neutral gt lt sectiongroup name dotnetopenauth type dotnetopenauth.configuration.dotnetopenauthsection dotnetopenauth.core gt lt section name messaging type dotnetopenauth.configuration.messagingelement dotnetopenauth.core requirepermission false allowlocation true gt lt section name reporting type dotnetopenauth.configuration.reportingelement dotnetopenauth.core requirepermission false allowlocation true gt lt sectiongroup&gt lt configsections&gt lt oauth defaultprovider demoprovider defaultservice demoservice gt lt providers&gt lt add name demoprovider type millionnodes.oauth.demoprovider millionnodes gt lt providers&gt lt services&gt lt add name demoservice type millionnodes.oauth.demoservice millionnodes gt lt services&gt lt oauth&gt lt system.web gt lt httpmodules&gt lt add name oauthauthentication type millionnodes.module.oauthauthenticationmodule millionnodes version 1.0.0.0 culture neutral gt lt httpmodules&gt lt compilation debug true targetframework 4.0 gt lt authentication mode forms gt lt forms loginurl account login timeout 2880 gt lt authentication&gt lt pages&gt lt namespaces&gt lt add namespace system.web.helpers gt lt add namespace system.web.mvc gt lt add namespace system.web.mvc.ajax gt lt add namespace system.web.mvc.html gt lt add namespace system.web.optimization gt lt add namespace system.web.routing gt lt add namespace system.web.webpages gt lt namespaces&gt lt pages&gt lt system.web gt lt system.webserver gt lt validation validateintegratedmodeconfiguration false gt lt modules&gt lt add name oauthauthentication type millionnodes.module.oauthauthenticationmodule millionnodes version 1.0.0.0 culture neutral precondition gt lt modules&gt lt httpprotocol&gt lt customheaders&gt lt add name access control allow origin value gt lt customheaders&gt lt httpprotocol&gt lt system.webserver gt lt dotnetopenauth&gt lt messaging&gt lt untrustedwebrequest&gt lt whitelisthosts&gt lt uncomment enable communication localhost should generally activate production gt lt lt add name localhost gt gt lt whitelisthosts&gt lt untrustedwebrequest&gt lt messaging&gt lt allow dotnetopenauth publish usage statistics library authors improve library gt lt reporting enabled true gt,For Nginx the only thing that worked for me was adding this header:add_header 'Access-Control-Allow-Headers' 'AuthorizationContent-TypeAcceptOriginUser-AgentDNTCache-ControlX-Mx-ReqTokenKeep-AliveX-Requested-WithIf-Modified-Since';Along with the Access-Control-Allow-Origin header:add_header 'Access-Control-Allow-Origin' '*';Then reloaded the nginx config and it worked great. Credit https://gist.github.com/algal/5480916.
url i'm trying let work one style http somedomain.com api people staff.33311 just like sites last.fm allow all sort signs restful amp webpage urls example http www.last.fm artist psy'aviah valid url last.fm what works following scenarios http somedomain.com api people which returns all people http somedomain.com api people/staff33311 would work well what i'm afteri'd want url accept dot like example below http somedomain.com api people staff.33311 gives me http error 404.0 foundthe resource you looking has been removed had its name changed temporarily unavailable.i ve set up following things controller peoplecontroller public ienumerable&lt person&gt getallpeople return people public ihttpactionresult getperson string id var person people.firstordefault p gt p.id.tolower equals id.tolower person null return notfound return ok person webapiconfig.cspublic static void register httpconfiguration config web api configuration services web api routesconfig.maphttpattributeroutes config.routes.maphttproute name defaultapi routetemplate api controller id defaults new id routeparameter.optional i already tried following all tips blogpost http www.hanselman.com blog experimentsinwackinessallowingpercentsanglebracketsandothernaughtythingsintheaspnetiisrequesturl.aspx still won't work i also think quite tedious i wonder isn't another better more secure way.we have our id internally like so we're going have find solution fit dot one way another preferably style i'm open alternative suggestions urls need,I faced the very same issue and the circumstances I was in where I was not supposed to play with IIS and website config related settings. So I had to make it working by making changes at the code level only.The simple point is that the most common case where you would end up having dot character in the URL is when you get some input from the user and pass it as a query string or url fragment to pass some argument to the parameters in the action method of your controller.public class GetuserdetailsbyuseridController : ApiController{ string getuserdetailsbyuserid(string userId) {//some code to get user details }}Have a look at below URL where user enters his user id to get his personal details:http://mywebsite:8080/getuserdetailsbyuserid/foo.barSince you have to simply fetch some data from the server we use http GET verb. While using GET calls any input parameters can be passed only in the URL fragments.So to solve my problem I changed the http verb of my action to POST. Http POST verb has the facility of passing any user or non-user input in body also. So I created a JSON data and passed it into the body of the http POST request:{  "userid" : "foo.bar"}Change your method definition as below:public class GetuserdetailsbyuseridController : ApiController{ [Post] string getuserdetailsbyuserid([FromBody] string userId) {//some code to get user details }}Note: More on when to use GET verb and when to use POST verb here.
how return html from asp.net mvc web api controller i tried code below got compile error since response.write defined public class mycontroller apicontroller httppost public httpresponsemessage post response.write lt p&gt test&lt p&gt return request.createresponse httpstatuscode.ok,Starting with AspNetCore 2.0 it's recommended to use ContentResult instead of the Produce attribute in this case. See: https://github.com/aspnet/Mvc/issues/6657#issuecomment-322586885  This doesn't rely on serialization nor on content negotiation.[HttpGet]public ContentResult Index() {return new ContentResult {ContentType = "text/html"StatusCode = (int)HttpStatusCode.OKContent = "&lt;html&gt;&lt;body&gt;Hello World&lt;/body&gt;&lt;/html&gt;"};}
line html.actionlink reply blogreplycommentadd blog new blogpostid blogpostid replyblogpostmodel model captchavalid model.addnewcomment.displaycaptcha i get following runtime error blogpostid parameters dictionary contains null entry parameter blogpostid non nullable type system.int32 method system.web.mvc.actionresult blogreplycommentadd int32 nop.web.models.blogs.blogpostmodel boolean nop.web.controllers.blogcontroller optional parameter must reference type nullable type declared optional parameter parameter name parametersi have already assign value top var blogpostid model.id my controller public actionresult blogreplycommentadd int blogpostid blogpostmodel model bool captchavalid am i doing something wrong please give me example,You can pass values by using the below .@Html.ActionLink("About" "About" "Home"new { name = ViewBag.Name } htmlAttributes:null )Controller: public ActionResult About(string name){ViewBag.Message = "Your application description page.";ViewBag.NameTransfer = name;return View();}And the URL looks like http://localhost:50297/Home/About?name=My%20Name%20is%20Vijay
what pros cons using each technology wcf web api now merged asp.netasp.net web api now supports self hosting.i still imagine i want expose multiple protocol schemas same operation i would still lean towards wcf can mvc end point do too also does new asp.net web api expose wsdl how would client figure out what operation available them arguably best feature mvc modelbinder how robust wcf equivalent so can someone tell me what advantage does asp.net web api bring table wcf seems overwhelmingly more powerful scalable choice imo about only thing mvc web api has over wcf model probably ease development means squat ends up being serious design limitation down road,Use WCF for intranet/B2B sites n Web API for B2C/C2C/internet sites...SOAP/XML is still the standard for intra-businesses communication n it's not going to go away!!!
i'm trying publish mvc website azure webrole.when i run locally everything works fine once i publish azure surf some mvc action i get error server error application.runtime errordescription exception occurred while processing your request additionally another exception occurred while executing custom error page first exception request has been terminated.i don't understand how error handler can encounter exception because errors handled default way public class filterconfig public static void registerglobalfilters globalfiltercollection filters filters.add new handleerrorattribute my web.config lt xml version 1.0 gt lt configuration&gt lt configsections&gt lt sectiongroup name system.web.webpages.razor type system.web.webpages.razor.configuration.razorwebsectiongroup system.web.webpages.razor version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 gt lt section name host type system.web.webpages.razor.configuration.hostsection system.web.webpages.razor version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 requirepermission false gt lt section name pages type system.web.webpages.razor.configuration.razorpagessection system.web.webpages.razor version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 requirepermission false gt lt sectiongroup&gt lt configsections&gt lt system.web.webpages.razor gt lt host factorytype system.web.mvc.mvcwebrazorhostfactory system.web.mvc version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 gt lt pages pagebasetype system.web.mvc.webviewpage gt lt namespaces&gt lt add namespace system.web.mvc gt lt add namespace system.web.mvc.ajax gt lt add namespace system.web.mvc.html gt lt add namespace system.web.routing gt lt namespaces&gt lt pages&gt lt system.web.webpages.razor gt lt appsettings&gt lt add key webpages enabled value false gt lt appsettings&gt lt system.web gt lt httphandlers&gt lt add path verb type system.web.httpnotfoundhandler gt lt httphandlers&gt lt pagesvalidaterequest false pageparserfiltertype system.web.mvc.viewtypeparserfilter system.web.mvc version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 pagebasetype system.web.mvc.viewpage system.web.mvc version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 usercontrolbasetype system.web.mvc.viewusercontrol system.web.mvc version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 gt lt controls&gt lt add assembly system.web.mvc version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 namespace system.web.mvc tagprefix mvc gt lt controls&gt lt pages&gt lt system.web gt lt system.webserver gt lt validation validateintegratedmodeconfiguration false gt lt handlers&gt lt remove name blockviewhandler gt lt add name blockviewhandler path verb precondition integratedmode type system.web.httpnotfoundhandler gt lt handlers&gt lt system.webserver gt lt configuration&gt error.cshtml model system.web.mvc.handleerrorinfo viewbag.title error lt h2 gt sorry error occurred while processing your request lt h2 gt what can cause exception why can't i reproduce locally,You can use Oracle.ManagedDataAccess.dll instead (download from Oracle) include that dll in you project bin dir add reference to that dll in the project. In code "using Oracle.MangedDataAccess.Client". Deploy project to server as usual. No need install Oracle Client on server. No need to add assembly info in web.config.
i have following class generated entity framework public partial class itemrequest public int requestid get set i would like make required field required public int requestid get set however because generated code get wiped out i can't imagine way create partial class because property defined generated partial class how can i define constraint safe way,Modify the T4 template adding required annotations this file is usually named MODELNAME.ttfind where the T4 is creating the class and methods to know where to put these.   &lt;#=codeStringGenerator.IgnoreJson(navigationProperty)#&gt;//create this method in filepublic string IgnoreJson(NavigationProperty navigationProperty){string result = navigationProperty.ToEndMember.RelationshipMultiplicity == RelationshipMultiplicity.Many ? "" : @"[JsonIgnore][IgnoreDataMember]";return result;}You will also need to add the namespaces;&lt;#=codeStringGenerator.UsingDirectives(inHeader: false)#&gt;using System.ComponentModel.DataAnnotations;using Newtonsoft.Json;using System.Runtime.Serialization;Rebuild your classes by saving your model all your methods should be annotated.
i have asp.net mvc project i want implement bundling everything i can find internet directs me open bundleconfig.cs app start however file does exist my project i have only three files folder filterconfig routeconfig webapiconfig.bundle config wasn't generated when i created solution iirc blank asp.net mvc project beginning seems like should really easy do i just plain cannot figure outps just clarify those reading closely mvc4 net 4.5 app created from scratch solution marked below,If you are using "MVC 5" you may not see the file and you should follow these steps: http://www.techjunkieblog.com/2015/05/aspnet-mvc-empty-project-adding.htmlIf you are using "ASP.NET 5" it has stopped using "bundling and minification" instead was replaced by gulp bower and npm. More information see https://jeffreyfritz.com/2015/05/where-did-my-asp-net-bundles-go-in-asp-net-5/
i have bit weird problem.i developed app mvc 4 new web api works fine locally i installed mvc4 server deployed app now i get following error could load file assembly system.net.http version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 description unhandled exception occurred during execution current web request please review stack trace more information about error where originated infunny enough version system.net.http i locally have either my package folder asp.net mvc 4 assemblies folder 1000 i actually removed reference system.net.http from my project i still get same message i'm bit confused about where gets 2.0.0.0 reference from why would work locally server.looking nuget dependencies asp.net web api core libraries beta depends system.net.http.formatting.and system.net.http.formatting depends system.net.http.i guess where comes from i do have version 2.0.20126.16343 package installed just dll inside has version 1.0.0.0 am i missing something update sub application another asp.net app other one still based webforms so something getting messed up i do clean under assembly section web.config does even find app itself anymore,For this error (and similar) it's worth going through NuGet Consolidate (Solution > Manage NuGet Packages...) to ensure the same referenced component  versions are consistent in each class library referenced in the solution since even a slightly older version may have dependencies on other older components. It's straightforward to use in conjunction with Updates and can save a lot of pain.This solved this issue for me and I would say it's a must to get familiar with if you're creating helper libraries that also reference MVC or other web-based NuGet components.
i've created web api filter using system.web.http.filters.actionfilterattribute i am unable get work inside asp.net mvc 4 i tried adding registerglobalfilters method didn't work.so one using web api hosted asp.net mvc how does one register filters,Instead of using global filters I prefer to do this :[MyWebApiFilter]public class CustomizedApiControllerBase : ApiController{   ...}And after that inherit all of api controllers from CustomizedApiControllerBaseThis approach is more expressive in comparison with global filters in global.ascx file. 
asp.net mvc4 bootstrap 3 application running from microsoft visual studio express 2013 web ide.chrome console shows always errorhttp localhost 52216/admin fonts glyphicons halflings regular.woff2failed load resource server responded status 404 found file exists fonts directory solution explorer build action set content copy output directory do copy like other font files bootstrap 3 added solution using nuget.how fix so error does occur application shows glyphicon fontawesome icons properly error always occurs application startup,For me the problem was twofold: First the version of IIS I was dealing with didn't know about the .woff2 MIME type only about .woff. I fixed that using IIS Manager at the server level not at the web app level so the setting wouldn't get overridden with each new app deployment. (Under IIS Manager I went to MIME types and added the missing .woff2 then updated .woff.)Second and more importantly I was bundling bootstrap.css along with some other files as "~/bundles/css/site". Meanwhile my font files were in "~/fonts". bootstrap.css looks for the glyphicon fonts in "../fonts" which translated to "~/bundles/fonts" -- wrong path.In other words my bundle path was one directory too deep. I renamed it to "~/bundles/siteCss" and updated all the references to it that I found in my project. Now bootstrap looked in "~/fonts" for the glyphicon files which worked. Problem solved.Before I fixed the second problem above none of the glyphicon font files were loading. The symptom was that all instances of glyphicon glyphs in the project just showed an empty box. However this symptom only occurred in the deployed versions of the web app not on my dev machine. I'm still not sure why that was the case.
i'm trying out mvc4 system.web.optimization 1.0 scriptbundle feature i have following configuration public class bundleconfig public static void registerbundles bundlecollection bundles shared scriptsbundle canvasscripts new scriptbundle bundlepaths.canvasscripts include scripts modernizr include scripts/json2.js include scripts columnizer.js include scripts jquery.ui.message.min.js include scripts shared achievements.js include scripts shared canvas.js bundles.add canvasscripts following view lt script type text javascript src scripts.url bundlepaths.canvasscripts gt lt script&gt where bundlepaths.canvasscripts bundles scripts canvas renders lt script type text javascript src bundles scripts canvas v uth3xqh0uxwjjzi-gtx03eu183bjnpfng8aniog14_41 gt lt script&gt so far so good except scripts shared achievements.js first script bundled source depends every script included before scriptbundle how can i ensure honors order which i add include statements bundle updatethis relatively new asp.net mvc 4 application referencing optimization framework pre release package i removed added rtm package from http nuget.org packages microsoftaspnetweboptimization rtm version debug true web.config scripts.render bundles scripts canvas renders individual script tags correct order debug false web.config combined script has achievements.js script first since its function definition object constructor called later runs without error perhaps minifier smart enough figure out dependencies i also tried ibundleorderer implementation darin dimitrov suggested rtm both debug options behaved same.so minified version order i expect works,@Darin Dimitrov's answer works perfectly for me but my project is written in VB so here's his answer converted to VBPublic Class AsIsBundleOrdererImplements IBundleOrdererPublic Function IBundleOrderer_OrderFiles(ByVal context As BundleContext ByVal files As IEnumerable(Of FileInfo)) As IEnumerable(Of FileInfo) Implements IBundleOrderer.OrderFilesReturn filesEnd FunctionEnd ClassTo Use it:Dim scriptBundleMain = New ScriptBundle("~/Scripts/myBundle")scriptBundleMain.Orderer = New AsIsBundleOrderer()scriptBundleMain.Include("~/Scripts/file1.js""~/Scripts/file2.js")bundles.Add(scriptBundleMain)
i'm having problems trying get unobtrusive jquery validation work partial view loaded dynamically through ajax call.i ve been spending days trying get code work luck.here s view model mvcapplication2.models.test using html.beginform html.validationsummary true lt div id res gt lt div&gt lt input id submit type submit value submit gt partial view model mvcapplication2.models.test@html.textareafor m gt m.myproperty html.validationmessagefor m gt m.myproperty lt script type text javascript gt validator.unobtrusive.parse document lt script&gt model public class test required errormessage required field public int myproperty get set controller public actionresult getview return partialview test finally javascript doument ready function ajax url test getview'success function res res html res validator.unobtrusive.parse res submit click function form valid alert valid return true else alert valid return false validation does work even i don't fill any information texbox submit event shows alert valid however instead loading dynamically view i use html.partial test model render partial view main view i don't do ajax call validation works just fine.this probably because i load content dynamically controls don't exist dom yet i do call validator.unobtrusive.parse res which should enough let validator about newly loaded controls can anyone help,just copy this code again in end of modal code &lt;script src="~/Scripts/jquery.unobtrusive-ajax.min.js"&gt;&lt;/script&gt;&lt;script src="~/Scripts/jquery.validate.unobtrusive.min.js"&gt;&lt;/script&gt;;)
i have build net4.5 asp.net mvc4 web app which works fine locally iis express amp dev server once i deploy my web server throws 403 error i have installed net 4.5rc server even tried aspnet regiis ibit everyone recommended issues previous versions mvc net did help.any ideas edit more info about situation server 32bit i have 4 other mvc3 applications work fine just my mvc4 app working,In my case neither Windows Features nor aspnet_regiis -i didn't do the work. After hours of digging in the Internet I made my own solution:In the IIS Manager in Modules I changed inherit to local in UrlRoutingModule-4.0 node:In web.config I pasted a mix of some tips from this forum:&lt;system.webServer&gt;&lt;modules runAllManagedModulesForAllRequests="true"&gt;&lt;remove name="UrlRoutingModule-4.0"&gt;&lt;/remove&gt;&lt;add name="UrlRoutingModule-4.0" type="System.Web.Routing.UrlRoutingModule" preCondition=""&gt;&lt;/add&gt;&lt;/modules&gt;&lt;/system.webServer&gt;Hope it helps
i'm trying render html list looks like following using razor view engine lt ul&gt lt li id item_1 gt item 1 lt li&gt lt li id item_2 gt item 2 lt li&gt lt ul&gt code i am attempting use render list lt ul&gt foreach var item model.theitems lt li id item item.theitemid gt item item.theitemid lt li&gt lt ul&gt parser choking because thinks everything right underscore id attribute plain text should parsed i'm uncertain how instruct parser render theitemid.i don't want property model object includes item prefix.i also have keep syntax i am using list jquery sortable serialize function requires id attribute formatted syntax,You can even use this way to concat more strings:&lt;li id="@("item-"+item.Order + "item_"+item.ShopID)" class="ui-state-default"&gt;&lt;/li&gt;Here is another post.Hope helps someone.
i come from using asp.net mvc web api now i am starting use angular i am clear proper way mix them.once i am using angular does mvc sever side concepts still provide any value should i strictly using web api purely get data angular http calls any tips you have asp.net mvc guy transitioning angular would helpful,You can use Angular framework for front end development i.e to construct views. It provides you a robust architecture and once you learn you will find it's advantages over Asp.net MVC's razor view engine. To fetch data you have to use WebAPIs and now ASP.Net MVC project support both WebAPI and MVC controllers out of the box. You can refer below link start with Angular and ASP.Net MVC application development.http://hive.rinoy.in/angular4-and-asp-net-mvc-hybrid-application/There are two frameworks currently available for developing UI components for angular applications. I have used both these frameworks in one of the angular projects that I worked.Materialhttps://material.angular.io/PrimeNGhttps://www.primefaces.org/primeng/#/
hi i am inserting some values sql table using c mvc4 actually i want insert values return id last inserted record i use following code.public class memberbasicdata public int id get set public string mem na get set public string mem occ get set id automatically increment database when inserted.public int createnewmember string mem na string mem occ using sqlconnection con new sqlconnection config.connectionstring using sqlcommand cmd new sqlcommand insert mem basic mem namem occ values na@occ con cmd.parameters.addwithvalue na mem na cmd.parameters.addwithvalue occ mem occ con.open int modified cmd.executenonquery con.state system.data.connectionstate.open con.close return modified i know executenonquery denotes numbers affecting row instead i useint modified int cmd.executescalar working please help me solving any code like cmd.executeinsertandgetid working my code,using(SqlCommand cmd=new SqlCommand("INSERT INTO Mem_Basic(Mem_NaMem_Occ) " +"VALUES(@na@occ);SELECT SCOPE_IDENTITY();"con)){cmd.Parameters.AddWithValue("@na" Mem_NA);cmd.Parameters.AddWithValue("@occ" Mem_Occ);con.Open();int modified = cmd.ExecuteNonQuery();if (con.State == System.Data.ConnectionState.Open) con.Close();return modified;}SCOPE_IDENTITY : Returns the last identity value inserted into an identity column in the same scope. for more details http://technet.microsoft.com/en-us/library/ms190315.aspx
i have method does post like belowvar response await client.postasjsonasync url entity response.issuccessstatuscode read response strongly typed objectreturn await response.content.readasasync lt t&gt my question how can i obtain actual json got posted from entity object i would like log json gets posted so nice have without me having do json serialize myself,Network tracing also available for next objects (see article on msdn)System.Net.Sockets Some public methods of the Socket TcpListener TcpClient and Dns classesSystem.Net Some public methods of the HttpWebRequest HttpWebResponse FtpWebRequest and FtpWebResponse classes and SSL debug information (invalid certificates missing issuers list and client certificate errors.)System.Net.HttpListenerSome public methods of the HttpListener HttpListenerRequest and HttpListenerResponse classes.System.Net.CacheSome private and internal methods in System.Net.Cache.System.Net.HttpSome public methods of the HttpClient DelegatingHandler HttpClientHandler HttpMessageHandler MessageProcessingHandler and WebRequestHandler classes.System.Net.WebSockets.WebSocketSome public methods of the ClientWebSocket and WebSocket classes.Put next lines of code to the configuration file&lt;configuration&gt;&lt;system.diagnostics&gt;  &lt;sources&gt;&lt;source name="System.Net" tracemode="includehex" maxdatasize="1024"&gt;  &lt;listeners&gt;&lt;add name="System.Net"/&gt;  &lt;/listeners&gt;&lt;/source&gt;&lt;source name="System.Net.Cache"&gt;  &lt;listeners&gt;&lt;add name="System.Net"/&gt;  &lt;/listeners&gt;&lt;/source&gt;&lt;source name="System.Net.Http"&gt;  &lt;listeners&gt;&lt;add name="System.Net"/&gt;  &lt;/listeners&gt;&lt;/source&gt;&lt;source name="System.Net.Sockets"&gt;  &lt;listeners&gt;&lt;add name="System.Net"/&gt;  &lt;/listeners&gt;&lt;/source&gt;&lt;source name="System.Net.WebSockets"&gt;  &lt;listeners&gt;&lt;add name="System.Net"/&gt;  &lt;/listeners&gt;&lt;/source&gt;  &lt;/sources&gt;  &lt;switches&gt;&lt;add name="System.Net" value="Verbose"/&gt;&lt;add name="System.Net.Cache" value="Verbose"/&gt;&lt;add name="System.Net.Http" value="Verbose"/&gt;&lt;add name="System.Net.Sockets" value="Verbose"/&gt;&lt;add name="System.Net.WebSockets" value="Verbose"/&gt;  &lt;/switches&gt;  &lt;sharedListeners&gt;&lt;add name="System.Net"  type="System.Diagnostics.TextWriterTraceListener"  initializeData="network.log"/&gt;  &lt;/sharedListeners&gt;  &lt;trace autoflush="true"/&gt;&lt;/system.diagnostics&gt;  &lt;/configuration&gt;  
why am i receiving error templates can used only field access property access single dimension array index single parameter custom indexer expressionsat code model ienumerable&lt artschoolproject.models.trainer gt viewbag.title index layout views shared pagelayout.cshtml lt h2 gt index&lt h2 gt lt p&gt html.actionlink create new create lt p&gt lt ul class trainers gt foreach var item model lt li&gt lt div&gt lt div class left gt lt href url.action details details new id item.id gt lt img src images trainer item.picture gt lt a&gt lt div&gt lt div class right gt html.actionlink item.name details new id item.id lt br gt html.displayfor modelitem gt string item.description.tostring substring 0100 lt div&gt lt div&gt lt li&gt lt ul&gt line html.displayfor modelitem gt item.description.tostring substring 0100 update problem solved i added my code string parametervalue item.description.tostring substring 0 100 html.displayfor modelitem gt parametervalue my new code foreach var item model lt li&gt lt div&gt lt div class left gt lt href url.action details details new id item.id gt lt img src images trainer item.picture gt lt a&gt lt div&gt lt div class right gt html.actionlink item.name details new id item.id lt br gt string parametervalue item.description.tostring substring 0 100 html.displayfor modelitem gt parametervalue lt div&gt lt div&gt lt li&gt only one possibility just curiosity another solution solving error,I ran into a similar problem with the same error message using following code:@Html.DisplayFor(model =&gt; model.EndDate.Value.ToShortDateString())I found a good answer hereTurns out you can decorate the property in your model with a displayformat then apply a dataformatstring.Be sure to import the following lib into your model:using System.ComponentModel.DataAnnotations;
when bundling minification enabled some my bundles seem have invalid url browser ending iis gives 403 forbidden error trying list folder contents.there s difference way my bundles set up min.css access permissions correct etc,The problem is the naming convention your bundle name should be ("bundles/css") This solved my problem.
i want change port number which my website runs while debugging from visual studio i am using visual studio 2012 i am using asp.net mvc 4 my projects i want change port random port fixed anyone work just want change port,You can first start IIS express from command line and give it a port with /port:port-number see other options.
i am creating new mvc4 project research has lead me believe communicating from javascript server side better achieved now through web api framework rather than controller actions my understanding correct i am presuming i can share all my attributes etc between web api mvc controllers so face does seem massive change me.when i am setting up applications i like split components out projects my plan have mvc project web api project i have ran issues example i have ended up 2 apps separate routing set up etc etc.so my question mvc application should web api framework sit within same project should web api separated project its own work around issues,I tried to split the API controllers into a new project. All I've done is to create a new library project moved the controllers inside folder named API.Then added the reference of the library project to the MVC project.The webAPI configuration is left in the MVC project itself. It works fine.
i get following error when i start my asp net mvc 4 application could load file assembly dotnetopenauth.core version 4.0.0.0 culture neutral publickeytoken 2780ccd10d57b246 one its dependencies system cannot find file specifiedthis error logassembly manager loaded from c windows microsoft.net framework v4.0.30319 clr.dllrunning under executable c windows syswow64 inetsrv w3wp.exe detailed error log follows pre bind state information log user notebook guilhermelog displayname dotnetopenauth.core version 4.0.0.0 culture neutral publickeytoken 2780ccd10d57b246 fully specified log appbase file c users guilherme documents visual studio 2012/projects gedi gedi log initial privatepath c users guilherme documents visual studio 2012 projects gedi gedi bincalling assembly microsoft.web.webpages.oauth version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 log bind starts default load context.log using application configuration file c users guilherme documents visual studio 2012 projects gedi gedi web.configlog using host configuration file c windows microsoft.net framework v4.0.30319 aspnet.configlog using machine configuration file from c windows microsoft.net framework v4.0.30319 config machine.config.log post policy reference dotnetopenauth.core version 4.0.0.0 culture neutral publickeytoken 2780ccd10d57b246log attempting download new url file c windows microsoft.net framework/v4.0.30319/temporary asp.net files root/2635bb56/154c3fbb dotnetopenauth.core.dll.log attempting download new url file c windows microsoft.net framework/v4.0.30319/temporary asp.net files root/2635bb56/154c3fbb dotnetopenauth.core dotnetopenauth.core.dll.log attempting download new url file c users guilherme documents visual studio 2012/projects gedi gedi bin dotnetopenauth.core.dll.log attempting download new url file c users guilherme documents visual studio 2012/projects gedi gedi bin dotnetopenauth.core dotnetopenauth.core.dll.log attempting download new url file c windows microsoft.net framework/v4.0.30319/temporary asp.net files root/2635bb56/154c3fbb dotnetopenauth.core.exe.log attempting download new url file c windows microsoft.net framework/v4.0.30319/temporary asp.net files root/2635bb56/154c3fbb dotnetopenauth.core dotnetopenauth.core.exe.log attempting download new url file c users guilherme documents visual studio 2012/projects gedi gedi bin dotnetopenauth.core.exe.log attempting download new url file c users guilherme documents visual studio 2012/projects gedi gedi bin dotnetopenauth.core dotnetopenauth.core.exe.i have already remove all references from dotnetopenauth packager manager also i checked my self references every auth assembly i had my project none.this my packages.config lt packages&gt lt package id automapper version 2.2.0 targetframework net45 gt lt package id entityframework version 5.0.0 targetframework net45 gt lt package id jquery version 1.7.1.1 targetframework net45 gt lt package id jquery.ui.combined version 1.8.20.1 targetframework net45 gt lt package id jquery.validation version 1.9.0.1 targetframework net45 gt lt package id knockoutjs version 2.1.0 targetframework net45 gt lt package id microsoft.aspnet.mvc version 4.0.20710.0 targetframework net45 gt lt package id microsoft.aspnet.razor version 2.0.20710.0 targetframework net45 gt lt package id microsoft.aspnet.web.optimization version 1.0.0 targetframework net45 gt lt package id microsoft.aspnet.webapi version 4.0.20710.0 targetframework net45 gt lt package id microsoft.aspnet.webapi.client version 4.0.20710.0 targetframework net45 gt lt package id microsoft.aspnet.webapi.core version 4.0.20710.0 targetframework net45 gt lt package id microsoft.aspnet.webapi.webhost version 4.0.20710.0 targetframework net45 gt lt package id microsoft.aspnet.webpages version 2.0.20710.0 targetframework net45 gt lt package id microsoft.aspnet.webpages.data version 2.0.20710.0 targetframework net45 gt lt package id microsoft.aspnet.webpages.webdata version 2.0.20710.0 targetframework net45 gt lt package id microsoft.jquery.unobtrusive.ajax version 2.0.20710.0 targetframework net45 gt lt package id microsoft.jquery.unobtrusive.validation version 2.0.20710.0 targetframework net45 gt lt package id microsoft.net.http version 2.0.20710.0 targetframework net45 gt lt package id microsoft.web.infrastructure version 1.0.0.0 targetframework net45 gt lt package id modernizr version 2.5.3 targetframework net45 gt lt package id newtonsoft.json version 4.5.11 targetframework net45 gt lt package id repository version 1.0.2.12 targetframework net45 gt lt package id restsharp version 103.4 targetframework net45 gt lt package id webgrease version 1.1.0 targetframework net45 gt lt packages&gt thanks,Remove any Microsoft.Web.WebPages.OAuth dependencies everywhere in your projects.
hello i want return anchor from mvc controller controller name defaultcontroller public actionresult myaction int id return redirecttoaction index region so url when directed index http localhost default regionso lt href region&gt content should focus here&lt a&gt i am asking you can do like how can i add anchor tag my url,A simple way in dot net corepublic IActionResult MyAction(int id){return RedirectToAction("Index" "default" "region");}The above yields /default/index#region. The 3rd parameter is fragment which it adds after a #. Microsoft docs - ControllerBase
how i learned stop worrying just write code against completely undocumented apis from microsoft any actual documentation official system.web.optimization release cuz i sure can't find any xml docs all blog posts refer rc api which substantially different anyhoo i am writing some code automatically resolve javascript dependencies am creating bundles fly from those dependencies everything works great except you edit scripts otherwise make changes would affect bundle without restarting application changes won't reflected so i added option disable caching dependencies use development.however apparently bundletables caches url even bundle collection has changed example my own code when i want re create bundle i do something like remove existing bundlebundletable.bundles.remove bundletable.bundles.getbundlefor bundlealias recreate it.var bundle new scriptbundle bundlealias dependencies collection objects representing scripts creates new bundle from list foreach var item dependencies bundle.include item.path add new bundle collectionbundletable.bundles.add bundle bundlealias same alias used previously create bundle like mybundle1 var bundleurl bundletable.bundles.resolvebundleurl bundlealias returns something like mybundle1 v hzbkdmqvac8r_nme4oyz5qoq5flbihagguka28lylfq1 whenever i remove amp recreate bundle same alias absolutely nothing happens bundleurl returned from resolvebundleurl same before i removed amp recreated bundle same i mean content hash unchanged reflect new contents bundle edit actually much worse than bundle itself cached somehow outside bundles collection i just generate my own random hash prevent browser from caching script asp.net returns old script so apparently removing bundle from bundletable.bundles does actually do anything i can simply change alias get around problem ok development i don't like idea since means either i have deprecate aliases after each page load have bundlecollection grows size every page load you left production environment would disaster.so seems when script served gets cached independent actual bundletables.bundles object so you re use url even you've removed bundle referred before reusing responds whatever its cache altering bundles object does flush cache so only new items rather new items different name would ever used.the behavior seems odd removing something from collection should remove from cache doesn't must way flush cache have use current contents bundlecollection instead what cached when bundle first accessed any idea how i would do resetall method which has unknown purpose just breaks things anyway so isn't,Apologies to revive a dead thread however I ran into a similar issue with Bundle caching in an Umbraco site where I wanted the stylesheets/scripts to automatically minify when the user changed the pretty version in the backend. The code I already had was (in the onSaved method for the stylesheet): BundleTable.Bundles.Add(new StyleBundle("~/bundles/styles.min.css").Include(   "~/css/main.css"));and (onApplicationStarted):BundleTable.EnableOptimizations = true;No matter what I tried the "~/bundles/styles.min.css" file didn't seem to change. In the head of my page I was originally loading in the stylesheet like so:&lt;link rel="stylesheet" href="~/bundles/styles.min.css" /&gt;However I got it to work by changing this to:@Styles.Render("~/bundles/styles.min.css")The Styles.Render method pulls in a query string at the end of the file name which I am guessing is the cache key described by Hao above.For me it was as simple as that. Hope this helps anyone else like me who was googling this for hours and could only find several year old posts!
problemafter installing microsoft asp.net web api odata package 5.0.0-rc1 prerelease i end up following exception could load file assembly system.web.http version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 my mvc 4 project brand new really small nothing fancy i target net framework 4.5i need nuget package implement patch using delta class when i use version 4.0.0.0 package delta class working how can i fix my versions system.web.httpin gac i have version 5.0.0.0 system.web.http gacutil l system.web.http global assembly cache contains following assemblies system.web.http version 5.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 processorarchitecture msilin visual studio when i browse assemblies given version system.web.http 4.0.0.0 why my project reference system.web.httphas version 5.0.0.0points lib net45 folder packagehas copylocal truethings i triedi tried bind redirect v 4.0.0.0 5.0.0.0 web.config lt dependentassembly&gt lt assemblyidentity name system.web.http publickeytoken 31bf3856ad364e35 culture neutral gt lt bindingredirect oldversion 4.0.0.0-4.0.0.0 newversion 5.0.0.0 gt lt dependentassembly&gt gives me another exception attempt method systemwebhttpglobalconfiguration cctor access field system.web.http.globalconfiguration.cs lt 9 cachedanonymousmethoddelegate2 failed.i guess v 4.0.0.0 really need used core web api engine.linked questionscode analysis error could load file assembly 39 system.net.http version 2.0.0.0 mvc4 web apicould load file assembly 39 system.net.http version 2.0.0.0 mvc4 web api,If this issue occurs kindly check web.config in below section Below section gives the version of particular dll usedafter checking this section in web.config open solution explorer and select reference from the project tree as shown . Solution Explorer->ReferenceAfter expanding reference find the dll which caused the error. Right click on the dll reference and check for version like shown in the image above.If both config dll version and referenced dll is different you would get this exception. Make sure both are of same version which would help.
i get following exception after installing asp.net mvc 4 beta machine asp.net mvc 3 system.invalidcastexception unhandled user codemessage system.web.webpages.razor.configuration.hostsection cannot cast b systemwebwebpagesrazorconfigurationhostsection type originates from system.web.webpages.razor version 1.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c windows microsoft.net assembly gac msil system.web.webpages.razor v4.0_1.0.0.0 31bf3856ad364e35 system.web.webpages.razor.dll type b originates from system.web.webpages.razor version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c windows microsoft.net assembly gac msil system.web.webpages.razor v4.0_2.0.0.0 31bf3856ad364e35 system.web.webpages.razor.dll source system.web.webpages.razorstacktrace system.web.webpages.razor.webrazorhostfactory.getrazorsection string virtualpath system.web.webpages.razor.webrazorhostfactory.createhostfromconfig string virtualpath string physicalpath system.web.webpages.razor.razorbuildprovider.gethostfromconfig system.web.webpages.razor.razorbuildprovider.createhost system.web.webpages.razor.razorbuildprovider.ensuregeneratedcode system.web.webpages.razor.razorbuildprovider.get codecompilertype system.web.compilation.buildprovider.getcompilertypefrombuildprovider buildprovider buildprovider system.web.compilation.buildproviderscompiler.processbuildproviders system.web.compilation.buildproviderscompiler.performbuild system.web.compilation.buildmanager.compilewebfile virtualpath virtualpath system.web.compilation.buildmanager.getvpathbuildresultinternal virtualpath virtualpath boolean nobuild boolean allowcrossapp boolean allowbuildinprecompile boolean throwifnotfound boolean ensureisuptodate system.web.compilation.buildmanager.getvpathbuildresultwithnoassert httpcontext context virtualpath virtualpath boolean nobuild boolean allowcrossapp boolean allowbuildinprecompile boolean throwifnotfound boolean ensureisuptodate system.web.compilation.buildmanager.getvirtualpathobjectfactory virtualpath virtualpath httpcontext context boolean allowcrossapp boolean throwifnotfound system.web.mvc.buildmanagerwrapper.system.web.mvc.ibuildmanager.fileexists string virtualpath system.web.mvc.buildmanagerviewengine.fileexists controllercontext controllercontext string virtualpath system.web.mvc.virtualpathproviderviewengine.getpathfromgeneralname controllercontext controllercontext list 1 locations string name string controllername string areaname string cachekey string amp searchedlocations system.web.mvc.virtualpathproviderviewengine.getpath controllercontext controllercontext string locations string arealocations string locationspropertyname string name string controllername string cachekeyprefix boolean usecache string amp searchedlocations system.web.mvc.virtualpathproviderviewengine.findview controllercontext controllercontext string viewname string mastername boolean usecache systemwebmvcviewenginecollection lt c displayclassc.b b iviewengine e system.web.mvc.viewenginecollection.find func 2 lookup boolean tracksearchedpaths system.web.mvc.viewenginecollection.findview controllercontext controllercontext string viewname string mastername system.web.mvc.viewresult.findview controllercontext context system.web.mvc.viewresultbase.executeresult controllercontext context system.web.mvc.controlleractioninvoker.invokeactionresult controllercontext controllercontext actionresult actionresult systemwebmvccontrolleractioninvoker lt c displayclass1c.b 19 system.web.mvc.controlleractioninvoker.invokeactionresultfilter iresultfilter filter resultexecutingcontext precontext func 1 continuation systemwebmvccontrolleractioninvoker lt c displayclass1c lt c displayclass1e.b 1b system.web.mvc.controlleractioninvoker.invokeactionresultwithfilters controllercontext controllercontext ilist 1 filters actionresult actionresult system.web.mvc.controlleractioninvoker.invokeaction controllercontext controllercontext string actionname system.web.mvc.controller.executecore project namespace controllers.globalizationcontroller.executecore file path system.web.mvc.controllerbase.execute requestcontext requestcontext system.web.mvc.controllerbase.system.web.mvc.icontroller.execute requestcontext requestcontext systemwebmvcmvchandler lt c displayclass6 lt c displayclassb.b 5 systemwebmvcasyncasyncresultwrapper lt c displayclass1.b 0 systemwebmvcasyncasyncresultwrapper lt c displayclass8 1.b 7 iasyncresult system.web.mvc.async.asyncresultwrapper.wrappedasyncresult 1.end systemwebmvcmvchandler lt c displayclasse.b d system.web.mvc.securityutil.b 0 action f system.web.mvc.securityutil.processinapplicationtrust action action system.web.mvc.mvchandler.endprocessrequest iasyncresult asyncresult system.web.mvc.mvchandler.system.web.ihttpasynchandler.endprocessrequest iasyncresult result system.web.httpapplication.callhandlerexecutionstep.system.web.httpapplication.iexecutionstep.execute system.web.httpapplication.executestep iexecutionstep step boolean&amp completedsynchronously blocks me completely while i would like keep beta i might need remove completely order get rid exception,Also as last step clear your bin folder from the project where the error is coming from.
i'm trying load javascript array array from my model its seems me should possible.neither below ways work.cannot create javascript loop increment through model array javascript variablefor var j 0 j&lt 255 j jsarray model.data j cannot create razor loop javascript out scope@foreach var d model.data jsarray d i can get work withvar jsdata html.raw json.encode model.data i don't know why i should have use json also while moment i'm restricting 255 bytes future could run many mbs,This would be better approach as I have implemented :)@model ObjectUser@using System.Web.Script.Serialization@{ var javaScriptSearilizer = new JavaScriptSerializer();var searializedObject = javaScriptSearilizer.Serialize(Model); }&lt;script&gt;var searializedObject = @Html.Raw(searializedObject )console.log(searializedObject);alert(searializedObject);&lt;/script&gt;Hope this will help you to prevent you from iterating model ( happy coding )
i have controller which generate string containing html markups.now when i am displaying views displayed simple string containing all tags i tried use html helper encode decode display properly working.string str lt href home profile seeker gt seeker&lt a&gt has applied lt href jobs details/9 gt job&lt a&gt floated you lt br&gt my views html.encode str,I had a similar problem recently and google landed me here so I put this answer here in case others land here as well for completeness.I noticed that when I had badly formatted html I was actually having all my html tags stripped out with just the non-tag content remaining.  I particularly had a table with a missing opening table tag and then all my html tags from the entire string where ripped out completely.So if the above doesn't work and you're still scratching your head then also check you html for being valid.I notice even after I got it working MVC was adding tbody tags where I had none.  This tells me there is clean up happening (MVC 5) and that when it can't happen it strips out all/some tags.
i have lt li&gt lt href users index class elements gt lt span&gt clients&lt span&gt lt a&gt lt li&gt which works fine i am already page controller eg users details i click link redirects me users index.how can i get correct path href regardless my current position site,If using ASP.NET Core you can adjust the accepted answer to:&lt;a href="@Url.Action("Index" null new { area = string.Empty controller = "User" } @Context.Request.Scheme)"&gt; &lt;span&gt;Clients&lt;/span&gt;&lt;/a&gt;replacing @Request.Url.Schemewith @Context.Request.Scheme
i have recently started playing around asp.net mvc 4 i can't wrap my head around one issue i'm having i'm sure easy when you know it.i m essentially trying do following my index view list current items database type note index view easy creating new items same index view so easy so i figured i needed partial view i have created following createnote.cshtml model quicknotes.models.note using html.beginform html.validationsummary true lt fieldset&gt lt legend&gt note&lt legend&gt lt div class editor label gt html.labelfor model gt model.content lt div&gt lt div class editor field gt html.editorfor model gt model.content html.validationmessagefor model gt model.content lt div&gt lt p&gt lt input type submit value create gt lt p&gt lt fieldset&gt my original index view index.cshtml i'm trying render partial view model ienumerable&lt quicknotes.models.note gt viewbag.title personal notes lt h2 gt personal notes&lt h2 gt lt p&gt html.actionlink create new create lt p&gt lt table&gt lt tr&gt lt th&gt html.displaynamefor model gt model.content lt th&gt lt th&gt lt th&gt lt tr&gt foreach var item model lt tr&gt lt td&gt html.displayfor modelitem gt item.content lt td&gt lt td&gt html.actionlink edit edit new id item.id html.actionlink details details new id item.id html.actionlink delete delete new id item.id lt td&gt lt tr&gt lt table&gt lt div&gt html.partial createnote lt div&gt using html.partial createnote however doesn't seem work i get following error message line 35 line 36 lt div&gt line 37 html.partial createnote line 38 lt div&gt source file c dropbox projects workspace net mvc quicknotes quicknotes views notes index.cshtmlline 37 stack trace invalidoperationexception model item passed dictionary type system.data.entity.dbset 1 quicknotes.models.note dictionary requires model item type quicknotes.models.note system.web.mvc.viewdatadictionary 1.setmodel object value 405487my notescontroller looks like public actionresult index var model db.notes return view model get notes createpublic actionresult create return view get notes createnote partial viewpublic viewresult createnote return view createnote i think has do fact index view using model differently model ienumerable matter how i change around using renderpartial renderaction changing actionresult viewresult etc i can't get work.any tips would greatly appreciated please let me know you need any more information i'd happy zip down entire project needed,You're passing the same model to the partial view as is being passed to the main view and they are different types. The model is a DbSet of Notes where you need to pass in a single Note. You can do this by adding a parameter which I'm guessing as it's the create form would be a new Note@Html.Partial("_CreateNote" new QuickNotes.Models.Note())
anyone know any step step tutorials how upload display images from database using entity framework i've checked out code snippets i'm still clear how works i have code because aside from writing upload form i'm lost any i mean any help greatly appreciated sidenote why don't any books cover topic i have both pro asp.net mvc 4 professional mvc4 make mention,Here is a short tutorial:Model:namespace ImageUploadApp.Models{using System;using System.Collections.Generic;public partial class Image{public int ID { get; set; }public string ImagePath { get; set; }}}View:Create:@model ImageUploadApp.Models.Image@{ViewBag.Title = "Create";}&lt;h2&gt;Create&lt;/h2&gt;@using (Html.BeginForm("Create" "Image" null FormMethod.Post   new { enctype = "multipart/form-data" })) {@Html.AntiForgeryToken()@Html.ValidationSummary(true)&lt;fieldset&gt;&lt;legend&gt;Image&lt;/legend&gt;&lt;div class="editor-label"&gt;@Html.LabelFor(model =&gt; model.ImagePath)&lt;/div&gt;&lt;div class="editor-field"&gt;&lt;input id="ImagePath" title="Upload a product image"   type="file" name="file" /&gt;&lt;/div&gt;&lt;p&gt;&lt;input type="submit" value="Create" /&gt;&lt;/p&gt;&lt;/fieldset&gt;}&lt;div&gt;@Html.ActionLink("Back to List" "Index")&lt;/div&gt;@section Scripts {@Scripts.Render("~/bundles/jqueryval")}Index (for display):@model IEnumerable&lt;ImageUploadApp.Models.Image&gt;@{ViewBag.Title = "Index";}&lt;h2&gt;Index&lt;/h2&gt;&lt;p&gt;@Html.ActionLink("Create New" "Create")&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;th&gt;@Html.DisplayNameFor(model =&gt; model.ImagePath)&lt;/th&gt;&lt;/tr&gt;@foreach (var item in Model) {&lt;tr&gt;&lt;td&gt;@Html.DisplayFor(modelItem =&gt; item.ImagePath)&lt;/td&gt;&lt;td&gt;@Html.ActionLink("Edit" "Edit" new { id=item.ID }) |@Html.ActionLink("Details" "Details" new { id=item.ID }) |@Ajax.ActionLink("Delete" "Delete" new {id = item.ID} })&lt;/td&gt;&lt;/tr&gt;}&lt;/table&gt;Controller (Create)public ActionResult Create(Image img HttpPostedFileBase file){if (ModelState.IsValid){if (file != null){file.SaveAs(HttpContext.Server.MapPath("~/Images/")   + file.FileName);img.ImagePath = file.FileName;}  db.Image.Add(img);db.SaveChanges();return RedirectToAction("Index");}return View(img);}Hope this will help :)
i need create post method webapi so i can send data from application webapi method i'm able get header value.here i have added header values application using var client new webclient set header so knows we sending json.client.headers httprequestheader.contenttype application json client.headers.add custom sample make requestvar response client.uploadstring url jsonobj following webapi post method public string postsam frombody object jsondata httprequestmessage re new httprequestmessage var headers re.headers headers.contains custom string token headers.getvalues custom first what correct method getting header values thanks,You need to get the HttpRequestMessage from the current OperationContext. Using OperationContext you can do it like soOperationContext context = OperationContext.Current;MessageProperties messageProperties = context.IncomingMessageProperties;HttpRequestMessageProperty requestProperty = messageProperties[HttpRequestMessageProperty.Name] as HttpRequestMessageProperty;string customHeaderValue = requestProperty.Headers["Custom"];
i'm looking command run against msbuild.exe just takes mvc 4 project publishes given directory.for example msbuild lt solution&gt lt project&gt csproj publish output c folderthis obviously incorrect syntax i'm trying simplify my question.this question talks build xml i'm trying do anything much detail.i m simply trying do deploy.further down question someone speaks msdeploy i can look only option i do have ability install web deploy server which case all i really need do publish send contents published project given directory server file system.does anyone have one liner i can use do i have use msdeploy does msdeploy require web deploy installed server doesn't setting up web deploy server require setting up some ports permissions installing some iis add ons i'd love just execute something simple,The command below works perfect:msbuild Myproject.sln  /t:Rebuild /p:outdir="c:\outproject\\" /p:Configuration=Release /p:Platform="Any CPU"
i have 3 text box which takes values postal code amp mobile number amp residential number.i got solution allowing only number text box using jquery from bellow post.i would like make editfor textbox accept numbers onlybut can we do using data annotations i am using mvc4 razor,function NumValidate(e) {var evt = (e) ? e : window.event;var charCode = (evt.keyCode) ? evt.keyCode : evt.which;if (charCode &gt; 31 &amp;&amp; (charCode &lt; 48 || charCode &gt; 57)) {alert('Only Number ');return false;}return true;}  function NumValidateWithDecimal(e) {var evt = (e) ? e : window.event;var charCode = (evt.keyCode) ? evt.keyCode : evt.which;if (!(charCode == 8 || charCode == 46 || charCode == 110 || charCode == 13 || charCode == 9) &amp;&amp; (charCode &lt; 48 || charCode &gt; 57)) {alert('Only Number With desimal e.g.: 0.0');return false;}else {return true;} } function onlyAlphabets(e) {try {if (window.event) {var charCode = window.event.keyCode;}else if (e) {var charCode = e.which;}else { return true; }if ((charCode &gt; 64 &amp;&amp; charCode &lt; 91) || (charCode &gt; 96 &amp;&amp; charCode &lt; 123) || (charCode == 46) || (charCode == 32))return true;elsealert("Only text And White Space And . Allow");return false;}catch (err) {alert(err.Description);}} function checkAlphaNumeric(e) {if (window.event) {var charCode = window.event.keyCode;}else if (e) {var charCode = e.which;}else { return true; }if ((charCode &gt;= 48 &amp;&amp; charCode &lt;= 57) || (charCode &gt;= 65 &amp;&amp; charCode &lt;= 90) || (charCode == 32) || (charCode &gt;= 97 &amp;&amp; charCode &lt;= 122)) {return true;} else {alert('Only Text And Number');return false;}}
way me catch all incoming requests my asp.net mvc 4 app run some code before continuing request onward specified controller action i need run some custom auth code existing services do properly i'll need able intercept all incoming requests from all clients double check some things other service,I'm not sure about MVC4 but I think it is fairly similar to MVC5. If you have created a new web project -> look in Global.asax and you should see the following line FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters); in the method  Application_Start(). RegisterGlobalFilters is a method in the file FilterConfig.cs located in the folder App_Start.As @YngveB-Nilsen said ActionFilterAttribute is the way to go in my opinion. Add a new class that derives from System.Web.Mvc.ActionFilterAttribute. This is important because System.Web.Http.Filters.ActionFilterAttribute will fail with the following exception for example.  The given filter instance must implement one or more of the following  filter interfaces: System.Web.Mvc.IAuthorizationFilter  System.Web.Mvc.IActionFilter System.Web.Mvc.IResultFilter  System.Web.Mvc.IExceptionFilter  System.Web.Mvc.Filters.IAuthenticationFilter.Example that writes the request to the debug window:public class DebugActionFilter : System.Web.Mvc.ActionFilterAttribute{  public override void OnActionExecuting(ActionExecutingContext actionContext)  {Debug.WriteLine(actionContext.RequestContext.HttpContext.Request);  }}In FilterConfig -> RegisterGlobalFilters -> add the following line: filters.Add(new DebugActionFilter());.You can now catch all incoming requests and modify them.
i have asp.net mvc 4 project i'm stuck architectural decision which javascript framework library use angular.js knockjs i am currently leaning towards using angular.js over knockout.js don't want find out midway during project development i made mistake.here some background we need two way model data bindingwe need ability test views i want able do end end unit testing also we using continuous integration save changes functionality ie user makes changes page we need ability detect any changes prompt user save changes before navigate away from page notifications functionality ie user logged approximately 8 hours need notified updated changes made other users errors data status changes like we need future proof our application currently business unit hasn't decided we need support mobile devices i know just matter time.our team consists developers varying experience levels from very junior senior developers.currently our models complicated may get even more sowe need also consider rad code reuse maintainabilityi have read excellent answer here watched scott allen interview about angular heresince we unable change from our current asp.net mvc 4 architecture use something server side like web api i have some concerns trying implement angular.js mvc 4 cause us have two models one server one client i am looking which better discussion about angular knockout because i think both have pros cons i am looking actual code implementing javascript framework library asp.net mvc 4 application i need solution i can live 2 years from now any ideas suggestions maybe answer knock angular some other javascript framework,I don't have a lot of input on AngularJs but want to provide some thoughts on Knockout.Knockout is primarily a data-binding library to connect views to view model but doesn't really provide a lot of capabilities beyond that.  I wouldn't recommend using knockout alone as the main library to build a complex client-based web site.You didn't mention whether you're implementing spa-like functionality (i.e. hash-tag navigation) or whether you're primarily using MVC server-side views (e.g. Razor).  If you're just looking for quick data-binding on a per-page level I would even reconsider that.  To me both of these (angular or knockout) are designed to enhance the client-side development experience - not so much a server-side approach such as MVC.If you're considering an SPA approach even in part you'll likely want some framework that provides some level of control over the view activation life cycle.  As far as data-binding power and reliability I believe in Knockout.  I have been using it extensively and have grown quite fond of it.  If you like the feel of knockout you may want to look into Durandal.  Durandal is a decent framework is able to meet the needs of many "spa" web projects.  It's a client-side framework built on top of several proven libraries including Knockout.  It's a little (lot) more light-weight than Angular and possibly easier to user.We are building a fairly large ASP.Net MVC web site using Durandal with Knockout in conjunction with an additional facade to tighten things up from a development standpoint and the integration with ASP.Net MVC is straight-forward.  I don't recommend trying to use the server-side knockout stuff that's out there; I just find that to limit the real power of the MVVM pattern.
i'm using owin authentication my mvc5 project.this my signinasync private async task signinasync applicationuser user bool ispersistent var accountno 101 authenticationmanager.signout defaultauthenticationtypes.externalcookie var identity await usermanager.createidentityasync user defaultauthenticationtypes.applicationcookie identity.addclaim new claim claimtypes.userdata accountno authenticationmanager.signin new authenticationproperties ispersistent ispersistent redirecturi account index identity you can see i added accountno claims list.now how can i update claim some point my application so far i have public string accountno get var cp claimsprincipal.current.identities.first var account cp.claims.firstordefault p gt p.type claimtypes.userdata return account.value set var cp claimsprincipal.current.identities.first var accountno cp.claims.firstordefault p gt p.type claimtypes.userdata value cp.removeclaim new claim claimtypes.userdataaccountno cp.addclaim new claim claimtypes.userdata value when i try remove claim i get exception claim http schemas.microsoft.com ws/2008/06 identity claims userdata 101 able removed either part identity claim owned principal contains identity example principal own claim when creating genericprincipal roles roles exposed through identity passed constructor actually owned identity similar logic exists roleprincipal.could someone help me figure out how update claim,Here you go:var user = User as ClaimsPrincipal;var identity = user.Identity as ClaimsIdentity;var claim = (from c in user.Claims where c.Type == ClaimTypes.UserData select c).Single();identity.RemoveClaim(claim);taken from here.
error like view loginregister its master found view engine supports searched locations following locations were searched views myaccount loginregister.aspx views myaccount loginregister.ascx views shared loginregister.aspx views shared loginregister.ascx views myaccount loginregister.cshtml views myaccount loginregister.vbhtml views shared loginregister.cshtml views shared loginregister.vbhtmlactually my page view page views home loginregister.cshtml so what i doand my routeconfig public class routeconfig public static void registerroutes routecollection routes routes.ignoreroute resource axd pathinfo routes.maproute name default url controller action id defaults new controller myaccount action loginregister id urlparameter.optional,I had this same issue.I had copied a view "Movie" and renamed it "Customer" accordingly.I also did the same with the models and the controllers.  The resolution was this...I rename the Customer View to Customer1 and  just created a new view and called it Customer....I then just copied  the Customer1 code into Customer.This worked.I would love to know the real cause of the problem.UPDATEJust for grins....I went back and replicated all the renaming scenario again...and did not get any errors.
from what i understand mvc separates class definitions model from presentation view via glue controller controller should have single responsibility therefore testable viewmodels used bring together data from multiple entities massage data from controller view seems like business logic doesn't really have place so i'm thinking another layer services would suitable i'm just sure where place layer how build services should class called services contains bunch functions i'm bit new mvc so any reading material samples general newcomer kind tips would awesome,Sounds like you'd be after something like a repository pattern. You can read about it here: http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-applicationThis answer here may also help:Best Repository Pattern for ASP.NET MVC
how disable automatic browser caching from asp.net mvc application because i am having problem caching caches all links sometimes redirected default index page automatically which stored caching all time i click link redirect me default index page.so some one know how manually disable caching option from asp.net mvc 4,To make my answer visible to all I move my comment to answer for this question.&lt;meta http-equiv="Cache-Control" content="no-cache no-store must-revalidate"&gt;&lt;meta http-equiv="Pragma" content="no-cache"&gt;&lt;meta http-equiv="Expires" content="0"&gt;This will work in all browsers (IE Firefox and Chrome as well).Happy to hear my answer worked for you @Joseph Katzman
i have mvc4 project language selection ennlfrde1 main part aboutcommon menu contactfaqhomeand 3 areas admincustomersshopin each area i have least one controller example admin i have controller overview corresponding view folder overview which contains index.aspx page.the home page all main pages about faq etc work can visited however when i follow url localhost xxxx en admin overviewi get error controller path en admin overview found does implement icontroller.even though route correct i can see route debugger error page also shows error thrown when i wanted load my main menu items lt nav id site navigation class eightcol gt html.action menuitems common lt nav&gt code removed because irrelevant everything seems order mvc doesn't seem able load menu which located main part.so root problem can i grant area eg admin access controllers main part home common about etc my project,In my case in global.asax/application_start method I was registering web api routes AFTER mvc routes like so:RouteConfig.RegisterRoutes(RouteTable.Routes);GlobalConfiguration.Configure(WebApiConfig.Register);Reverting the order fixed the issueGlobalConfiguration.Configure(WebApiConfig.Register);RouteConfig.RegisterRoutes(RouteTable.Routes);
i'm using asp.net mvc 4 rc apicontroller i'm trying unit test get method.this method uses createresponse&lt t&gt method httprequestmessage i've idea how mock make function correctly method body contains mediatypeheadervalue header new mediatypeheadervalue versionedsmartblock.contenttype var response request.createresponse lt smartblock&gt httpstatuscode.ok versionedsmartblock header within my unit test i create empty httprequestmessage callscontroller api new callscontroller managermock.object config adapterfactorymock.object api.request new httprequestmessage httpmethod.get http localhost initiate ern 2b44123456789 var response api.get 44123456789 null just generates invalidoperationexception request does have associated configuration object provided configuration null.has anyone got any pointers how i can configure httprequestmessage so createresponse method actually does its job,WebAPI 1 with VB here!I managed to hybrid responses from your link above to get this to work as simple as this:Dim request As HttpRequestMessage = New HttpRequestMessage()Return request.CreateResponse(HttpStatusCode.BadRequest myCustomClassObject GlobalConfiguration.Configuration)Just posting in case it helps anyone.
i'm using asp.net mvc 4 i am trying pass data from one controller another controller i'm getting right i'm sure possible here my source action method where i want pass data from public class servercontroller controller httppost public actionresult applicationpoolsupdate serviceviewmodel viewmodel xdocument updatedresultsdocument myservice.updateapplicationpools redirect applicationpool controller pass updatedresultsdocument used updateconfirmation action method i need pass action method controller public class applicationpoolcontroller controller public actionresult updateconfirmation xdocument xdocument add implementation code return view i have tried following applicationpoolsupdate action method doesn't work return redirecttoaction updateconfirmation applicationpool new xdocument updatedresultsdocument return redirecttoaction updateconfirmation new controller applicationpool xdocument updatedresultsdocument how would i achieve,i prefer to use this instead of TempData public class Home1Controller : Controller {[HttpPost]public ActionResult CheckBox(string date){return RedirectToAction("ActionName" "Home2" new { Date =date });}}and another controller Action ispublic class Home2Controller : Controller {[HttpPost]Public ActionResult ActionName(string Date){   // do whatever with Date   return View();}}it is too late but i hope to be helpful for any one in the future 
i am process upgrading mvc4 i have followed instructions http www.asp.net whitepapers/mvc4-release notes toc303253806 my razor views layouts i have errors like system.web.webpages.html.htmlhelper does contain definitionfor beginrouteform extension method beginrouteform'accepting first argument type'system web.webpages.html.htmlhelper could found you missinga using directive assembly reference i also have errors like name viewbag does exist current contextwhen i hover over html i can see type system.web.webpages.html.htmlhelper system.web.mvc.htmlhelpernot really sure what other information pertinent where i am i haven't updated class librarys etc sln net 4.5 yet.the project created vs2010 i am doing migration invs2012 project opens runs ok vs2012 net 4.0 mvc 3any pointers appreciated.edit all references files web.config upgraded system.web.mvc version 4.0.0.0 system.web.webpages version 2.0.0.0system.web.helpers version 2.0.0.0 system.web.webpages.razorversion 2.0.0.0edit 2 my views web.config views shared web.config i try paul s solution below element i have my own base type which inherits from system.web.mvc.webviewpage references containing library have been updated mvc4 go definition takes me mvc4 dll.has anything changed area new release i couldn't see anything pertinent release notes,For me the solution was to change the following:  &lt;pagesvalidateRequest="false"pageParserFilterType="System.Web.Mvc.ViewTypeParserFilter System.Web.Mvc Version=5.2.3.0 Culture=neutral PublicKeyToken=31BF3856AD364E35"pageBaseType="System.Web.Mvc.ViewPage System.Web.Mvc Version=5.2.3.0 Culture=neutral PublicKeyToken=31BF3856AD364E35"userControlBaseType="System.Web.Mvc.ViewUserControl System.Web.Mvc Version=5.2.3.0 Culture=neutral PublicKeyToken=31BF3856AD364E35"&gt;  &lt;controls&gt;&lt;add assembly="System.Web.Mvc Version=5.2.3.0 Culture=neutral PublicKeyToken=31BF3856AD364E35" namespace="System.Web.Mvc" tagPrefix="mvc" /&gt;  &lt;/controls&gt;&lt;/pages&gt;
i have wp7 game uses restsharp communicate my mvc4 restful server i often have issues making requests work therefore i want debug where fails.this example where constructor my gamecontroller hit post method hit i don't understand why.client code public void joinrandomgame client new restclient cookiecontainer new cookiecontainer baseurl http localhost 21688/api client.authenticator getauth restrequest request new restrequest method.post requestformat dataformat.json resource game client.postasync request response ds gt server code public void post int id controllercontext.request.headers.authorization null auth loginmanager.verifylogin controllercontext.request.headers.authorization.parameter failed login string username string password loginmanager.decodebase64 controllercontext.request.headers.authorization.parameter out username out password gamemanager.joinrandomgame username my routes like thisroutes.maphttproute name gameapi routetemplate api game gameid defaults new controller game gameid routeparameter.optional,Is GameController deriving from ApiController ?Are you using WebApi ?If not then i think the "/api/" is reserved for new WebApi feature. Try changing your routing and controller name to "gameapi"If however you are using WebApi.Then remove api from yor BaseUrl  client = new RestClient  {  CookieContainer = new CookieContainer()  BaseUrl = "http://localhost:21688/"  };
i have been going through error logs development project found following error name changed protect guilty innocent provided anti forgery token meant user current user admin especially difficult issue reproduce open application login pageopen second window tab same browser same computer login page before logging inlogin first window indeed second order doesn't matter attempt login remaining login windowthe stack trace system.web.mvc.httpantiforgeryexception 0x80004005 provided anti forgery token meant user current user admin system.web.helpers.antixsrf.tokenvalidator.validatetokens httpcontextbase httpcontext iidentity identity antiforgerytoken sessiontoken antiforgerytoken fieldtoken system.web.helpers.antixsrf.antiforgeryworker.validate httpcontextbase httpcontext system.web.helpers.antiforgery.validate system.web.mvc.validateantiforgerytokenattribute.onauthorization authorizationcontext filtercontext system.web.mvc.controlleractioninvoker.invokeauthorizationfilters controllercontext controllercontext ilist 1 filters actiondescriptor actiondescriptor systemwebmvcasyncasynccontrolleractioninvoker lt c displayclass25.b 1e asynccallback asynccallback object asyncstate login method signature httppost allowanonymous validateantiforgerytoken public actionresult login loginmodel model string returnurl exactly same signature method internet asp.net mvc 4 web application templated project which indicates microsoft either felt validateantiforgerytoken necessary best practice simply added attribute here because used everywhere else.obviously nothing i can do handle problem within method isn't reached validateantiforgerytoken pre request filter blocking request before reaches controller.i could check user authenticated via ajax before submitting form attempt redirect them so simply remove attribute.the question i understand token design prevent requests from another site csrf when user already authenticated against your site so basis issue remove from form which definition used unauthenticated users presumably attribute instance designed mitigate malicious actors providing fake login forms your application although time exception thrown presumably user has already entered his her details which have been recorded might alert them something wrong otherwise submitting incorrect credentials form from external site result exactly same result site itself surely i am relying client validation sanitation clean up potentially unsafe input.have other devs come across issue do we have unusually creative users so how have you resolved mitigated update issue still exists mvc5 entirely intentionally now error message provided anti forgery token meant different claims based user than current user when using default template identity providers relevant question interesting answer from microsoft developer evangelist troy fellow pluralsight author adam tuliper anti forgery token login page which recommends simply removing token,Okay please correct me if my assumption is incorrect.When this exception gets thrown you would prefer to let the user continue on while also maybe displaying a relevant message/warning? Because when this exception gets thrown we can already know if the current user is authenticated--we have access to the request.So why wouldn't this be acceptable?[HttpPost][AllowAnonymous][ValidateAntiForgeryToken]public ActionResult Login(LoginModel model string returnUrl){...}/// &lt;summary&gt;/// Handle HttpAntiForgeryException and redirect if user is already authenticated/// &lt;/summary&gt;/// &lt;param name="filterContext"&gt;&lt;/param&gt;/// &lt;remarks&gt;/// See: http://stackoverflow.com/questions/19096723/login-request-validation-token-issue/// &lt;/remarks&gt;protected override void OnException(ExceptionContext filterContext){base.OnException(filterContext);var action = filterContext.RequestContext.RouteData.Values["action"] as string;var controller = filterContext.RequestContext.RouteData.Values["controller"] as string;if ((filterContext.Exception is HttpAntiForgeryException) &amp;&amp;action == "Login" &amp;&amp;controller == "MyController" &amp;&amp;filterContext.RequestContext.HttpContext.User != null &amp;&amp;filterContext.RequestContext.HttpContext.User.Identity.IsAuthenticated){LogManager.GetCurrentClassLogger().Warn("Handled AntiForgery exception because user is already Authenticated: " +filterContext.Exception.Message filterContext.Exception);filterContext.ExceptionHandled = true;// redirect/show error/whatever?filterContext.Result = new RedirectResult("/warning");}}Am I missing something obvious here? I'll remove this answer if it has some implication I'm not seeing.
i have mvc 4.0 webapi project auto generated help based this.my model classes stored another projects my solution generation xml file enabled every project project properties build output xml documentation file enabled local debug all ok xml files copied project directory i see comments fields classes from another projects.but when i use publish profile folder xml files don't copy output folder only one xml file from main webapi project copied so i don't see comments classes from other projects,If you do not want the Documentation File go to the HelpPageConfig.cs and Comment Outconfig.SetDocumentationProvider(new XmlDocumentationProvider(HttpContext.Current.Server.MapPath("~/App_Data/XmlDocument.xml")))
i have mvc4 web api project while running service project i am getting error could load file assembly webgrease version 1.5.1.25624 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies system cannot find file specified.i have added webgrease.dll file still its coming errorand tried changing web.config lt bindingredirect oldversion 0.0.0.0-1.3.0.0 gt and&lt bindingredirect oldversion 0.0.0.0-1.5.2.14234 newversion 1.5.2.14234 gt please advice what i am missing,This problem may also arise if you do not deploy Web.config file to the web server.
i have bin deployed mvc4 application my hosting provider based advice given here one two fly fixes most immediately apparent problem bundling css doesn't work when i replace bundle ref explicit file refs my css works again.i am using standard mvc4 rtm project template from vs2012 provider running iis 7.5 asp.net 4 my previous mvc3 version same app worked fine i am guessing i have grabbed dependency somewhere too low version might also contribute my area based action link problem.technical symptoms line styles.render content css renders lt link href content css v rel stylesheet gt,This solved my issue. I have added these lines in _layout.cshtml@*@Scripts.Render("~/bundles/plugins")*@&lt;script src="/Content/plugins/jQuery/jQuery-2.1.4.min.js"&gt;&lt;/script&gt;&lt;!-- jQuery UI 1.11.4 --&gt;&lt;script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"&gt;&lt;/script&gt;&lt;!-- Kendo JS --&gt;&lt;script src="/Content/kendo/js/kendo.all.min.js" type="text/javascript"&gt;&lt;/script&gt;&lt;script src="/Content/kendo/js/kendo.web.min.js" type="text/javascript"&gt;&lt;/script&gt;&lt;script src="/Content/kendo/js/kendo.aspnetmvc.min.js"&gt;&lt;/script&gt;&lt;!-- Bootstrap 3.3.5 --&gt;&lt;script src="/Content/bootstrap/js/bootstrap.min.js"&gt;&lt;/script&gt;&lt;!-- Morris.js charts --&gt;&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"&gt;&lt;/script&gt;&lt;script src="/Content/plugins/morris/morris.min.js"&gt;&lt;/script&gt;&lt;!-- Sparkline --&gt;&lt;script src="/Content/plugins/sparkline/jquery.sparkline.min.js"&gt;&lt;/script&gt;&lt;!-- jvectormap --&gt;&lt;script src="/Content/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"&gt;&lt;/script&gt;&lt;script src="/Content/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"&gt;&lt;/script&gt;&lt;!-- jQuery Knob Chart --&gt;&lt;script src="/Content/plugins/knob/jquery.knob.js"&gt;&lt;/script&gt;&lt;!-- daterangepicker --&gt;&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js"&gt;&lt;/script&gt;&lt;script src="/Content/plugins/daterangepicker/daterangepicker.js"&gt;&lt;/script&gt;&lt;!-- datepicker --&gt;&lt;script src="/Content/plugins/datepicker/bootstrap-datepicker.js"&gt;&lt;/script&gt;&lt;!-- Bootstrap WYSIHTML5 --&gt;&lt;script src="/Content/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"&gt;&lt;/script&gt;&lt;!-- Slimscroll --&gt;&lt;script src="/Content/plugins/slimScroll/jquery.slimscroll.min.js"&gt;&lt;/script&gt;&lt;!-- FastClick --&gt;&lt;script src="/Content/plugins/fastclick/fastclick.min.js"&gt;&lt;/script&gt;&lt;!-- AdminLTE App --&gt;&lt;script src="/Content/dist/js/app.min.js"&gt;&lt;/script&gt;&lt;!-- AdminLTE for demo purposes --&gt;&lt;script src="/Content/dist/js/demo.js"&gt;&lt;/script&gt;&lt;!-- Common --&gt;&lt;script src="/Scripts/common/common.js"&gt;&lt;/script&gt;&lt;!-- Render Sections --&gt;
how add class attribute following situation using returnurl only using html.beginform new returnurl viewbag.returnurl i want something like using html.beginform new returnurl viewbag.returnurl new class login form,Or simply using html :&lt;form action="/ActionName/ControllerName" method="post" class="login-form"&gt;&lt;/form&gt;
basically i've followed tutorial decided delete mdf file afterwards.now whenever i try run application i get following error title thread code where i get error shown below asp.net mvc 4 odetofooddb db new odetofooddb public actionresult index var model db.restaurants.tolist return view model my connection string following lt add name defaultconnection connectionstring data source localdb v11.0 initial catalog odetofooddb integrated security sspi attachdbfilename datadirectory odetofooddb.mdf providername system.data.sqlclient gt i've tried looking sql server object explorer looks following also server explorer i don't see any data connections.and when i try add new connection server explorer i don't see any databases named odetofooddb.sorry wide question i'm new entity framework don't quite get what wrong here,Ran into the similar problem not exactly the same A case of Database already existed the issue was solved by following code.&lt;add name="DefaultConnection" connectionString="Data Source=.;AttachDbFilename=|DataDirectory|\aspnet-EjournalParsing-20180925054839.mdf;Initial Catalog=aspnet-EjournalParsing-20180925054839;Integrated Security=True"  providerName="System.Data.SqlClient" /&gt;
i'm trying deserialize json returned from http api.usa.gov jobs search.json query nursing jobs using net 4.0 task pattern returns json load json data http jsonviewer.stack.hu id usajobs 353400300 position title nurse organization name indian health service rate interval code pa minimum 42492 maximum 61171 start date 2013-10-01 end date 2014-09-30 locations gallup nm url https www.usajobs.gov getjob viewdetails/353400300 id usajobs 359509200 position title nurse organization name indian health service rate interval code pa minimum 42913 maximum 61775 start date 2014-01-16 end date 2014-12-31 locations gallup nm url https www.usajobs.gov getjob viewdetails/359509200 index action public class homecontroller controller public actionresult index jobs model null var client new httpclient var task client.getasync http api.usa.gov jobs search.json query nursing jobs continuewith taskwithresponse gt var response taskwithresponse.result var jsontask response.content.readasasync lt jobs&gt jsontask.wait model jsontask.result task.wait jobs job class jsonarray public class jobs public list&lt job&gt json public class job jsonproperty organization name public string organization get set jsonproperty position title public string title get set when i set breakpoint jsontask.wait examine jsontask status isfaulted innerexception type projectname.jobs collection i started jobs type without jsonarray attribute jobs array job got error public class jobs public job json innerexception cannot deserialize current json array eg 123 type projectname.models.jobs because type requires json object eg name value deserialize correctly r nto fix error either change json json object eg name value change deserialized type array type implements collection interface eg icollection ilist like list&lt t&gt can deserialized from json array jsonarrayattribute can also added type force deserialize from json array r npath line 1 position 1 system.exception newtonsoft.json.jsonserializationexception how would i process site json net 4.0 task pattern i would like get working before moving onto await async pattern net 4.5.answer update here example using net 4.5 async await pattern brumscouse answer public async task&lt actionresult&gt index list&lt job&gt model null var client newhttpclient net 4.5 async await patternvar task await client.getasync http api.usa.gov jobs search.json query nursing jobs var jsonstring await task.content.readasstringasync model jsonconvert.deserializeobject lt list&lt job&gt gt jsonstring returnview model you need bring system.threading.tasks namespace.note readasstring method available content which why i used readasstringasync method,The return type depends on the server sometimes the response is indeed a JSON array but sent as text/plainSetting the accept headers in the request should get the correct type:client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("application/json")); which can then be serialized to a JSON list or array.Thanks for the comment from @svick which made me curious that it should work.The Exception I got without configuring the accept headers was System.Net.Http.UnsupportedMediaTypeException.Following code is cleaner and should work (untested but works in my case):var client = new HttpClient();client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("application/json"));var response = await client.GetAsync("http://api.usa.gov/jobs/search.json?query=nursing+jobs");var model = response.Content.ReadAsAsync&lt;List&lt;Job&gt;&gt;();
i have one project i want run my update database against i have my models context separate project.if i run enable migrations i get error context type found assembly myproject presumably because my context myproject.mvc.if i run enable migrations against myproject.mvc i have add app config file i don't want do i want use code across many projects.so can i run enable migrations against myproject somehow tell look myproject.mvc context,I had the same problem and I'm using EntityFramework 4.3.1. It seems that EF6 solves this issue (according to the answer by @SOfanatic) but I didn't want to upgrade to EF6 because of some breaking changes (in the DataAnnotations for example).So what I did to solve this (and what I learned in the process):Create a new solution (empty project) and add the project where you have the model you want to enable migrations for (in your case MyProject.MVC). You may need to install the required NuGet packages for it before you are able to add the existing project.Add a config file with a connection string (don't worry this is only to trick the migrations engine). Copy your existing database to the model project output folder (should be MVC\bin\Debug in your case). Make sure the connection string in the config file points to that database:&lt;connectionStrings&gt;&lt;add name="MyDB" providerName="System.Data.SqlServerCe.4.0" connectionString="DataSource=|DataDirectory|\MyDB.sdf"/&gt;  &lt;/connectionStrings&gt;Since you are in a new solution set your model project as a startup project (you can remove the default project).Run the enable-migrations command in the package manager console. It should create a Migrations folder with two files: a Configuration.cs and a timestamped InitialCreate.cs file. It's nice to have the InitialCreate that's why you put your existing database in the model project's output folder (but this is optional).Reload your original solution so that these changes are updated.What I learned (as far as I understand):The migrations engine needs something that looks like a valid connection to work. I was creating my connection string in code (in another project) and that didn't work. I just gave the Migrations engine a "valid" connection string to make it work.Put your database where the migrations engine can find it (aka model project's output folder) so it creates a starting point for migrations. This starting point is basically your database schema written in the migrations API.You can restore everything to your previous state once the migrations are set in place and it works ok.Everytime you want to manually add a migration you must "trick" the migrations engine again just like the first time. I haven't tried with automatic migrations by I guess this approach works as well.By th way I am using a SQL Server CE 4.0 database so some things about the connection string have a little twist compared to a standard SQL Server DB or LocalDB. Besides that everything's the same.Hope this is helpful and gives you some insight. Please comment if you know more about the way this migrations work.
comprehensive list explains all new features mvc4 what all has changed from mvc3 release notes much helpful,One of the important feature introduced in MVC 4.0 was of Asynchronous controllers which enables to write the asynchronous action methods. Asynchronous controller allows an operation to get performed without making the working thread idle.When an asynchronous action is invoked the following steps occur:The Web server gets a thread from the thread pool (the worker thread) and schedules it to handle an incoming request. This worker thread initiates an asynchronous operation.The worker thread is returned to the thread pool to service another Web request.When the asynchronous operation is complete it notifies ASP.NET.The Web server gets a worker thread from the thread pool (which might be a different thread from the thread that started the asynchronous operation) to process the remainder of the request including rendering the response.Converting Synchronous Action Methods to Asynchronous Action MethodsFollowing is the example of synchronous action method and the its asynchronous equivalent version.Synchronous Controller: public class TestController : Controller {   public ActionResult Index(){ return View(); } }Asynchronous variant of above operation:public class TestController : AsyncController{   public void IndexAsync()   {return View();   }  public ActionResult IndexCompleted()  {   return View();  }}Steps:Synchronous Controllers are the classes derived from the Controllerclass to implement an AsyncController instead of deriving thecontroller from Controller derive it from AsyncController class.Controllers that derive from AsyncController enable ASP.NET toprocess asynchronous requests and they can still service synchronousaction methods.Corresponding to the synchronous action method in Synchronouscontroller you need to create two methods for the action inasynchronous controller.First method that initiates the asynchronousprocess must have a name that consists of the action and the suffix"Async". The other method that is invoked when the asynchronousprocess finishes (the callback method) must have a name that consistsof the action and the suffix "Completed".In the above sample example the Index action has been turned intotwo methods in asynchronous controller: IndexAsync andIndexCompleted.The IndexAsync method returns void while the IndexCompleted methodreturns an ActionResult instance. Although the action consists of twomethods it is accessed using the same URL as for a synchronousaction method (for example Controller/Index).Note the following about asynchronous action methods:If the action name is Sample the framework will look for SampleAsync and SampleCompleted methods.View pages should be named Sample.aspx rather than SampleAsync.aspx or SampleCompleted.aspx. (The action name is Sample not SampleAsync)A controller cannot contain an asynchronous method named SampleAsync and a synchronous method named Sample. If it does an AmbiguousMatchException exception is thrown because the SampleAsync action method and the Sample action method have the same request signature.For more details click here : http://www.counsellingbyabhi.com/2014/05/asynchronous-controllers-in-aspnet-mvc.html
i have textbox input some radio buttons example my textbox input html looks like lt input type text name ip id ip gt once user clicks button web page i want pass data my controller lt input type button name add value resource.buttontitleadd onclick location.href url.action add configure new ipvalue valueoftextbox typeid 1 gt maybe trivial my problem i do know how get textbox value pass through controller how can i read textbox value pass controller through ipvalue valueoftextbox,you can do it so simple:First: For Example in Models you have User.cs with this implementationpublic class User {   public string username { get; set; }   public string age { get; set; } } We are passing the empty model to user – This model would be filled with user’s data when he submits the form like thispublic ActionResult Add(){  var model = new User();  return View(model);}When you return the View by empty User as model it maps with the structure of the form that you implemented. We have this on HTML side:@model MyApp.Models.Student@using (Html.BeginForm())  {@Html.AntiForgeryToken()&lt;div class="form-horizontal"&gt;&lt;h4&gt;Student&lt;/h4&gt;&lt;hr /&gt;@Html.ValidationSummary(true "" new { @class = "text-danger" })&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.username htmlAttributes: new {@class = "control-label col-md-2" })&lt;div class="col-md-10"&gt; @Html.EditorFor(model =&gt; model.username new {  htmlAttributes = new { @class = "form- control" } }) @Html.ValidationMessageFor(model =&gt; model.userame "" new { @class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;@Html.LabelFor(model =&gt; model.age htmlAttributes: new { @class= "control-label col-md-2" })&lt;div class="col-md-10"&gt;@Html.EditorFor(model =&gt; model.age new { htmlAttributes = new { @class = "form-control" } })@Html.ValidationMessageFor(model =&gt; model.age "" new {@class = "text-danger" })&lt;/div&gt;&lt;/div&gt;&lt;div class="form-group"&gt;&lt;div class="col-md-offset-2 col-md-10"&gt;&lt;input type="submit" value="Create" class="btn btn-default"  /&gt;&lt;/div&gt;&lt;/div&gt;   &lt;/div&gt;}So on button submit you will use it like this[HttpPost]public ActionResult Add(User user) {   // now user.username has the value that user entered on form }
possible figure out currently executing controller action onactionexecuting,var controllerName = (string)routingValues["controller"];var actionName = (string)routingValues["action"];
i'm using visual studio 2012 have just installed microsoft asp.net web frameworks 2013.1 visual studio expected added option create asp.net mvc 5 empty project thing i see way jump starting already functional base application i had when i using mvc 4 eg asp.net mvc 4 web application i only see empty template.i ve seen answers how can i add mvc 5 project template vs 2012 create run mvc 5 project vs 2012direct download link asp.net mvc 5 vs 2012and found article matter.this obviously show stopper i can always create application from scratch i still would like know possible achieve vs 2012 did i miss step do i need vs 2013 fully functional web application template authentication etc would nice dabble around mvc 5 s new features prototyping,I'm not using 2012 now but rather 2013 and I see the mvc 5 template there. However I did this a while back before I had any mvc 5 templates showing up by installing mvc 5 first. You should be able to download from http://www.asp.net/mvc/mvc5. Also make sure your target framework is set correctly.Then I updated the web config like this:You have to have the correct versions of the assemblies. I googled a lot to get this info so it should still be available if you do some research.
possible display datetime value dd mm yyyy format help html hepler methods asp.net mvc i tried do using some formats html.labelfor adding some annotations related property like below does make any sense any help solve problem would appreciated.model datatype datatype.date displayformat dataformatstring 0 dd mm yyyy applyformatineditmode true public nullable&lt system.datetime gt registrationdate get set,You need to use html helper and you don't need to provide date format in model class. e.x :@Html.TextBoxFor(m =&gt; m.ResgistrationhaseDate "{0:dd/MM/yyyy}")
my application working fine after i did some upgrades i am getting error server error application.attempt security transparent method system.web.mvc.preapplicationstartcode.start access security critical method system.web.webpages.razor.preapplicationstartcode.start failed description unhandled exception occurred during execution current web request please review stack trace more information about error where originated code exception details system.methodaccessexception attempt security transparent method system.web.mvc.preapplicationstartcode.start access security critical method system.web.webpages.razor.preapplicationstartcode.start failed.source error unhandled exception generated during execution current web request information regarding origin location exception can identified using exception stack trace below.version information microsoft net framework version 4.0.30319 asp.net version 4.0.30319.18055i cannot remember updates i did way fix,Install-Package -Id Microsoft.AspNet.WebHelpersInstall-Package Microsoft.AspNet.Mvc -Version 5.0.0 This worked for me
we using mvc bundling our site cssrewriteurltransform makes sure image urls work from dynamic bundle css file only works when using virtual directory i.e http localhost virttualdir does work http localhost does because cssrewriteurltransform tranform does take virtual folder account when rewriting url so image real path localhost vdir content img foo.png rewrite localhost content img foo.png which wrong,I have problems with url that contains "data" and even a url inner another one so I have to re-do the regex this is my solution:public string Process(string includedVirtualPath string input){if (includedVirtualPath == null){throw new ArgumentNullException(nameof(includedVirtualPath));}if (string.IsNullOrWhiteSpace(input)){return input;}var directory = VirtualPathUtility.GetDirectory(includedVirtualPath);if (!directory.EndsWith("/" StringComparison.OrdinalIgnoreCase)){directory += "/";}return new Regex(@"url\s*\(\s*([\'""]?)(?&lt;scheme&gt;(?:(?:data:)|(?:https?:))?)(?&lt;url&gt;(\\\1|.)*?)\1\s*\)").Replace(input match =&gt; string.Concat("url("match.Groups[1].Valuematch.Groups["scheme"].Valuematch.Groups["scheme"].Value == "" ?RebaseUrlToAbsolute(directory match.Groups["url"].Value) :match.Groups["url"].Valuematch.Groups[1].Value")"));}private static string RebaseUrlToAbsolute(string baseUrl string url){if (string.IsNullOrWhiteSpace(url) || string.IsNullOrWhiteSpace(baseUrl)|| url.StartsWith("/" StringComparison.OrdinalIgnoreCase)){return url;}return VirtualPathUtility.ToAbsolute(string.Concat(baseUrl url));}}based on RegEx: Grabbing values between quotation marks
i am working asp.net mvc 4 application which i am using signalr 2.0.1 i mapped using owin startup class worked fine first.all sudden when i tried rebuild my app said type namespace iappbuilder could found.following my start up classusing microsoft.owin using owin using whiteboardapp namespace whiteboardapp public class startup public void configuration iappbuilder app app.mapsignalr i have installed owin package too some reasons i could find owin startup class so i just added normal class included all references needed may i know where i am making mistake,http://www.asp.net/signalr/overview/getting-started/tutorial-getting-started-with-signalrCheck for the visual studio you are usingYou can find the following commentNote: If you are using Visual Studio 2012 the SignalR Hub Class (v2) template will not be available. You can add a plain Class called ChatHub instead.AlsoNote: If you are using Visual Studio 2012 the OWIN Startup Class template will not be available. You can add a plain Class called Startup instead.
i want check url parameter my razor markup example how do i do something like lt div id wrap class url iframe parameter equals 1 iframe page gt,For Asp.net Core 2ViewContext.ModelState["id"].AttemptedValue
i've created couple asp.net mvc applications past i've never used webapis before i'm wondering how i could create simple mvc 4 app does simple crud stuff via webapi instead through normal mvc controller trick webapi should separate solution fact could very well different server domain how do i do what am i missing just matter setting up routes point webapi server all examples i've found showing how consume webapis using mvc application seem assume webapi baked mvc application least same server.oh clarify i'm talking about ajax calls using jquery i mean mvc application controller should use webapi get put data,In this case you can use HttpClient to consume Web API from your controller.
i have asp.net mvc 4 app am using url.action helper like url.action information admin page used both adding new edit admin profile urls follows adding new http localhost 4935/admin information editing existing http localhost 4935/admin information/5 lt admin idwhen i'm editing existing section site decide i would like add new admin i click following link lt href url.action information admin gt add admin&lt a&gt problem however above link actually going http localhost 4935/admin information/5 only happens when i'm page editing existing admin anywhere else site links correctly http localhost 4935/admin informationhas anyone else seen update routeconfig routes.maproute name default url controller action id defaults new controller home action index id urlparameter.optional,You also can use in this form: &lt;a href="@Url.Action("Information" "Admin" null)"&gt; Admin&lt;/a&gt;
i've just installed visual studio 2013 started new mvc 5 project i'm kind new mvc developing i can't figure out how add libraries my project.i see some similar parts example layout.cshtml i have code styles.render content css scripts.render bundles modernizr packages.config file lt packages&gt lt package id antlr version 3.4.1.9004 targetframework net45 gt lt package id bootstrap version 3.0.0 targetframework net45 gt lt package id entityframework version 6.0.0 targetframework net45 gt lt package id jquery version 1.10.2 targetframework net45 gt lt package id jquery.validation version 1.11.1 targetframework net45 gt lt packages&gt far i know something happens global.asaxso i've downloaded jquery ui libraries js css files my question where what should i add term use libraries everywhere like default libraries bootstrap jquery jquery ui has 3 folders content i added folders all content my project i just need add references,After installing JQuery ui using the NuGet add following snippets to BundleConfig.cs as shown below bundles.Add(new ScriptBundle("~/bundles/jqueryui").Include("~/Scripts/jquery-ui-{version}.js"));also  bundles.Add(new StyleBundle("~/Content/themes/base/css").Include("~/Content/themes/base/jquery.ui.core.css""~/Content/themes/base/jquery.ui.autocomplete.css""~/Content/themes/base/jquery.ui.theme.css"));Now add following snippets to your _Layout.cshtml as shown below  @Styles.Render("~/Content/themes/base/css")and @Scripts.Render("~/bundles/jqueryui")I just want to make it little bit clear hope this will help. Thanks  
question already has answer here httpcontext.current resolving mvc 4 project3 answersi can't access httpcontext.current my project mvc4 c 4.5i ve added my reference system.web my project added using instruction my controller page i can access currenthandler only var context httpcontext.currenthandler currentis httpcontext.current deprecated c 4.5 i've looked help page http msdn.microsoft.com en us library system.web.httpcontext.aspx,Adding a bit to mitigate the confusion here. Even though Darren Davies' (accepted) answer is more straight forward I think Andrei's answer is a better approach for MVC applications.The answer from Andrei means that you can use HttpContext just as you would use System.Web.HttpContext.Current. For example if you want to do this:System.Web.HttpContext.Current.User.Identity.Nameyou should instead do this:HttpContext.User.Identity.NameBoth achieve the same result but (again) in terms of MVC the latter is more recommended.Another good and also straight forward information regarding this matter can be found here: Difference between HttpContext.Current and Controller.Context in MVC ASP.NET.
i want set inputs form bind list mvc 4 i know following naming convention input name attributes work lt input name 0 id type text gt lt input name 1 id type text gt lt input name 2 id type text gt i am curious about how forgiving model binder example what about following lt input name 0 id type text gt lt input name 3 id type text gt lt input name 8 id type text gt how would model binder handle would bind list length 9 nulls would still bind list length 3 would choke altogether why i carei want implement dynamic form which user may add rows form also may delete rows from form so i user deletes row 2 out 8 total rows i want know i'll need renumber all subsequent inputs,I got little problem when i using Chrome Browser and click the back buttonand i find the input with type="hidden" when dynamically set values didn't handled properly by the Chrome Browser.maybe we can change &lt;input type="hidden" name="Detes.Index" value="2016/01/06" /&gt;to &lt;div style="display: none"&gt;&lt;input type="text" name="Detes.Index" value="2016/01/06" /&gt;&lt;/div&gt;Form more info:Chrome doesn&#39;t cache hidden form field values for use in browser historyhttp://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx/
i have integrated asp.net mvc 4 existing asp.net web site both works fine i don't see any menu shortcuts create controller view within visual studio ide those only available asp.net mvc template,VS2012 Context menu to Add Controller/View missing In VS2012 &amp; MVC4 try unistall Web API 5.2 in PM:UnInstall-Package Microsoft.AspNet.WebApi 
i'm trying get api controller work inside asp.net mvc 4 web app however every request results 404 i'm stumped i have standard api controller route from project template defined like public static class webapiconfig public static void register httpconfiguration config config.routes.maphttproute name defaultapi routetemplate api controller id defaults new id routeparameter.optional registration invoked global.asax protected void application start arearegistration.registerallareas register api routeswebapiconfig.register globalconfiguration.configuration filterconfig.registerglobalfilters globalfilters.filters routeconfig.registerroutes routetable.routes i have basic api controller like namespace website.controllers public class favoritescontroller apicontroller get api lt controller&gt public ienumerable&lt string&gt get return new first second put api lt controller&gt 5public void put int id delete api lt controller&gt 5public void delete int id now when i browse localhost 59900/api favorites i expect get method invoked instead i get 404 status code following response lt error&gt lt message&gt http resource found matches request uri http localhost 59900/api favorites lt message&gt lt messagedetail&gt type found matches controller named favorites lt messagedetail&gt lt error&gt any help would greatly appreciated i'm losing my mind little bit over here thanks,Had this problem. Had to uncheck Precompile during publishing.
i tried create mvc4 empty project visualstudio 2012 ultimate i got error error template attempted load component assembly nuget.visualstudio.interop version 1.0.0.0 culture neutral publickeytoken b03f5f7f11d50a3a,Open Visual Studio and go to Tools- > Open Extension Manager or Extension and Updates - > Uninstall Nuget Package Manager -> Then Download Nuget Manager again from Online Gallery and then restart visual studio and you wont see the error message.
how can i force format datetime asp.net mvc 4 display mode shows i want edit model doesn't i am using displayfor editorfor applyformatineditmode true dataformatstring 0 dd mm yyyy what i have tried globalization web.config both them my culture uiculture.modifying culture uiculture application start custom modelbinder datetimei have idea how force i need input date dd mm yyyy default.more info my viewmodel like displayname date birth datatype datatype.date displayformat dataformatstring 0 dd mm yyyy applyformatineditmode true public datetime birth get set view i use html.displayfor m gt m.birth works expected i see formatting input date i use html.editorfor m gt m.birth i try input something like 13/12/2000 fails error valid date 12/13/2000 2000/12/13 working expected i need dd mm yyyy custom modelbinder called application start b c i don't know where else.using lt globalization gt i have tried culture ro ro uiculture ro other cultures would give me dd mm yyyy.i have also tried set per thread basis application start lot examples here how do all read question seems darin dimitrov answer work long i don't have client validation.another approach use custom validation including client side validation.i m glad i found out before recreating entire application,Thanks Darin For me to be able to post to the create method It only worked after I modified the BindModel code to :public override object BindModel(ControllerContext controllerContext ModelBindingContext bindingContext){var displayFormat = bindingContext.ModelMetadata.DisplayFormatString;var value = bindingContext.ValueProvider.GetValue(bindingContext.ModelName);if (!string.IsNullOrEmpty(displayFormat) &amp;&amp; value != null){DateTime date;displayFormat = displayFormat.Replace("{0:" string.Empty).Replace("}" string.Empty);// use the format specified in the DisplayFormat attribute to parse the date if (DateTime.TryParse(value.AttemptedValue CultureInfo.GetCultureInfo("en-GB") DateTimeStyles.None out date)){return date;}else{bindingContext.ModelState.AddModelError(bindingContext.ModelNamestring.Format("{0} is an invalid date format" value.AttemptedValue));}}return base.BindModel(controllerContext bindingContext);}Hope this could help someone else...
i have link razor page below html.actionlink create new profile create profile new class toplink i see page view source which below&lt href admin profile create length 7 class toplink gt create new profile&lt a&gt when i click link url like below.http localhost 54876/admin profile create length 7i don't want length 7 why auto generated,Another thing to note since you are defining the controller in the @ActionLink which you may not need to do for example the view that your "Create New Profile" @ActionLink is expressed in might be "/admin/profile/index.cshtml" a view that lists existing profiles in this case you do not need to define the controller in the @ActionLink as the @ActionLink is already relative to the ProfileController so your @ActionLink could be@Html.ActionLink("Create New Profile" "Create" null new { @class="toplink" })I used null instead of new{} as the marked answer does I think this is more appropriate myself. ActionLink overloads are not the most straightforward thing ever.
possible access post get parameters via httpactioncontext object i have set sensors loggs data web server provides rest api i would like introduce some sort authentication authorization letting sensors include hardware id data make lookup database see id exists since api provides many web api action methods i would ideally like use custom authorization attributepublic class apiauthorizationfilter authorizeattribute protected override bool isauthorized httpactioncontext actioncontext return false how can i access post get data from actioncontext edit example postpost api api actionmethod http/1.1 r ncontent type application json r nhost localhost r naccept r ncontent length 52 r n r n id 121a222bc time 2012-02-02 12 00 00 r nhave nice day,You should be able to get this information from actionContext.RequestThat is the way to get to the request data.The posted data is in actionContext.Request.ContentOr if it's a GET request you could get the querystring from actionContext.Request.RequestUri
i'm working existing application has been partially converted over mvc whenever controller responds json actionresult enums sent numbers opposed string name sounds like default serializer should json.net which should sending enums over names opposed integer representation case here.am i missing web.config setting sets default serializer another setting needs changed,ASP.NET MVC 5 Fix:I wasn't ready to change to Json.NET just yet and in my case the error was occurring during the request. Best approach in my scenario was modifying the actual JsonValueProviderFactory which applies the fix to the global project and can be done by editing the global.cs file as such.JsonValueProviderConfig.Config(ValueProviderFactories.Factories);add a web.config entry:&lt;add key="aspnet:MaxJsonLength" value="20971520" /&gt;and then create the two following classespublic class JsonValueProviderConfig{public static void Config(ValueProviderFactoryCollection factories){var jsonProviderFactory = factories.OfType&lt;JsonValueProviderFactory&gt;().Single();factories.Remove(jsonProviderFactory);factories.Add(new CustomJsonValueProviderFactory());}}This is basically an exact copy of the default implementation found in System.Web.Mvc but with the addition of a configurable web.config appsetting value aspnet:MaxJsonLength.public class CustomJsonValueProviderFactory : ValueProviderFactory{/// &lt;summary&gt;Returns a JSON value-provider object for the specified controller context.&lt;/summary&gt;/// &lt;returns&gt;A JSON value-provider object for the specified controller context.&lt;/returns&gt;/// &lt;param name="controllerContext"&gt;The controller context.&lt;/param&gt;public override IValueProvider GetValueProvider(ControllerContext controllerContext){if (controllerContext == null)throw new ArgumentNullException("controllerContext");object deserializedObject = CustomJsonValueProviderFactory.GetDeserializedObject(controllerContext);if (deserializedObject == null)return null;Dictionary&lt;string object&gt; strs = new Dictionary&lt;string object&gt;(StringComparer.OrdinalIgnoreCase);CustomJsonValueProviderFactory.AddToBackingStore(new CustomJsonValueProviderFactory.EntryLimitedDictionary(strs) string.Empty deserializedObject);return new DictionaryValueProvider&lt;object&gt;(strs CultureInfo.CurrentCulture);}private static object GetDeserializedObject(ControllerContext controllerContext){if (!controllerContext.HttpContext.Request.ContentType.StartsWith("application/json" StringComparison.OrdinalIgnoreCase))return null;string fullStreamString = (new StreamReader(controllerContext.HttpContext.Request.InputStream)).ReadToEnd();if (string.IsNullOrEmpty(fullStreamString))return null;var serializer = new JavaScriptSerializer(){MaxJsonLength = CustomJsonValueProviderFactory.GetMaxJsonLength()};return serializer.DeserializeObject(fullStreamString);}private static void AddToBackingStore(EntryLimitedDictionary backingStore string prefix object value){IDictionary&lt;string object&gt; strs = value as IDictionary&lt;string object&gt;;if (strs != null){foreach (KeyValuePair&lt;string object&gt; keyValuePair in strs)CustomJsonValueProviderFactory.AddToBackingStore(backingStore CustomJsonValueProviderFactory.MakePropertyKey(prefix keyValuePair.Key) keyValuePair.Value);return;}IList lists = value as IList;if (lists == null){backingStore.Add(prefix value);return;}for (int i = 0; i &lt; lists.Count; i++){CustomJsonValueProviderFactory.AddToBackingStore(backingStore CustomJsonValueProviderFactory.MakeArrayKey(prefix i) lists[i]);}}private class EntryLimitedDictionary{private static int _maximumDepth;private readonly IDictionary&lt;string object&gt; _innerDictionary;private int _itemCount;static EntryLimitedDictionary(){_maximumDepth = CustomJsonValueProviderFactory.GetMaximumDepth();}public EntryLimitedDictionary(IDictionary&lt;string object&gt; innerDictionary){this._innerDictionary = innerDictionary;}public void Add(string key object value){int num = this._itemCount + 1;this._itemCount = num;if (num &gt; _maximumDepth){throw new InvalidOperationException("The length of the string exceeds the value set on the maxJsonLength property.");}this._innerDictionary.Add(key value);}}private static string MakeArrayKey(string prefix int index){return string.Concat(prefix "[" index.ToString(CultureInfo.InvariantCulture) "]");}private static string MakePropertyKey(string prefix string propertyName){if (string.IsNullOrEmpty(prefix)){return propertyName;}return string.Concat(prefix "." propertyName);}private static int GetMaximumDepth(){int num;NameValueCollection appSettings = ConfigurationManager.AppSettings;if (appSettings != null){string[] values = appSettings.GetValues("aspnet:MaxJsonDeserializerMembers");if (values != null &amp;&amp; values.Length != 0 &amp;&amp; int.TryParse(values[0] out num)){return num;}}return 1000;}private static int GetMaxJsonLength(){int num;NameValueCollection appSettings = ConfigurationManager.AppSettings;if (appSettings != null){string[] values = appSettings.GetValues("aspnet:MaxJsonLength");if (values != null &amp;&amp; values.Length != 0 &amp;&amp; int.TryParse(values[0] out num)){return num;}}return 1000;}}
i want public ip address client who using my website.the code below showing local ip lan i want public ip client get mac addressnetworkinterface nics networkinterface.getallnetworkinterfaces string smacaddress string.empty foreach networkinterface adapter nics smacaddress string.empty only return mac address from first card ipinterfaceproperties properties adapter.getipproperties smacaddress adapter.getphysicaladdress tostring get ip addressstring iphost dns.gethostname string ip dns.gethostbyname iphost addresslist 0 tostring output ip address 192.168.1.7please help me get public ip address,lblmessage.Text =Request.ServerVariables["REMOTE_HOST"].ToString();
i have made dreadful error upgrading from mvc4 mvc5 pre release updating razor mvc webpage my references i have system.web.mvc system.web.webpages system.web.webpages.razor system.web.razor version v4.0.30319 when i run my application i get system.web.webpages.razor.configuration.hostsection cannot cast b system.web.webpages.razor.configuration.hostsection.type originates from system.web.webpages.razor version 2.0.0.0 culture neutralpublickeytoken 31bf3856ad364e35 context default location'c windows microsoft.net assembly gac msil system.web.webpages.razor v4.0_2.0.0.0 31bf3856ad364e35 system.web.webpages.razor.dll type b originates from'system web.webpages.razor version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c windows microsoft.net framework64 v4.0.30319 temporary asp.net files membership c70f06fe 9163b1ca assembly dl3 291c956e 73c25daa_cf74ce01 system.web.webpages.razor.dll same http www.asp.net whitepapers/mvc4-release notesthanksadding stacktrace invalidcastexception system.web.webpages.razor.configuration.hostsection cannot cast b systemwebwebpagesrazorconfigurationhostsection type originates from system.web.webpages.razor version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c windows microsoft.net assembly gac msil system.web.webpages.razor v4.0_2.0.0.0 31bf3856ad364e35 system.web.webpages.razor.dll type b originates from system.web.webpages.razor version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location'c windows microsoft.net framework64 v4.0.30319 temporary asp.net files c70f06fe 9163b1ca assembly dl3 291c956e 73c25daa_cf74ce01 system.web.webpages.razor.dll system.web.webpages.razor.webrazorhostfactory.createhostfromconfig string virtualpath string physicalpath 193system.web.webpages.razor.razorbuildprovider.gethostfromconfig 51system.web.webpages.razor.razorbuildprovider.createhost 24system.web.webpages.razor.razorbuildprovider.get host 34system.web.webpages.razor.razorbuildprovider.ensuregeneratedcode 85system.web.webpages.razor.razorbuildprovider.get codecompilertype 34system.web.compilation.buildprovider.getcompilertypefrombuildprovider buildprovider buildprovider 189system.web.compilation.buildproviderscompiler.processbuildproviders 265system.web.compilation.buildproviderscompiler.performbuild 21system.web.compilation.buildmanager.compilewebfile virtualpath virtualpath 580system.web.compilation.buildmanager.getvpathbuildresultinternal virtualpath virtualpath boolean nobuild boolean allowcrossapp boolean allowbuildinprecompile boolean throwifnotfound boolean ensureisuptodate 571system.web.compilation.buildmanager.getvpathbuildresultwithnoassert httpcontext context virtualpath virtualpath boolean nobuild boolean allowcrossapp boolean allowbuildinprecompile boolean throwifnotfound boolean ensureisuptodate 203system.web.compilation.buildmanager.getvirtualpathobjectfactory virtualpath virtualpath httpcontext context boolean allowcrossapp boolean throwifnotfound 249system.web.compilation.buildmanager.getcompiledtype virtualpath virtualpath 17system.web.mvc.buildmanagercompiledview.render viewcontext viewcontext textwriter writer 90system.web.mvc.viewresultbase.executeresult controllercontext context 380system.web.mvc.controlleractioninvoker.invokeactionresultfilterrecursive ilist 1 filters int32 filterindex resultexecutingcontext precontext controllercontext controllercontext actionresult actionresult 109system.web.mvc.controlleractioninvoker.invokeactionresultfilterrecursive ilist 1 filters int32 filterindex resultexecutingcontext precontext controllercontext controllercontext actionresult actionresult 890system.web.mvc.controlleractioninvoker.invokeactionresultwithfilters controllercontext controllercontext ilist 1 filters actionresult actionresult 97systemwebmvcasync lt gt c displayclass1e lt begininvokeaction&gt b 1b iasyncresult asyncresult 241systemwebmvccontroller lt beginexecutecore&gt b 1d iasyncresult asyncresult executecorestate innerstate 29system.web.mvc.async.wrappedasyncvoid 1.callenddelegate iasyncresult asyncresult 111system.web.mvc.controller.endexecutecore iasyncresult asyncresult 53system.web.mvc.async.wrappedasyncvoid 1.callenddelegate iasyncresult asyncresult 19systemwebmvcmvchandler lt beginprocessrequest&gt b 4 iasyncresult asyncresult processrequeststate innerstate 51system.web.mvc.async.wrappedasyncvoid 1.callenddelegate iasyncresult asyncresult 111system.web.callhandlerexecutionstep.system.web.httpapplication.iexecutionstep.execute 606system.web.httpapplication.executestep iexecutionstep step boolean&amp completedsynchronously 288,Here is the the whole Views\Web.config from a fresh ASP.NET MVC 5 with Razor 3 view engine. Out of the Box (OOTB) original raw file. &lt;?xml version="1.0"?&gt;&lt;configuration&gt;  &lt;configSections&gt;&lt;sectionGroup name="system.web.webPages.razor" type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup System.Web.WebPages.Razor Version=3.0.0.0 Culture=neutral PublicKeyToken=31BF3856AD364E35"&gt;  &lt;section name="host" type="System.Web.WebPages.Razor.Configuration.HostSection System.Web.WebPages.Razor Version=3.0.0.0 Culture=neutral PublicKeyToken=31BF3856AD364E35" requirePermission="false" /&gt;  &lt;section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection System.Web.WebPages.Razor Version=3.0.0.0 Culture=neutral PublicKeyToken=31BF3856AD364E35" requirePermission="false" /&gt;&lt;/sectionGroup&gt;  &lt;/configSections&gt;  &lt;system.web.webPages.razor&gt;&lt;host factoryType="System.Web.Mvc.MvcWebRazorHostFactory System.Web.Mvc Version=5.2.3.0 Culture=neutral PublicKeyToken=31BF3856AD364E35" /&gt;&lt;pages pageBaseType="System.Web.Mvc.WebViewPage"&gt;  &lt;namespaces&gt;&lt;add namespace="System.Web.Mvc" /&gt;&lt;add namespace="System.Web.Mvc.Ajax" /&gt;&lt;add namespace="System.Web.Mvc.Html" /&gt;&lt;add namespace="System.Web.Optimization"/&gt;&lt;add namespace="System.Web.Routing" /&gt;&lt;add namespace="WebApplicationNet4._5._2" /&gt;  &lt;/namespaces&gt;&lt;/pages&gt;  &lt;/system.web.webPages.razor&gt;  &lt;appSettings&gt;&lt;add key="webpages:Enabled" value="false" /&gt;  &lt;/appSettings&gt;  &lt;system.webServer&gt;&lt;handlers&gt;  &lt;remove name="BlockViewHandler"/&gt;  &lt;add name="BlockViewHandler" path="*" verb="*" preCondition="integratedMode" type="System.Web.HttpNotFoundHandler" /&gt;&lt;/handlers&gt;  &lt;/system.webServer&gt;  &lt;system.web&gt;&lt;compilation&gt;  &lt;assemblies&gt;&lt;add assembly="System.Web.Mvc Version=5.2.3.0 Culture=neutral PublicKeyToken=31BF3856AD364E35" /&gt;  &lt;/assemblies&gt;&lt;/compilation&gt;  &lt;/system.web&gt;&lt;/configuration&gt;It is pretty much a set it and forget it file so I hope this can help with MVC4 to MVC5 upgrades. Make sure to then check/cross reference your Project References versions. I've moved to just using NuGet for package management and managing dependencies.
i've been working mvc 4 solution i've been trying upgrade mvc 5 i've followed steps outlined here.i ve followed now whenever i run mvc application gives me error message system.web.webpages.razor.configuration.hostsection cannot cast b systemwebwebpagesrazorconfigurationhostsection type originates from system.web.webpages.razor version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c windows microsoft.net assembly gac msil system.web.webpages.razor v4.0_2.0.0.0 31bf3856ad364e35 system.web.webpages.razor.dll type b originates from system.web.webpages.razor version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 context default location c users user appdata local temp temporary asp.net files root 665ac028 de53a189 assembly dl3 c2c0a4b5 56e8099e_40e0ce01 system.web.webpages.razor.dll does anyone know how could have originated how can solved i've looked around thus far i've tried changing web.config files avail,Looks like you still have a reference to Razor 2.0 dll.Check your project references' properties - especially 'Use specific version' one.
i am using asp.net mvc 4 i have multiple buttons view present i am calling same action method i am distinguishing clicked button using name attribute using html.beginform submit searchdisplay new id model null guid.newguid tostring model.savedsearch formmethod.post lt div class leftsidediv gt lt input type submit id btnexport class exporttoexcelbutton name command value export excel gt lt div&gt lt div class pagewrapperforsearchsubmit gt lt input type submit class submitbutton value submit id btnsubmitchange gt lt div&gt action httppost public actionresult submit searchcostpage searchmodel string command sessionhelper.projectcase searchmodel.projectcasenumber string.equals command constants.searchpage.exporttoexcel questionsis way direct different post action methods different button clicks without custom routing way without custom routing how can we do custom routing references jimmy bogard cleaning up posts asp.net mvc,you can use ajax calls to call different methods without a postback$.ajax({type: "POST" url: "@(Url.Action("Action" "Controller"))" data: {id: 'id' id1: 'id1' } contentType: "application/json; charset=utf-8" cache: false async: true success: function (result) {//do something }});
i am developing restful service i want return 400 all unsupported urls.my question when should i choose method 1 over method 2 vice versa method 1public actionresult index url unsupportedthrow new httpexception 400 bad request one seems better method 2public actionresult index url unsupportedreturn new httpstatuscoderesult httpstatuscode.badrequest bad request,Although this question is a bit old I figured I'd give my input since I came across this.Errors are values. This goes for an HttpException (when unthrown) as well as an HttpStatusCodeResult. Thrown exceptions however create new code paths that are hidden away from your coworkers that may be one execution context higher up than yours and have to be given documentation that these code paths will be passed to them without notice. Values however tell you everything you need to know through their type. You can use their type in the expected execution path to tell whether an error has occured as well as find associated information with that error and log it. I sometimes use (lightly extended) Exception's without throwing them to the next execution context to extract the useful debug information that David Rodriguez mentioned. There's never an excuse to be handing thrown exceptions to execution contexts above you that aren't actually exceptional and this only really applies to things that are actually outside of your code's ability to handle (StackOverflowException other fatal system exceptions etc). In a networked application such as whatever MVC service you're running the performance penalty from throwing exceptions is meaningless. The semantics and effects on maintainability are not.Network errors are values and you should handle them like so.
i am currently using dbcontext similar namespace models public class contextdb dbcontext public dbset&lt user&gt users get set public dbset&lt userrole&gt userroles get set public contextdb i am using following line top all my controllers need access database im also using my userrepository class which contains all methods relating user getting active user checking what roles he has etc contextdb db new contextdb thinking about occations when one visitor can have multiple dbcontexts active ie hes visiting controller uses userrepository might best ideas i've got few questions about itwhen should i make new dbcontext should i have one global context i pass around can i have one global context i reuse all places does cause performance hit how everyone else doing,This is obviously an older question but if your using DI you can do something like this and scope all your objects for the lifetime of the request public class UnitOfWorkAttribute : ActionFilterAttribute{public override void OnActionExecuting(HttpActionContext actionContext){var context = IoC.CurrentNestedContainer.GetInstance&lt;DatabaseContext&gt;();context.BeginTransaction();}public override void OnActionExecuted(HttpActionExecutedContext actionContext){var context = IoC.CurrentNestedContainer.GetInstance&lt;DatabaseContext&gt;();context.CloseTransaction(actionContext.Exception);}}
i'm writing web app net mvc4 would like use markdown i understand few open source c markdown libraries i haven't found one obviously supports embedding youtube vimeo videos inside markdown text.does anyone know possible,&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/-mUJnKI3ipI" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;
you look here you notice guy showing entity model diagrams i would like know how i can create entity model diagram from my entityframework code first classes just gets frustrating trying remember how everything links together just looking code,To retain layout from a previous EF Power Tools generated diagram this will carry over the Entities positions and colours etc. that exist in the new one and leave any additions as is. Otherwise you don't see the new entities in the diagram.static void CopyLayout(string srcFile string destFile){var oldModel = XDocument.Load(srcFile);var newModel = XDocument.Load(destFile);XNamespace edmxNs = "http://schemas.microsoft.com/ado/2009/11/edmx";// find all entity shapesvar oldEts = oldModel.Root.Descendants(edmxNs + "EntityTypeShape").Select(ets =&gt; ets).ToList();var newEts = newModel.Root.Descendants(edmxNs + "EntityTypeShape").Select(ets =&gt; ets).ToList();// replace any matching new with oldforeach (var newEt in newEts){var match = oldEts.SingleOrDefault(ot =&gt; ot.Attribute(@"EntityType").Value == newEt.Attribute(@"EntityType").Value);if (match != null)newEt.ReplaceAttributes(match.Attributes());}newModel.Save(destFile);}
i want know any technique so we can pass model parameter redirecttoactionfor example public class student public int id get set public string name get set controllerpublic class studentcontroller controller public actionresult fillstudent return view httppost public actionresult fillstudent student student1 return redirecttoaction getstudent student new student student1 public actionresult getstudent student student return view my question can i pass student model redirecttoaction,  [HttpPost]public async Task&lt;ActionResult&gt; Capture(string imageData){  if (imageData.Length &gt; 0){var imageBytes = Convert.FromBase64String(imageData);using (var stream = new MemoryStream(imageBytes)){var result = (JsonResult)await IdentifyFace(stream);var serializer = new JavaScriptSerializer();var faceRecon = serializer.Deserialize&lt;FaceIdentity&gt;(serializer.Serialize(result.Data));if (faceRecon.Success) return RedirectToAction("Index" "Auth" new { param = serializer.Serialize(result.Data) });}}return Json(new { success = false responseText = "Der opstod en fejl - Intet billede manglede data." } JsonRequestBehavior.AllowGet);}// GET: Auth[HttpGet]public ActionResult Index(string param){var serializer = new JavaScriptSerializer();var faceRecon = serializer.Deserialize&lt;FaceIdentity&gt;(param);return View(faceRecon);}
i like new simplemembership feature mvc 4 internet template links oauth external logins vs 2012 rtm most part authentication feature working however even after spending over 8 hours i am unable implement roles based authorization work my controllers simplemembership turning out anything simple.i have searched stackoverflow googled have read latest john galloway tried many suggestions still have been able resovle issue all started getting sql connection error could figure out why when connection string everything else good took many hours figure out roles class causing problem.the authorize attribute controllers works before basic authentication any time i try use roles give sql connection error because reverts old defaultrolesprovider which tries connect default sqlexpress aspnetdb file fails so something like authorize roles admin does work work i go back old asp.net membership providers i lose simple database tables token bases confirmation recovery more secure password hashing more importantly external logins via oauth.the only thing works inside code razor views user.isinrole admin which ok menu items ver cumbersome implement inside every single action controller i do like only tests single role time i greatly appreciate any guidance resovle issue,Had the same problem when I was moving my web app from VS2010/MVC3 to VS2012/MVC4. And couldn´t get [InitializeSimpleMembership] to work.Found out that adding this to your web.config does the trick:  &lt;appSettings&gt;&lt;add key="enableSimpleMembership" value="false" /&gt;  &lt;/appSettings&gt;And everything works fine as it did before.
i've been working angularjs project inside asp.net mvc using web api works great except when you try go directly angular routed url refresh page rather than monkeying server config i thought would something i could handle mvc routing engine.current webapiconfig public static class webapiconfig public static void register httpconfiguration config web api routesconfig.maphttpattributeroutes config.routes.maphttproute name defaultapi routetemplate api controller id defaults new id routeparameter.optional constraints new id 0-9 config.routes.maphttproute name apiwithactionandname routetemplate api controller action name defaults nullconstraints new name z config.routes.maphttproute name apiwithaction routetemplate api controller action defaults new action get current routeconfig public class routeconfig public static void registerroutes routecollection routes routes.ignoreroute resource axd pathinfo routes.ignoreroute allow index.html loadroutes.ignoreroute partials routes.ignoreroute assets current global.asax.cs public class webapiapplication httpapplication protected void application start arearegistration.registerallareas globalconfiguration.configure webapiconfig.register filterconfig.registerglobalfilters globalfilters.filters routeconfig.registerroutes routetable.routes var formatters globalconfiguration.configuration.formatters formatters.remove formatters.xmlformatter globalconfiguration.configuration.formatters.jsonformatter.serializersettings new jsonserializersettings formatting formatting.indentedpreservereferenceshandling preservereferenceshandling.nonereferenceloophandling referenceloophandling.ignore goal api continues go webapi partials assets all go file system absolutely anything else gets routed index.html which my angular single page app edit i seem have gotten working added bottom routeconfig.cs routes.mappageroute default anything index.html change root web.config lt system.web gt lt compilation debug true targetframework 4.5.1 gt lt buildproviders&gt lt add extension html type system.web.compilation.pagebuildprovider gt lt allows routing everything index.html gt lt buildproviders&gt lt compilation&gt lt system.web gt however smells like hack any better way do,Well I just removed the RouteConfig.RegisterRoutes(RouteTable.Routes); call in Global.asax.cs and now whatever url I enter if the resource exists it will be served.  Even the API Help Pages still work.
i have web service made using webapi provided asp net mvc 4.i know layer top which webapi works automatically handles odata queries filter top skip what i want handle filtering myself i don't simply return data from my database i have another layer which adds some properties makes some conversions etc so querying all my data converting them returning them webapi class odata filtering isn't just good enough course terribly slow generally crappy idea.so way propagate odata query parameters from my webapi entry point functions i call get convert data example get api people skip 10 amp top 10 would call server public iqueryable&lt person&gt get return personservice.get somethingaboutcurrentrequest.currentodata personservice public iqueryable&lt person&gt getpeople var odataqueries iqueryable&lt serversideperson&gt serverpeople from p dbcontext.serversideperson select p make odata queries skipserverpeople serverpeople.skip odataqueries.skip takeserverpeople serverpeople.take odataqueries.take so convert themiqueryable&lt person&gt people converter.convertpersonlist serverpeople return people,I did something like this with WCF Data Services and asp.net mvc 3.5 but it was a bit of a kludge.The first step is to rewrite the path so that the skip and top options don't get applied twice once by you and once by the runtime.  I did the rewriting with an HttpModule.  In your BeginRequest method you'd have code like this:HttpApplication app = (HttpApplication)sender;if (HttpContext.Current.Request.Path.Contains(YOUR_SVC)){if (app.Request.Url.Query.Length &gt; 0){//skip questionmarkstring queryString = app.Request.Url.Query.Substring(1) .Replace("$filter=" "filter=").Replace("$orderby=" "orderby=").Replace("$top=" "top=").Replace("$skip=" "skip=");HttpContext.Current.RewritePath(app.Request.Path "" queryString);}}Then just examine the query string and pluck out the parameters you need.  if (HttpContext.Current.Request.QueryString["filter"] != null)var filter = HttpContext.Current.Request.QueryString["filter"] as string;Then split the filter string and parse it into a sql statement or any other db commands.  I was using NHibernate in my case.  I was also able to limit what filter commands I supported  which made things easier. I didn't do groupings for example.  Mostly just the comparison operators.There's a list of filter operators at OData.org.  Split the string by "and" and "or" into individual clauses.  Split each clause by a space and you should get a 3 element array with the property name in [0] the operator in [1] and the value in [2].The clauses will be in terms of a Person but I'm assuming you'll be able to convert them into something that will pull the right results out of the db.  I ended up abandoning this approach since it won't work for POSTS.  I had to write my own Linq provider but writing my own filter string parser made that easier to understand.
razor view has 3 buttons inside form all button actions need form values which basically values coming input fields.every time i click any buttons redirected me default action can you please guide how i can submit form different actions based button press i really appreciate your time guidance help,Didn't see an answer using tag helpers (Core MVC) so here it goes (for a delete action):On HTML:&lt;form action="" method="post" role="form"&gt;&lt;table&gt;@for (var i = 0; i &lt; Model.List.Count(); i++){&lt;tr&gt;&lt;td&gt;@Model.List[i].ItemDescription&lt;/td&gt;&lt;td&gt;&lt;input type="submit" value="REMOVE" class="btn btn-xs btn-danger"  asp-controller="ControllerName" asp-action="delete" asp-route-idForDeleteItem="@Model.List[i].idForDeleteItem" /&gt;&lt;/td&gt;&lt;/tr&gt;}&lt;/table&gt;&lt;/form&gt;On Controller:[HttpPost("[action]/{idForDeleteItem}") ActionName("Delete")]public async Task&lt;IActionResult&gt; DeleteConfirmed(long idForDeleteItem){///delete with param id goes here}Don't forget to use [Route("[controller]")] BEFORE the class declaration - on controller.
i have form using html.beginform new returnurl viewbag.returnurl html.antiforgerytoken html.validationsummary action httppost allowanonymous validateantiforgerytoken public actionresult login loginmodel model string returnurl string city occasionally once week i get error anti forgery token could decrypted application hosted web farm cluster ensure all machines running same version asp.net web pages configuration specifies explicit encryption validation keys autogenerate cannot used cluster.i try add webconfig lt machinekey validationkey autogenerateisolateapps decryptionkey autogenerateisolateapps gt error still appears occasionallyi noticed error occurs example when person came from one computer trying another computeror sometimes auto value set incorrect data type like bool integer form field any jquery code please also check,If you use Kubernetes and have more than one pod for your app this will most likely cause the request validation to fail because the pod that generates the RequestValidationToken is not necessarily the pod that will validate the token when POSTing back to your application. The fix should be to configure your nginx-controller or whatever ingress resource you are using and tell it to load balance so that each client uses one pod for all communication.Update: I managed to fix it by adding the following annotations to my ingress:https://kubernetes.github.io/ingress-nginx/examples/affinity/cookie/NameDescription Valuesnginx.ingress.kubernetes.io/affinitySets the affinity type  string (in NGINX only cookie is possiblenginx.ingress.kubernetes.io/session-cookie-name Name of the cookie that will be usedstring (default to INGRESSCOOKIE)nginx.ingress.kubernetes.io/session-cookie-hash Type of hash that will be used in cookie value  sha1/md5/index
i'm trying change emitted name html input created html.hiddenfor.the code i'm using html.hiddenfor e gt e.someproperty new id some property name some property now works id however doesn't work name now i don't really care id now i need name change because one get posted back target server.is therea property i can apply someproperty my model way html.hiddenfor override name property am i stuck do plain lt input gt hand,never worked for me (aspnet.core)I used plain  &lt;input type="hidden" id="@myid" name="@myname" value="@Model.prop" /&gt;and worked like a charm.  No need for HtmlHelper HiddenForModel.
edit we're using mvc4 dev preview i'm implementing edit page fishingtrip class fishingtrip contains child collection simple crew objects ie fishingtripid crewid crewposition i'm using jarrett meyer approach add edit delete from crew collection.i m using unobtrusive validation specify properties crew all required.my problem when i logically delete item from list per jarrett method i don't want item validated.i have successfully tweaked removerow method client side disable unobtrusive validation logically deleted item so form post despite being item contains blank fields my controller method httppost edit modelstate.isvalid starts off false expected because logically deleted item contains blank fields so i remove item from my viewmodel modelstate.isvalid still false summary i think i want modify my viewmodel within controller method remove offending item call some kind revalidate have modelstate.isvalid show up true.any ideas,Late to the game but still: I was also looking for a way to validate model after doing some tweaks to it (more precisely - to the items of its nested collection) - and TryValidateModel didn't work for me as it doesn't process nested objects.Finally I settled with custom model binder:public class MyItemModelBinder : DefaultModelBinder{protected override void OnModelUpdated(ControllerContext controllerContext ModelBindingContext bindingContext){if (bindingContext.ModelType == typeof(MyItemModel)){MyItemModel item = (MyItemModel)bindingContext.Model;//do required tweaks on model here //(I needed to load some additional data from DB)}//validation code will be called here in OnModelUpdated implementationbase.OnModelUpdated(controllerContext bindingContext);}}on the model class:[ModelBinder(typeof(MyItemModelBinder))]public class MyItemModel : IValidatableObject{//...}
mvc 4 beta project fails compile after upgrading net 4.5.this happens due conflict betweensystem.componentmodel.dataannotations.compareattribute system.web.mvc.compareattributesystem.componentmodel.dataannotations.compareattribute msdn documentation says provides attribute compares two properties.while system.web.mvc.compareattribute msdn documentation says provides attribute compares two properties model.what difference between two when would smarter use each them 10x,On this post they also suggest another solution which is to move the reference of the preferred namespace for Compare() inside the model's namespace. Eg. if you prefer to use Compare from System.Web.Mvc use:using System.ComponentModel.DataAnnotations;namespace MyProject.MyViewModel{using System.Web.Mvc;The compiler will search inside the model's namespace first.
i'm trying use mvc4 bundling group some my less files looks like import path i'm using off my directory structure static less mixins.lessadmin user.lessin user.less i'm attempting import mixins.less using import mixins.less used work me before when using chirpy dotless now i noticed elmah getting mad me saying system.io.filenotfoundexception you importing file ending less cannot found.file name mixins.less am i supposed use different import mvc4 some additional infohere less class global.asax.cs code i'm using attempt lessminifycs public class lessminify cssminify public lessminify public override void process bundlecontext context bundleresponse response response.content less.parse response.content base.process context response globalasaxcs dynamicfolderbundle lessfb new dynamicfolderbundle less new lessminify less bundletable.bundles.add lessfb bundle adminless new bundle adminlessbundle new lessminify adminless.addfile static less admin user.less bundletable.bundles.add adminless,I have been through the same problem seeing the same error message. Looking for a solution on the internet brought me here. My problem was as follows:Within a less file I had at some point an incorrect style which was giving me a warning. The less file couldn't be parsed. I got rid of the error message by removing the incorrect line.I hope this helps someone.
can anyone tell me why client side validation working my mvc 4 application layout.schtml@scripts.render bundles jquery rendersection scripts required false my web.config i have lt appsettings&gt lt add key clientvalidationenabled value true gt lt add key unobtrusivejavascriptenabled value true gt lt appsettings&gt my login.cshtml page i have using html.beginform lt div class formscontent gt lt ol&gt lt li&gt html.labelfor x gt x.agreementnumber lt br gt html.textboxfor x gt x.agreementnumber new size 30 lt br gt html.validationmessagefor m gt m.agreementnumber lt br gt lt br gt lt li&gt lt li&gt html.labelfor x gt x.username lt br gt html.textboxfor x gt x.username new size 30 lt br gt html.validationmessagefor m gt m.username lt br gt lt br gt lt li&gt lt li&gt html.labelfor x gt x.password lt br gt html.passwordfor x gt x.password new size 30 lt br gt html.validationmessagefor m gt m.password lt br gt lt br gt lt li&gt lt ol&gt lt div&gt lt ol&gt lt li&gt html.checkboxfor m gt m.rememberme html.labelfor m gt m.rememberme new class checkbox lt li&gt lt ol&gt lt br gt lt input class mainbutton type submit value model.localisation.translatehtmlstring logonbtn gt lt br gt lt div style text align left padding 0 5px 5px 10px gt forgot login info clik lt class link href url.action index credentials gt here lt a&gt lt div&gt bottom login page section scripts scripts.render bundles jqueryval javascript enabled my browser mvc 4 template project from visual studio client validation works fine.running application login page when viewing page source i see rendered lt label agreementnumber gt number&lt label&gt lt br gt lt input id agreementnumber name agreementnumber size 30 type text value 387893 gt lt br gt lt span class field validation valid data valmsg agreementnumber data valmsg replace true gt lt span&gt bottom lt script src bmwebsite scripts jquery.unobtrusive ajax.js gt lt script&gt lt script src bmwebsite scripts jquery.validate.inline.js gt lt script&gt lt script src bmwebsite scripts jquery.validate.js gt lt script&gt lt script src bmwebsite scripts jquery.validate.unobtrusive.js gt lt script&gt my model properties annotated public class logonmodel modelbase myrequired agreementnumberrequiredproperty mydisplay agreementnumberlabel public string agreementnumber get set myrequired usernamerequiredproperty mydisplay usernamelabel public string username get set myrequired passwordrequiredproperty datatype datatype.password mydisplay passwordlabel public string password get set mydisplay remembermecheckbox public bool rememberme get set myrequired class derived from regular requiredattribute reason my error messages localised overriding formaterrormessage string name method requiredattribute class works fine my labels error messages localized.myrequired.cspublic class myrequiredattribute requiredattribute private readonly string errormessagekey public myrequiredattribute string errormessage errormessagekey errormessage public override string formaterrormessage string name var translation httpcontext.current.session translation localisationhelper return translation null translation.translate errormessagekey errormessage i put breakpoint post version my login action method being hit form posted server where server side validation happens client side validation doesn't happen.what am i missing thank you,  @section Scripts {&lt;script src="../Scripts/jquery.validate-vsdoc.js"&gt;&lt;/script&gt;&lt;script src="../Scripts/jquery.validate.js"&gt;&lt;/script&gt;&lt;script src="../Scripts/jquery.validate.min.js"&gt;&lt;/script&gt;&lt;script src="../Scripts/jquery.validate.unobtrusive.js"&gt;&lt;/script&gt;&lt;script src="../Scripts/jquery.validate.unobtrusive.min.js"&gt;&lt;/script&gt;}
my mvc app controller gets data model from external api so model class being used passes view data model has container which several objects several fields string values one view iterates over each object calls another view draw each them view iterates over fields string values draws them.here s where gets tricky me sometimes i want do some special formatting fields string values i could write 20 lines code formatting i would have do each every field would just silly oh so ugly instead i would like take field string value pass method get another string value back do every field.so here my question how do i call method from view i realize i may asking wrong question here answer probably i don't i should use local model deserialize object i get from external api my local model my local model do special formatting before i pass view i'm hoping some way i can call method from view instead mostly because seems like lot overhead convert custom object i get from api which turns contains lot other custom objects local custom objects i build also i'm sure what best way doing would be.disclaimer i'm aware similar thread asp.net mvc calling controller method from view asp.net mvc calling controller method from view i don't see how answers my question,I tried lashrah's answer and it worked after changing syntax a little bit.this is what worked for me:@(  ((HomeController)this.ViewContext.Controller).Method1();)
what steps should i take safely upgrade existing asp.net mvc 3 project latest asp.net mvc 4 developer preview,Your best bet it's installing the MVC4 from the platform installer.Then follow the steps on the official asp.net/mvc/mvc4 page. If you follow (only) the Shyju instructions It wouldn't work.When you end with the official instructions look on your Views directory and you may find another web.config with another reference to the MVC assembly and several others for razor.You also want to change the versions of this lines. Basically replace every 3.0.0.0 you find for 4.0.0.0 and 1.0.0.0 for 2.0.0.0IF YOU DON'T MAKE THIS LAST CHANGE YOU MAY END WITH THE ERROR ON THE FOLLOWING QUESTIONLook for included dll's and make sure they're for the correct versions.
steve sanderson gave very interesting presentations techdays 2012 netherlands one them he presented library he used client server communication mvc application upshot.i really amazed how easy use so i wanted download test i found download link here through nuget i cannot find any documentation does anyone have something works i would also appreciate sample code steve showed during presentation.edit i found online presentation i attended techdays soooo much worth seeing you get glance what upshot capable also get idea how start good luck have fun.the link http channel9.msdn.com events techdays techdays-2012-the netherlands/2159,Here is the Delivery Tracker sample from the presentation
my model namespace mvcapplication2.models public class creditcard creditcard errormessageresourcetype typeof messages errormessageresourcename cardnumberinvalid public string cardnumber get set my messages.resx namevaluecardnumberinvalid check your card number correctand my view model mvcapplication2.models.creditcard@html.textboxfor m gt m.cardnumber mvc version 3 works without error mvc 4 when i go page i get excpetion saying either errormessagestring errormessageresourcename must set both only happening creditcardattribute other validation attributes requiredattribute work fine i have only set errormessageresourcename i have set errormessagestring so do understand what i have done wrong can anyone help please,I had this same problem on a property that I was localizing. I had defined the ErrorMessageResourceType and then the ErrorMessageResourceName but by mistake put the ErrorMessage atrtribute on as well which threw the exception[NotEqualTo("User_Name" ErrorMessageResourceType = typeof(LROResources.Global) ErrorMessageResourceName = "UserPasswordCannotBeUsername" ErrorMessage = "The password cannot be the same as your Username.")]So in my case by just removing ErrorMessage I fixed the problem.
our asp.net mvc 4 web application our bundleconfig.cs includes following bundles.add new scriptbundle bundles jquery include scripts jquery version js bundles.add new scriptbundle bundles jqueryui include scripts jquery ui version js bundles.add new scriptbundle bundles jqueryval include scripts jquery.unobtrusive scripts jquery.validate bundles.add new scriptbundle bundles modernizr include scripts modernizr when we look html home page development server we can see following script tags even though debug mode web.config set true lt compilation debug true targetframework 4.0 gt lt script src afr scripts jquery ui-1.8.20.min js gt lt script&gt lt script src afr scripts modernizr-2.5.3.js gt lt script&gt lt script src afr scripts jquery-1.7.1.js gt lt script&gt lt script src afr scripts jquery ui-1.8.20.js gt lt script&gt lt script src afr scripts jquery.unobtrusive ajax.js gt lt script&gt lt script src afr scripts jquery.validate.js gt lt script&gt lt script src afr scripts jquery.validate.unobtrusive.js gt lt script&gt when we deploy app staging server look html view source home page all above script tags exception lt script src afr scripts jquery ui-1.8.20.min js gt lt script&gt missing we've verified all files mentioned tags script folder folder structure exactly same development machine staging server web.config fie has lt compilation targetframework 4.0 gt which means default debug false result some javascript functions failing staging server both staging development machines windows 2012.please help thanks,add to your global file this action.protected void Application_Start() {   BundleConfig.RegisterBundles(BundleTable.Bundles);}
how do you localize enums listboxfor where multiple options possible example enum contains roles public enum roletype display description administrator resourcetype typeof resource administrator 1 display description moderator resourcetype typeof resource moderator 2 display description webmaster resourcetype typeof resource webmaster 3 display description guest resourcetype typeof resource guest 4etc 5 i have seen done dropdownlist selectlists way do multi select list edit how i'd like use which how works now doesn't get translated different language var roles from role r enum.getvalues typeof roletype select new id int enum.parse typeof roletype r.tostring name r.tostring searchmodel.roles new multiselectlist roles id name note i have renamed enum from role roletype,I use this currently hope it helps!:/// &lt;summary&gt;///  Retrieves a translated value from an enumerated list./// &lt;/summary&gt;/// &lt;param name="value"&gt;Enum&lt;/param&gt;/// &lt;param name="resource"&gt;string&lt;/param&gt;/// &lt;returns&gt;string&lt;/returns&gt;protected string GetTranslatedEnum(Enum value string resource){string path = String.Format("Resources.{0}" resource);ResourceManager resources = new ResourceManager(path global::System.Reflection.Assembly.Load("App_GlobalResources"));if (resources != null) {return resources.GetString(value.ToString());} else {return value.ToString();}}Created a .resx file named "App_GlobalResources\ProductNames.resx".Usage:// Convert the ProductId integer on the item to its Enum equivalent.Products product = (Products) item.ProductId;string productName = this.GetTranslatedEnum(product "ProductNames");
i used ravendb embedded 2.0.2230 my application interacted asp net web api different assemblies.when i set useembeddedhttpserver true document store first time i send request ravendb executes properly when i try second time my application displays raven studio.when i remove useembeddedserver setting my application runs without any problems.my ravendb configured following codes data tier this.documentstore new embeddabledocumentstore connectionstringname ravendb useembeddedhttpserver true initialize implementation web.config have settings service tier lt connectionstrings&gt lt add name ravendb connectionstring datadir app data ravendatabase gt lt connectionstrings&gt setting i missed any settings i need apply point raven studio different port,When you enable the HttpServer in an EmbeddableDocumentStore ravenDB "hijacks" the webapplication and starts listening on the same port that the application is running.  Oren Eini:  When you use UseEmbeddedHttpServer from inside IIS it takes the port  from IIS. You need to set the value againon https://groups.google.com/forum/?fromgroups=#!topic/ravendb/kYVglEoMncwThe only way to prevent it is either turn-ff the raven http-server or assign it to a different portint ravenPort = 8181;NonAdminHttp.EnsureCanListenToWhenInNonAdminContext(ravenPort);var ds = new EmbeddableDocumentStore {   DataDirectory = [DataFolder]   UseEmbeddedHttpServer = true   Configuration = {Port = ravenPort}};
i'm attempting find correct razor syntax mutually exclusive radio buttons both reflect value boolean property my model my model has public bool isfemale get set i would like display two radio buttons one male other female everything i've tried so far has reflected actual value isfemale property model currently i have html.radiobuttonfor model gt model.isfemale model.isfemale male@html.radiobuttonfor model gt model.isfemale model.isfemale femalethis seems persist value correctly i change update does mark correct value checked i'm sure something stupid i'm stuck,In MVC 6 (ASP.NET Core) this can also be achieved with tag helpers:&lt;label&gt;&lt;input type="radio" asp-for="IsFemale" value="false" /&gt; Male&lt;/label&gt;&lt;label&gt;&lt;input type="radio" asp-for="IsFemale" value="true" /&gt; Female&lt;/label&gt;
request.isauthenticated amp amp user.identity.name administrator lt div id sidebar gt lt div class module gt lt ul class menu gt lt li&gt html.actionlink home index home lt li&gt lt li&gt html.actionlink about about home lt li&gt lt li&gt html.actionlink contact contact home lt li&gt lt ul&gt lt div&gt lt div class maincontent gt hello user.identity.name lt div&gt lt div&gt my layout user authenticated administrator sort check looks good i need check role user his name.here controler method public actionresult authenticateduserlayout string username var lst usercontext.userprofiles.tolist var user lst.select u gt u.username username isadmin session loginuser tostring return view user else return index i also find return view user good because i don't know how make any use user,For ASP.NET Core Razor Pagesif (User.Identity.IsAuthenticated &amp;&amp; User.IsInRole("Administrator"))
i've created mvc 4 web api application inside my solution i'm getting 2 errors right now i need some help system.web.http.httpconfiguration does contain definition maphttpattributeroutes extension method maphttpattributeroutes accepting first argument type system.web.http.httpconfiguration could found you missing using directive assembly reference error occurs following code file webapiconfig.cs app start folder using system using system.collections.generic using system.linq using system.web.http using system.web public static class webapiconfig public static void register httpconfiguration config web api configuration services web api routesconfig.maphttpattributeroutes config.routes.maphttproute name defaultapi routetemplate api controller id defaults new id routeparameter.optional another one global.asax system.web.http.globalconfiguration does contain definition configure'file global.asax.csusing system using system.collections.generic using system.linq using system.web using system.web.http using system.web.http.webhost using system.web.mvc using system.web.optimization using system.web.routing public class webapiapplication system.web.httpapplication protected void application start arearegistration.registerallareas globalconfiguration.configure webapiconfig.register filterconfig.registerglobalfilters globalfilters.filters routeconfig.registerroutes routetable.routes bundleconfig.registerbundles bundletable.bundles updateafter installing via nuget webapi webhost suggestion sa_ddam213 resolves some problems now got error when run my application could load file assembly system.net.http one its dependencies located assembly manifest definition does match assembly referenceweb.config file has assembly&lt dependentassembly&gt lt assemblyidentity name system.web.http publickeytoken 31bf3856ad364e35 culture neutral gt lt bindingredirect oldversion 0.0.0.0-5.2.0.0 newversion 5.2.0.0 gt lt dependentassembly&gt,1) Check in your solution folder packages\Microsoft.AspNet.WebApi.Client.5.2.3\lib\net45 has System.Web.Http.dll is available or not. It should be there. If not available copy it from any other running project packages folder.2) Remove reference of System.Web.Http.dll from your project.3) Add new reference by pointing to new .dll that is to packages\Microsoft.AspNet.WebApi.Client.5.2.3\lib\net45\System.Web.Http.dll
any way open view from controller action new window public actionresult newwindow some codereturn view how would i get newwindow.cshtml view open new browser tab i know how do from link view question has anyone figured out way do from controller action,I've seen where you can do something like this assuming "NewWindow.cshtml" is in your "Home" folder:string url = "/Home/NewWindow";return JavaScript(string.Format("window.open('{0}' '_blank' 'left=100top=100width=500height=500toolbar=noresizable=noscrollable=yes');" url));or return Content("/Home/NewWindow");If you just want to open views in tabs you could use JavaScript click events to render your partial views.  This would be your controller method for NewWindow.cshtml:public ActionResult DisplayNewWindow(NewWindowModel nwm) {// build model list based on its properties &amp; valuesnwm.Name = "John Doe";nwm.Address = "123 Main Street";return PartialView("NewWindow" nwm);}Your markup on your page this is calling it would go like this:&lt;input type="button" id="btnNewWin" value="Open Window" /&gt;&lt;div id="newWinResults" /&gt;And the JavaScript (requires jQuery):var url = '@Url.Action("NewWindow" "Home")';$('btnNewWin').on('click' function() {var model = "{ 'Name': 'Jane Doe' 'Address': '555 Main Street' }"; // you must build your JSON you intend to pass into the "NewWindowModel" manually$('#newWinResults').load(url model); // may need to do JSON.stringify(model)});Note that this JSON would overwrite what is in that C# function above.  I had it there for demonstration purposes on how you could hard-code values only.(Adapted from Rendering partial view on button click in ASP.NET MVC)
i've created brand new mvc4 web application visual studio done nothing more than add home controller hello world index view i installed miniprofiler nuget package put necessary couple lines layoutcshtml what i get when i run site release mode hosted iis rendering time varies pageload 130ms about fast gets seems bit slow me i've seen other people who get pages rendered 30ms quicker any ideas why rendering would slow brand new empty mvc4 project my processor intel core i5-2400 machine has 16gb ram.by way first time page loaded i reloaded page few times before getting 130ms result.update i followed advice answer from pscoder remove all razorviewengine halved rendering time really good i still get about 70ms higher main render action page ideally i'd like halve better.specifically i'd like ask does rendering time seem overly slow average my machine any way i can speed up,Views are compiled before use - so on the first occasion they are slow.Subsequently they are recompiled if the .cshtml file changes - which means the directories that views are stored in are being monitored. So hard disk speed will be a factor for MVC views.Even if they do nothing each rendering engine checks the hard disk for .cshtml or .aspx files. Since removing a rendering engine made it run twice as fast I suspect disk speed is the problem:Views are stored on a network drive orHard disk is very slow
question already has answer here compile views asp.net mvc8 answersrazor syntax errors compiles when should compile1 answeri've recently installed vs 2012 professional.when i try build my mvc4 web project doesn't recognize error razor view when i do build re build example i removed namespace from project say renamed i build solution gave me errors all cs files which i fixed changing namespace entire solution build successfully when i run project gave me compilation error saying namespace found because old namespace still referred some views cshtml files expected solution i wish when i do build re build should recognize errors show me along any other errors.this working fine vs 2010 am i missing any configuration thanks advance amitediti found answer myself i think early post question razor syntax errors compiles when should compile another problemafter changing value true csproject file when i start building project shows error shows only one error time let say i've 5 errors total 3 views would just show me one error any solution so shows all 5 errors,Its really Very Simple Answer Go through this Steps:Unload ProjectEdit ProjectThan Search : &lt;Target Name="MvcBuildViews" AfterTargets="AfterBuild" Condition="'$(MvcBuildViews)'=='true'"&gt;  &lt;AspNetCompiler VirtualPath="temp" PhysicalPath="$(WebProjectOutputDir)" /&gt;&lt;/Target&gt;below add&lt;Target Name="AfterBuild" Condition="'$(Configuration)'!='Debug'"&gt;  &lt;RemoveDir Directories="$(BaseIntermediateOutputPath)" /&gt;&lt;/Target&gt;That's it Than Unload Project . BuildAnd Check Ur Syntax Is work properly .I am Sure.
i have seen few threads none seem apply mvc4 because radiobuttonfor html extension method helper does exist.say i have enum list i.e airlines public enum airlines unknown 0 britishairways 1 virginatlantic 2 airfrance 3 how can i bind radio button list my view able retrieve selected item what about being able say select one item selection made,I was able to combine some of the approaches from other answers with some added features:EnumRadioButtonList.cshtml@model Enum@foreach (var item in EnumHelper.GetSelectList(Model.GetType())){&lt;div class="radio"&gt;&lt;label&gt;@Html.RadioButton(string.Empty item.Value Model.Equals(Enum.Parse(Model.GetType() item.Value)))@item.Text&lt;/label&gt;&lt;/div&gt;}This uses EnumHelper.GetSelectList() as a sort of hack so that you can use display attributes with your enum members:public enum TestEnum{First[Display(Name = "Second Member")]SecondThird}Usage:@Html.EditorFor(m =&gt; m.TestEnumProperty "EnumRadioButtonList")Yields:ImageI'm also using the Bootstrap radio button styles with a separate helper for the inline version:EnumRadioButtonListInline.cshtml@model Enum@foreach (var item in EnumHelper.GetSelectList(Model.GetType())){&lt;label class="radio-inline"&gt;@Html.RadioButton(string.Empty item.Value Model.Equals(Enum.Parse(Model.GetType() item.Value)))@item.Text&lt;/label&gt;}
i have web application asp.net mvc4 i want use cookie user login logout so my actions follows login action httppost public actionresult login string username string pass modelstate.isvalid var newuser userrepository.getuserbynameandpassword username pass newuser null var json jsonconvert.serializeobject newuser var usercookie new httpcookie user json usercookie.expires.adddays 365 httpcontext.response.cookies.add usercookie return redirecttoactionpermanent index return view userlog logout actionpublic actionresult userout request.cookies user null var user new httpcookie user expires datetime.now.adddays 1 value null response.cookies.add user return redirecttoactionpermanent userlog i use cookie loyout follow using eshop.core using newtonsoft.json var userincookie request.cookies user userincookie null amp amp userincookie.value lt li&gt lt href gt salam&lt a&gt lt li&gt lt li&gt lt href url.action userout home gt cıxış&lt a&gt lt li&gt else lt li&gt lt href url.action userlog home gt giriş&lt a&gt lt li&gt when i click userout action action happen first time doesn't work i put breakpoint looking process get userlog action doesn't userout my question where i use wrong way cookie what best way using cookie asp.net mvc4 scenario,userCookie.Expires.AddDays(365); This line of code doesn't do anything. It is the equivalent of:DateTime temp = userCookie.Expires.AddDays(365); //do nothing with tempYou probably want userCookie.Expires = DateTime.Now.AddDays(365); 
how do i mix web api asp.net mvc pages one project instance i have model user i would like within same project have apicontroller would respond all http verbs managing user entities same time have controller would return appropriate strongly typed views depending action requested.i can't name both controllers usercontroller what best way around should i name one userapicontroller other usercontroller any other suggestions,The WebApi implementation should be added as a separate Area in the MVC application. It is a natural fit. Doing this gives you the separate namespace that Mike Wasson recommended plus it gives you a natural way to set up the /api routing. You get a separate model folder Additionally it is very specifically separated from the rest of the project. If requirements in the future are ever such that you need to separate the api implementation into a separate project having the api implementation isolated to a separate area makes that breaking it out a lot easier.
i have 4 projects toombu.entities all models theretoombu.dataaccess mapping repository toombucontexttoombu.logique logic my applicationtoombu.web mvc 4 application all others dll.i tried enable migration toombu.web i had error context type found assemblyhow can i enable migration,Worked for me: UnInstall-Package EntityFramework Restart Visual StudioInstall-Package EntityFrameworkBuild project
i am playing mvc4 application using webapi fetching sending all my data controller i am using httpclient request get data all working fine issue i am facing when windows authentication enabled project web api calls returning 401 unauthorized error code my controller does calling using var client new httpclient var invoicedetailurl base url url.httprouteurl defaultapi new controller invoicedetails id id var result client.getasync invoicedetailurl result windows authentication has site necessarily web api controllers i have tried excluding api controllers web.config like below lt location path api gt lt system.web gt lt authorization&gt lt allow users gt lt authorization&gt lt system.web gt lt location&gt additions web.config did nothing.any suggestions,This is what I needed to do:&lt;location path="api"&gt;&lt;system.web&gt;&lt;authorization&gt;&lt;allow users="*"/&gt;&lt;/authorization&gt;&lt;/system.web&gt;&lt;/location&gt;
after reading dependency injection net mark seemann i stay away from service locator which anti pattern upon reading release notes mvc 4 i see improved inversion control ioc via dependencyresolver web api now uses service locator pattern implemented mvc s dependency resolver obtain instances many different facilities.thus i'm left curious confused why microsoft would use service locator 2012,As Darin points out ASP.NET MVC 4 is a Framework and is container agnostic. That's why it provides a service locator in the form of IDependencyResolver. This allows anyone to plug in their container of choice.However I wouldn't call this an anti pattern. This allows you to use the container of your choice but it doesn't force you the application developer to use service location. If the framework forced the developer to use Service Location then I would call it an anti-pattern. But the developer who builds an ASP.NET MVC application is free to use DI via constructor injection property setup or service location. It's their choice.Look at all the ASP.NET MVC examples of dependency injection published by me or the ASP.NET MVC team. In pretty much all cases they're using constructor injection. They're not using service location.In fact most of the ASP.NET MVC source code itself doesn't use service location to retrieve dependencies. There's a few key places where the MVC calls into the service locator for legacy APIs and such. But that's about it.
i'm trying navigate page which its url following format localhost xxxxx user id verifyemail secretkey xxxxxxxxxxxxxxxi've added new route routeconfig.cs file so my routeconfig.cs looks like public class routeconfig public static void registerroutes routecollection routes routes.ignoreroute resource axd pathinfo routes.maproute name verifyemail url user id verifyemail defaults new controller user action verifyemail routes.maproute name default url controller action id defaults new controller home action index id urlparameter.optional unfortunately when trying navigate url i get page lt error&gt lt message&gt http resource found matches request uri http localhost 52684/user/f2acc4d0-2e03-4d72-99b6-9b9b85bd661a/verifyemail secretkey e9bf3924-681c-4afc-a8b0-3fd58eba93fe lt message&gt lt messagedetail&gt type found matches controller named user lt messagedetail&gt lt error&gt here my usercontroller public class usercontroller controller get user id verifyemail httpget public actionresult verifyemail string id string secretkey try user user usersbl.instance.verify id secretkey logger.debug string.format user s just signed email user.debugdescription catch exception e throw new exception failed e return view please tell me what am i doing wrong,In my case it was a case of over-aggressive caching by the WebHostHttpControllerTypeResolver. Fix:Delete all files (or in my case just any files named "MS-ApiControllerTypeCache.xml") under this path: C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Temporary ASP.NET Files\rootRestart the app poolcredit: https://sitecore.stackexchange.com/questions/9897/webapi-controllers-not-being-found-in-sitecore-8-2
does mvc4 default support placeholders generated input fields i didn't found anything so i am trying implement my own unfortunately prompt e mail passed viewdata.modelmetadata.watermark while generating control why modelpublic class logonmodel required display name e mail prompt e mail datatype datatype.emailaddress public string email get set html.textboxfor m gt m.email new placeholder viewdata.modelmetadata.watermark i get html code where placeholder tag do has any text&lt input data val true data val regex please enter valid e mail address data val required e mail field required id email name email placeholder type text value class valid gt, @Html.TextBoxFor(m =&gt; m.UserName new { @class = "form-control"@placeholder = "Name"  })  
i've got mvc application i'm using stylebundle class rendering out css files like bundles.add new stylebundle bundles css include content css problem i have debug mode css urls rendered out individually i have web proxy aggressively caches urls release mode i know query string added final url invalidate any caches each release.is possible configure stylebundle add random querystring debug mode well produce following output get around caching issue lt link href stylesheet.css random some random string rel stylesheet gt,Note this is written for Scripts but also works for Styles (just change those key words)Building on @Johan's answer:public static IHtmlString RenderBundle(this HtmlHelper htmlHelper string path){var context = new BundleContext(htmlHelper.ViewContext.HttpContext BundleTable.Bundles string.Empty);var bundle = System.Web.Optimization.BundleTable.Bundles.GetBundleFor(path);var html = System.Web.Optimization.Scripts.Render(path).ToString();foreach (var item in bundle.EnumerateFiles(context)){if (!html.Contains(item.Name))continue;html = html.Replace(item.Name item.Name + "?" + item.LastWriteTimeUtc.ToString("yyyyMMddHHmmss"));}return new HtmlString(html);}public static IHtmlString RenderStylesBundle(this HtmlHelper htmlHelper string path){var context = new BundleContext(htmlHelper.ViewContext.HttpContext BundleTable.Bundles string.Empty);var bundle = System.Web.Optimization.BundleTable.Bundles.GetBundleFor(path);var html = System.Web.Optimization.Styles.Render(path).ToString();foreach (var item in bundle.EnumerateFiles(context)){if (!html.Contains(item.Name))continue;html = html.Replace(item.Name item.Name + "?" + item.LastWriteTimeUtc.ToString("yyyyMMddHHmmss"));}return new HtmlString(html);}Usage:@Html.RenderBundle("...")@Html.RenderStylesBundle("...")Replacing@Scripts.Render("...")@Styles.Render("...")Benefits:Works for v1.0.0.0 of System.Web.OptimizationsWorks on multiple files in the bundleGets the file modification date rather than hashing of each file rather than a groupAlso when you need to quickly workaround Bundler:public static MvcHtmlString ResolveUrl(this HtmlHelper htmlHelper string url){var urlHelper = new UrlHelper(htmlHelper.ViewContext.RequestContext);var resolvedUrl = urlHelper.Content(url);if (resolvedUrl.ToLower().EndsWith(".js") || resolvedUrl.ToLower().EndsWith(".css")){var localPath = HostingEnvironment.MapPath(resolvedUrl);var fileInfo = new FileInfo(localPath);resolvedUrl += "?" + fileInfo.LastWriteTimeUtc.ToString("yyyyMMddHHmmss");}return MvcHtmlString.Create(resolvedUrl);}Usage:&lt;script type="text/javascript" src="@Html.ResolveUrl("~/Scripts/jquery-1.9.1.min.js")"&gt;&lt;/script&gt;Replacing:&lt;script type="text/javascript" src="@Url.Content("~/Scripts/jquery-1.9.1.min.js")"&gt;&lt;/script&gt;(Also replaces many other alternative lookups)
i had problem where working new mvc project soon i added html.partial name my layout.cshtml page asp.net would throw exception page load error cs0012 type system.object referenced assembly defined add reference assembly system.runtime version 4.0.0.0 culture neutral publickeytoken b03f5f7f11d50a3a added.the fix add web.config compilation element lt assemblies&gt lt add assembly system.runtime version 4.0.0.0 culture neutral publickeytoken b03f5f7f11d50a3a gt lt assemblies&gt i'd love know why fixes issue.what s odd new mvc app i'm using has load webforms aspx pages work treat i've copied ton legacy webforms stuff new mvc project acres code everything works without html.partial call even my mvc view renders.so what earth going what does config do why aren't normal project references target framework settings enough,Visual Studio 2017 MVC.RAZOR fixed by adding this to web app web.config section:  here is a snippet of my Web.Config just after system.web node:&lt;system.web&gt;&lt;authentication mode="None" /&gt;&lt;compilation debug="true" targetFramework="4.5.1"&gt;&lt;assemblies&gt;  &lt;add assembly="System.Runtime Version=4.0.0.0 Culture=neutral PublicKeyToken=b03f5f7f11d50a3a" /&gt;&lt;/assemblies&gt;  &lt;/compilation&gt;&lt;httpRuntime targetFramework="4.5.1" /&gt;
i got following piece codefunction pushjsondata productname ajax url knockout saveproduct type post contenttype application json datatype json data name aa async falsesuccess function loadjsondata error function jqxhr textstatus errorthrown alert textstatus pushjsondata errorthrown jqxhr notice i hard coded data value data get pushed database fine however i keep getting error parsing error syntax error unexpected end input i am sure my data correct json syntax when i checked network chrome inspector saveproduct request showed data correct name aa post request did have response so i am clueless where parse error coming from i tried using firefox browser same thing happened.can anyone give some idea what wrong thanks p.s.here controller codenamespace mvcappljson.controllers public class knockoutcontroller controller get knockout public actionresult index return view httpget public jsonresult getproductlist var model new list&lt product&gt try using var db new koentities var product from p db.products orderby p.name select p model product.tolist catch exception ex throw ex return json model jsonrequestbehavior.allowget httppost public void saveproduct product product using var db new koentities db.products.add new product name product.name datecreated datetime.now db.savechanges,Try using single quotesdata: '{"Name":"AA"}'
i have classusing system.componentmodel.dataannotations using argussoft.bi.dal.domain.users namespace argussoft.bi.dal.dtos.userdtos public class createuserdto required errormessage введите логин maxlength user.emaillength errormessage максимальная длина логина 40 символов regularexpression user.nameregularexpression errormessage логин может содержать только латинские символы дефисы подчеркивания точки public string name get set required errormessage введите email maxlength user.emaillength errormessage максимальная длина адреса электронной почты 100 символов regularexpression user.emailregularexpression errormessage введите корректный адрес электронной почты public virtual string email get set required errormessage введите имя пользователя maxlength user.fullnamelength errormessage максимальная длина имени пользователя 100 символов regularexpression user.nameregularexpression errormessage имя пользователя может содержать только латинские символы дефисы подчеркивания точки public virtual string fullname get set public virtual int role get set regularexpression user.phoneregularexpression errormessage введите корректный номер телефона public virtual string phone get set public virtual int status get set required errormessage введите пароль minlength user.passwordminlength errormessage минимальная длина пароля 5 символов maxlength user.passwordmaxlength errormessage максимальная длина пароля 20 символов regularexpression user.passwordregularexpression errormessage пароль может содержать только латинские символы дефисы подчеркивания точки public virtual string password get set form model argussoft.bi.dal.dtos.userdtos.createuserdto using ajax.beginform createuser user new ajaxoptions onsuccess onsuccesscreateuser new id dialog form class form horizontal lt div class modal header gt lt button type button class close data dismiss modal aria hidden true gt amp times lt button&gt lt h4 gt добавить пользователя&lt h4 gt lt div&gt lt div class modal body gt lt name gt lt div class control group gt lt label class control label html.namefor model gt model.name gt логин&lt label&gt lt div class controls gt lt div class input prepend gt html.textboxfor model gt model.name new class span3 id input name lt br gt html.validationmessagefor model gt model.name lt div&gt lt div&gt lt div&gt lt email gt lt div class control group gt lt label class control label html.namefor model gt model.email gt email&lt label&gt lt div class controls gt lt div class input prepend gt html.textboxfor model gt model.email new class span3 id input email lt br gt html.validationmessagefor model gt model.email lt div&gt lt div&gt lt div&gt lt fullname gt lt div class control group gt lt label class control label html.namefor model gt model.fullname gt имя пользователя&lt label&gt lt div class controls gt lt div class input prepend gt html.textboxfor model gt model.fullname new class span3 id input full name lt br gt html.validationmessagefor model gt model.fullname lt div&gt lt div&gt lt div&gt lt role gt lt div class control group gt lt label class control label html.namefor model gt model.role gt роль пользователя&lt label&gt lt div class controls gt lt div class input prepend gt html.dropdownlist role selectlist viewbag.rolesnew id input role lt br gt html.validationmessagefor model gt model.role lt div&gt lt div&gt lt div&gt lt phone gt lt div class control group gt lt label class control label html.namefor model gt model.phone gt контактный телефон&lt label&gt lt div class controls gt lt div class input prepend gt html.textboxfor model gt model.phone new class span3 id input phone lt br gt html.validationmessagefor model gt model.phone lt div&gt lt div&gt lt div&gt lt status gt lt div class control group gt lt label class control label html.namefor model gt model.status gt статус пользователя&lt label&gt lt div class controls gt lt div class input prepend gt html.dropdownlist status selectlist viewbag.userstatusesnew id input status lt br gt html.validationmessagefor model gt model.status lt div&gt lt div&gt lt div&gt lt password gt lt div class control group gt lt label class control label html.namefor model gt model.password gt пароль пользователя&lt label&gt lt div class controls gt lt div class input prepend gt html.textboxfor model gt model.password new class span3 id input password lt br gt html.validationmessagefor model gt model.password lt div&gt lt div&gt lt div&gt lt div&gt lt div class modal footer gt lt href url.action userindex user class btn gt отменить&lt a&gt lt button type submit id save button class btn btn primary gt сохранить&lt button&gt lt div&gt user class public class user baseentity public const int namelength 40 public const int passwordminlength 5 public const int passwordmaxlength 20 public const int fullnamelength 100 public const int emaillength 100 public const int phonelength 40 my validation works only required regularexpression doesn't work minlength maxlength i don't get any error message case what can reason,This can replace the MaxLength and the MinLength[StringLength(40 MinimumLength = 10  ErrorMessage = "Password cannot be longer than 40 characters and less than 10 characters")]
i am starting out mvc 4 razor view engine i believe may apply mvc 3 earlier well i am wondering any benefit using displayattribute data annotation within view versus just writing string directly html example i had following model public class thing public string wildandcrazyproperty get set would any benefit annotating property display name wild crazy public string wildandcrazyproperty get set having my markup lt html&gt lt body&gt lt div&gt html.displaynamefor modelitem gt modelitem.wildandcrazyproperty lt div&gt lt div&gt html.displayfor modelitem gt modelitem.wildandcrazyproperty lt div&gt lt body&gt lt html&gt versus having annotation doing lt html&gt lt body&gt lt div&gt wild crazy&lt div&gt lt div&gt html.displayfor modelitem gt modelitem.wildandcrazyproperty lt div&gt lt body&gt lt html&gt reason i haven't mentioned html.labelfor case because property data being displayed static ie non editable text page data never editable page so need me use html.textboxfor within second lt div&gt subsequently use html.labelfor properly associate label text box,One of the benefits is you can use it in multiple views and have a consistent label text. It is also used by asp.net MVC scaffolding to generate the labels text and makes it easier to generate meaningful text[Display(Name = "Wild and Crazy")]public string WildAndCrazyProperty { get; set; }"Wild and Crazy" shows up consistently wherever you use the property in your application.Sometimes this is not flexible as you might want to change the text in some view. In that case you will have to use custom markup like in your second example
i am trying deploy asp.net mvc3 app my windows 8 box iis8 when i try route site i get following error pretty much everything i can find issue says run aspnet regiis.exe irwhen i run my windows 8 box i get following message microsoft windows version 6.2.9200 c 2012 microsoft corporation all rights reserved.c users justin&gt c windows microsoft.net framework v4.0.30319 aspnet regiis.exe irmicrosoft r asp.net regiis version 4.0.30319.17929administration utility install uninstall asp.net local machine.copyright c microsoft corporation all rights reserved.start installing asp.net 4.0.30319.17929 without changing existing web applications use version aspnet option supported version operating system administrators should instead install uninstall asp.net 4.5 iis8 using turn windows features off dialog server manager management tool dism.exe command line tool more details please see http go.microsoft.com fwlink linkid 216771.finished installing asp.net 4.0.30319.17929 without changing existing web applications use version asp.net.asp.net 4.5 already installed my system my application runs correctly visual studio i can deploy save my life i am completely loss where go from here i have tried both integrated classic pipeline modes site well,what worked for me is:- unchecking the 4.5 and 3.5 in remove/add windows features- restarted the computer- checked the 4.5 and 3.5 in remove/add windows features.And from that point it all worked again.
i have about 20 pixels white space top my page i have inspected every element nothing has padding margin area when i inspect body element does include space when i inspect html element does include space also i delete lt doctype html&gt white space goes away.here my main layout&lt doctype html&gt lt html lang en gt lt head&gt lt meta charset utf-8 gt lt title&gt title&lt title&gt lt link href favicon.ico rel shortcut icon type image x icon gt lt meta name viewport content width device width gt rendersection css false lt head&gt lt body&gt rendersection javascript false lt body&gt lt html&gt,I Just put CSS in my &lt;div&gt; now working in codeposition: relative; top: -22px;
so i tried use automatic migrations my new mvc 4 project somehow isn't working i followed blog post step step.i ve added changes userprofile account model notarycode field table userprofile public class userprofile key databasegeneratedattribute databasegeneratedoption.identity public int userid get set public string username get set public int notarycode get set i wrote package manager console enable migrations configuration class appeared inherits from dbmigrationsconfiguration&lt web.models.userscontext gt i fill class public configuration automaticmigrationsenabled true protected override void seed atomic.vesper.cloud.web.models.userscontext context websecurity.initializedatabaseconnection defaultconnection userprofile userid username autocreatetables true roles.roleexists atomic roles.createrole atomic roles.roleexists protocolista roles.createrole protocolista roles.roleexists cliente roles.createrole cliente string adminuser randolf websecurity.userexists adminuser websecurity.createuserandaccount adminuser 12345 new notarycode 1 roles.getrolesforuser adminuser contains atomic roles.adduserstoroles new adminuser new atomic i tried run update database verbose doesn't work i mean output already object named userprofile database.pm gt update database verboseusing startup project web using nuget project web specify verbose flag view sql statements being applied target database.target database vespercloud datasource sqlserver provider system.data.sqlclient origin configuration pending code based migrations.applying automatic migration 201211051825098_automaticmigration create table dbo userprofile userid int null identity username nvarchar max notarycode int nullconstraint pk dbo.userprofile primary key userid system.data.sqlclient.sqlexception 0x80131904 already object named userprofile database system.data.sqlclient.sqlconnection.onerror sqlexception exception boolean breakconnection action 1 wrapcloseinaction system.data.sqlclient.sqlinternalconnection.onerror sqlexception exception boolean breakconnection action 1 wrapcloseinaction system.data.sqlclient.tdsparser.throwexceptionandwarning tdsparserstateobject stateobj boolean callerhasconnectionlock boolean asyncclose system.data.sqlclient.tdsparser.tryrun runbehavior runbehavior sqlcommand cmdhandler sqldatareader datastream bulkcopysimpleresultset bulkcopyhandler tdsparserstateobject stateobj boolean&amp dataready system.data.sqlclient.sqlcommand.runexecutenonquerytds string methodname boolean async int32 timeout system.data.sqlclient.sqlcommand.internalexecutenonquery taskcompletionsource 1 completion string methodname boolean sendtopipe int32 timeout boolean asyncwrite system.data.sqlclient.sqlcommand.executenonquery system.data.entity.migrations.dbmigrator.executesql dbtransaction transaction migrationstatement migrationstatement system.data.entity.migrations.infrastructure.migratorloggingdecorator.executesql dbtransaction transaction migrationstatement migrationstatement system.data.entity.migrations.dbmigrator.executestatements ienumerable 1 migrationstatements system.data.entity.migrations.infrastructure.migratorbase.executestatements ienumerable 1 migrationstatements system.data.entity.migrations.dbmigrator.executeoperations string migrationid xdocument targetmodel ienumerable 1 operations boolean downgrading boolean auto system.data.entity.migrations.dbmigrator.automigrate string migrationid xdocument sourcemodel xdocument targetmodel boolean downgrading system.data.entity.migrations.infrastructure.migratorloggingdecorator.automigrate string migrationid xdocument sourcemodel xdocument targetmodel boolean downgrading system.data.entity.migrations.dbmigrator.upgrade ienumerable 1 pendingmigrations string targetmigrationid string lastmigrationid system.data.entity.migrations.infrastructure.migratorloggingdecorator.upgrade ienumerable 1 pendingmigrations string targetmigrationid string lastmigrationid system.data.entity.migrations.dbmigrator.update string targetmigration system.data.entity.migrations.infrastructure.migratorbase.update string targetmigration system.data.entity.migrations.design.toolingfacade.updaterunner.runcore system.data.entity.migrations.design.toolingfacade.baserunner.run clientconnectionid a7da0ddb-bccf-490f-bc1e-ecd2eb4eab04 already object named userprofile database i know object exists i mean i'm try use automatic migrations precisely modify run without recreating manually db somehow isn't working.i look msdn documentation found property automaticmigrationdatalossallowed true setting true doesn't change anything i guess i'm missing something somehow doesn't find what any idea,I had same and sorted in different way. Went to my local db deleted the UserProfile and other tables having foreign key constraints  webpages_Membershipwebpages_OAuthMembershipwebpages_Roleswebpages_UsersInRoles tables. All these will recreate when you run update-database -verbose.
i wonder what i don't do correct here i am using asp.net c mvc4 i want take use new css js optimization feature.here my html part@styles.render content css here my bunduleconfig.cs partbundles.add new stylebundle content css include content css reset.css content css bla.css bundletable.enableoptimizations true output works lt link href content css reset.css rel stylesheet gt lt link href content css bla.css rel stylesheet gt however when i uncomment bundletable.enableoptimizations true html output looks like this&lt link href content css v 5lojebkvqjin-fkjkycg ccvmbc_lf91jbasipwtucy1 rel stylesheet gt course 404 i have idea where i did something wrong please help first time working mvc4,It also could be because you have not deployed bundleconfig.json to the server for some reason.
while upgrading webgrease version 1.3.0 gets me error could load file assembly webgrease version 1.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 source error line 6 lt title&gt viewbag.title lt title&gt line 7 styles.render content bundles bootstrap how resolve error,In my case all this methods didn't work. Finally I resolve this problem by uninstalling Microsoft.AspNet.Web.Optimization and WebGrease Packages via Package Manager then I open my project file (.csproj) in notepad and delete all entries related to this two Packages turn outs that there was problem. Finally I install this two packages via package manager again and run project. All work's fine now.
i've created template number input i do@html.editorfor model gt model.somevalue number works fine template used.however doesn't work html.editorfor model gt model.somevalue why do i need specify name editor template basic types,In your Editor Template you must have the same typeExample :model.SomeValue is type of loremIpsumObjectIn your EditorTemplate you are :  @model YourNamespaceWhereIsYourClass.loremIpsumObject  ...And your code in your editorTemplate....you can find an example here for datetimeIt helps you ?
i've inherited code base written asp.net mvc 4 every post method takes formcollection aside from annoyance having access values through quoted strings also leads drawbacks being able use things like modelstate.isvalid allowhtml attributes my viewmodel properties actually did create viewmodel classes each views though pretty much just direct wrappers around actual entity framework model classes only used get methods.is anything i'm missing about formcollection gives reason why may have actually been good idea seems only have drawbacks i'd like go through fix using viewmodels instead would take good bit work because viewmodels have properties interfaces concrete classes which means either writing custom binder changing viewmodels.but perhaps something i'm missing where makes sense use formcollection,Responding to the title question: yes.There are some situations that FormCollection needs to be used. For instance suppose a ViewModel that has a property that implements the 1 to N relation (in concrete case a TimesheetViewModel with ICollection&lt;TimesheetEntryViewModel&gt;) and the Controller has to perform a validation between the time entries to not get a time collision between the end time of an entry and the start time of the following entry. To mark a related entry with a validation error how can be the line index be retrieved?Well with the default model binding the index value is lost in the Controller logic. Fortunately FormController stores the index you used in the View and a more specific validation can be done. 
okay so first off before anyone attempts make determination duplicate question i have reviewed most posts so regarding similar questions even combination all has been said i still am somewhat dilemma definitive maybe i should say unanimous agreement this.i can however say i have based posts conclusively determined answer based scope requirement even consideration opinions seem too diverse me make decision how i should handle this.my immediate requirement i need persist variable data from 1 controller across many views more specifically i have controller corresponding view handles shopping cart item counts i would like persist data across multiple views i am thinking layout view most logical choice this.now i have successfully accomplished task assigning value session variable which retrieved from my layout view so even when user were navigate any where within site number items shopping cart persist until either leave site complete checkout which case variable cleared code.the posts i've read seemed biased either staying away from session variables favor cookies storing data database stating intent purpose which i propose use them session variables perfectly fine use.the other thing i've read suggests session variables can potentially impede overall performance high traffic site since information stored server.i personally cannot justify storing type information database subsequently hitting database i'd imagine could also affect site performance seems bit overkill storage temporary data tempdata viewdata viewbag do work persisting data so logical choices requirement imo.if another well suited alternative session variable which working me i would like know what is.2 posts seem contradictory effort providing best recommendations leave me bit confused.cons good practice avoid using session state asp.net mvc yes why how pros still ok use session variables asp.net mvc better alternative some things like cart seems question although presented many different variations has definitive answer i can conclude.if more preferrable way accomplish without overkill answer i'm search of.i read somewhere use mvc filters tandem global.ascx application start section well does seem appropriate variables set controller level much perhaps static variables.can someone maybe squash lack better word many diverse opinions topic maybe provide more definitive answer question i'm sure diverse opinions have place i'm attempting discredit them having definitive possibly unanimous answer would better i could sort through other posts determine what best my application.of course question has definitive answer just tell me i'll attempt derive my own answer from other posts.thanks updated response answers providedcaching cookies seem general preference from responses however i've also noted statement caching its ideal candidate use across multiple web server because synchronization can potential issue.giving credit tim stated database storage optimized users have option return later time continue where left off.that excellent point keeping foresight probabilities its likely reasonable given some users may return leaving unneccessary data database.so keeping db optimized clean which me equal relevance would require implementing maintenance task automatically expire those records based set threshold time account those circumstances although maintenance task unquestionable option i still think adds just bit more work task simply intent purpose serving temporary storage.nonetheless i do respect tim recommendation believe deserves merit countering my initial opinion degree database would seem viable option storing temporary data so i think compromise would store data database given scenario shopping cart similar perhaps after checkout way you previously stated data may persistently tracked upon subsequent visits so you have record transactions more importantly would data those transactions having real relevance persist database.it also stated although session faster than database notwithstanding have its caveats can some degree mitigated other mechanisms leveraging sessionstatebehavior attribute just serving one example i think erik kind drove point home dunning kruger effect although from content explanations proposed answers given here i seriously doubt expertise any individuals who have responded any way questionable nonetheless i tend agree fact getting unanimous opinion may somewhat higher than reasonable expectation my part.what i more specifically looking general consensus technique would comfortably accomodate diverse number scenarios other words something would accomodate only my particular scenario also provide element scalability larger environments potentially heavier traffic way change programming would either alleviated altogether minimal best summary based feedback session variables seem accomodate smaller case scenarios when applicable have some potential persistence concerns among other notable discrepancies stated very thorougly erik so option obviously fit scalable model.caching preferable over session variables again neccessarily best scalable option due among other things potential synchronization complexities web server farm environments previously pointed out option nonetheless.database storage scalable intent purpose temporary volatile storage probably most elegant option from database perspective would require periodical cleanup personally having strong foundation database concepts earlier my career probably going something many developers likely agree using database purpose may suffice web development from programmers perspective however from perspective dal db development me has potential mandating additional db task enforce efficient backend.cookies seem nice option having combined desirable elements session variables caching conclusionbased answers i think cookies caching seem generally well rounded proposals best practice across board combination database storage when continued persistence required after fact potentially good candidates scalability ones presented ultimate choice between 2 would seem based amount type data requiring storage eg sensitive vs non sensitive whether any concern client may alter data end addition special considerations cookies fact may disabled clients.obviously one size fits all solution clearly pointed out concluded from answers provided terms scalability i may wrong seem best choices available.because all responses good i'm fairly going credit all posts useful going accept erik answer well rounded overall scalable solution i wish i could select more than one accepted answer i believe tim response also very well layed out concise.gupta s response good also i wanted more elaboration proposed answer repeat previous posts.thanks guys,Session alternative in different prospective :-When you keep something in session it breaks the primary rule in ASP.NET MVC. You can use these options as an alternative of session.If your asp.net (MVC) session do boxing unboxing on the object then it makes a little load on the server. Try this ideaCaching :- Storing a List or something like large data in session is better can fit in Caching. You have control on whenever you want it to expire rather than user session.If your app depends on JSON/Ajax data then you can use some kind of functionality provided in html5 (like WebSQL IndexDB). it will not use the cookie so you can save some workload on the server.
i am currently working prototype asp.net mvc 3 solution used base several project rewrites from web forms one goals i have implement some script management across application opposed none we currently have.mvc 3 has flaw imho you need specific script specified partial view template view you might end up either losing control over where script block located rendered html having specify every single dependent javascript file parent view.i have been seriously considering using http getcassette.net framework resolve described issue however last release mvc4 beta made me doubt myself again mvc bundles look really similar cassette bundles i am confused again should i implement cassette now than migrate mvc4 bundles should i implement some simplified script manager myself sth like scripts helper class mvc4 preview migrate mvc4or should i integrate cassette project hope more future proof than mvc imlementation i really don't like option right now just because sheer number dependencies cassette comes i have experience cassette itself find really hard make comparison myself would appreciate any answers hints.edit i just figured another option installing beta nuget package mvc bundling https nuget.org packages microsoft.web.optimizationconclusion more i look mvc4 bundle implementation bigger difference i notice mvc4 bundles do address mvc3 issue described above just do bundling amp minification moreover cassette just capable rendering script tags specific place also capable ordering them correct order which trivial.so moment i am satisfied either solutions i try come up my own minimalistic implementation hoping situation improve future.but you afraid adding 5 dependencies bunch web.config changes your project go cassette i hope updated some point utilize mvc bundling inside reduce functionality duplication hopefully become more modular.update version 2.0 cassette longer necessary include coffee script other features cassette you just need bundles js dependency resolution so point cassette clear winner me,Just as an update to this LESS and CoffeeScript support was added in the Update 2 package for Visual Studio 2012 so it's starting to look more and more like it would be better to add what transformations you need to the native implementation of the Bundling/Minification backed into MVC4 than go with Cassette in the long term.
occasionally when running my mvc4 site vs2012 using iisexpress i get following error iisexpress stops iisexpress.exe managed v4.0.30319 has exited code 1073741816 0xc0000008 invalid handle specifiedthere nothing event log i cant find anything interweb i have some very vague theories my site using mef loads modules dynamically startup maybethere occasional race condition so iis cant open assemblybut my trace logs show iis beyond part startupcycle also has signalr apart from starting hub notdoing much yet signalr pretty new unproven i've updatedthe latest rc2 version same result.oh i also had same error when using vs dev web server i havent tried full iis yet.anyone else go clue thanksupdate i fixed couple nuget references which seemed stabalize things bit morning happened again vs output window shows iisexpress.exe managed v4.0.30319 loaded c windows microsoft.net assembly gac msil system.web.mobile v4.0_4.0.0.0 b03f5f7f11d50a3a system.web.mobile.dll skipped loading symbols module optimized debugger option just my code enabled iisexpress.exe managed v4.0.30319 loaded c users peter.jones appdata local temp temporary asp.net files root a4aa93f7 dfa23a50 app web rpzlbjhw.dll symbols loaded iisexpress.exe managed v4.0.30319 loaded c users peter.jones appdata local temp temporary asp.net files root a4aa93f7 dfa23a50 app web_c1rjct4s.dll symbols loaded.the program 11072 iisexpress.exe managed v4.0.30319 has exited code 1073741816 0xc0000008 invalid handle specified some more useful logging somewhere i happily provide it.cheers,vs2013 -> tool -> option -> project &amp; solution-> web project -> cancel use IIS Express 64Hope this can help you!
i've been trying out pagedlist package get paging my index views everything going well controller level everything working fine only displays 5 records per page displays appropriate page based querystring my problem view i changed model pagedlist.ipagedlist so i could access model.hasnextpage other properties now html.displaynamefor model gt model.itemname longer working i get error pagedlist.ipagedlist lt dossier.models.item gt does contain definition itemname extension method itemname accepting first argument type pagedlist.ipagedlist lt dossier.models.item gt could found you missing using directive assembly reference here relevant parts view model pagedlist.ipagedlist lt dossier.models.item gt using dossiermodelsitem lt th&gt html.displaynamefor model gt model.itemname lt th&gt seems ipagedlist compatible displaynamefor any idea why happening how i could fix i know i could just manually enter column names i'd like information stay changeable model later,You do not need to change @Html.DisplayNameFor. Declare model in the view as:@model IEnumerable&lt;Dossier.Models.Item&gt;Just move your pager to partial view (lets name it "_Pager"):@model IPagedList...@Html.PagedListPager(Modelpage =&gt; Url.Action("Index" new { page pageSize = Model.PageSize }))...Render the pager in your view:@Html.Partial("_Pager" Model)Thats it. P.S. You can create Html helper instead of partial view...
so i am new asp.net mvc 4 well i used 3 little anyway my bundleconfig.cs file i am trying load twitter bootstrap css files additional site.css file.but only site.css file rendered i have confirmed bootstrap css files indeed right place content folder same location site.cssbundles.add new stylebundle content css include content bootstrap.min.css content bootstrap responsive.min.css content site.css editok isn't my preferred way andrei drynov recommended i try import url bootstrap.min.css body background e8e6da padding top 60px padding bottom 40px import url bootstrap responsive.min.css doesn't work i changed site.css above now background body color doesn't even work i remove imports background correct color.edit 2i don't get adding bundles.ignorelist.clear my bundles file fixed hmmm sure i understand i able remove imports out sitecssstrange,As paul correctly stated bundles as set to automatically ignore 'min' files. But ignoring this rule all together is a bad practice please refer to this answer Bundler not including .min files to a better solution (check both first and second answers).
i'd like have json properly serialized camelcase ability change date formats necessary web api very easy global.asax i execute following codevar json globalconfiguration.configuration.formatters.jsonformatter json.serializersettings.contractresolver new camelcasepropertynamescontractresolver code pipeline level handles serialization way i'd like i would like accomplish same thing mvc 4 have any json returned from controller action methods serialized properly little searching i found following code throw global.asax application startup httpconfiguration config globalconfiguration.configuration int32 index config.formatters.indexof config.formatters.jsonformatter config.formatters index new jsonmediatypeformatter serializersettings new jsonserializersettings contractresolver new camelcasepropertynamescontractresolver seems execute fine when i return json from controller all pascalcased simple example my action method private jsonresult getjsontest var returndata datalayer.getsomeobject return json returndata jsonrequestbehavior.allowget am i going about wrong any idea how accomplish pipeline level,Note that below information is for Asp .Net core.Net team has recently announced that MVC now serializes JSON with camel case names by default.With couple of lines below you would be able to enable this functionality:services.AddMvc().AddJsonOptions(options =&gt;options.SerializerSettings.ContractResolver = new DefaultContractResolver());I wrote little blog on the same which is here.
i'm just trying out asp.net 4.5 bundling minification ran issue.i ve got around 10 css files which 2 were originally referenced layout using attribute media screen since syntax adding css bundle does let you specify attribute should added makes sense since attribute would apply whole bundle i hoping see overload styles.render would allow me specify html attributes like other html helpers none ugly solution which since i know url bundle created i could just craft tag myself i'd lose caching mechanism handled asp.net allowing render tag itself.is way do am i missing something just oversight design team,So complicated why not to use:bundles.Add&lt;StylesheetBundle&gt;("~/Css/site.css" b =&gt; b.Media = "screen");?
i have dropdownlist which i have filled from database now i need get selected value controller do some manipulation getting idea code which i have tried.modelpublic class mobileviewmodel public list&lt tbinsertmobile&gt mobilelist public selectlist vendor get set controller public actionresult showallmobiledetails mobileviewmodel mv new mobileviewmodel mv.mobilelist db.usp insertupdatedelete null null 4 mergeoption.appendonly tolist mv.vendor new selectlist db.usp vendorlist vendorid vendorname return view mv httppost public actionresult showallmobiledetails mobileviewmodel mv string strddlvalue here i need dropdownlist valuereturn view mv view lt table&gt lt tr&gt lt td&gt mobile manufacured&lt td&gt lt td&gt html.dropdownlist ddlvendor model.vendor select manufacurer lt td&gt lt tr&gt lt tr&gt lt td&gt lt td&gt lt td&gt lt input id submit1 type submit value search gt lt td&gt lt tr&gt lt table&gt,Simple solution not sure if this has been suggested or not. This also may not work for some things. That being said this is the simple solution below.new SelectListItem { Value = "1" Text = "Waiting Invoices" Selected = true}List&lt;SelectListItem&gt; InvoiceStatusDD = new List&lt;SelectListItem&gt;();InvoiceStatusDD.Add(new SelectListItem { Value = "0" Text = "All Invoices" });InvoiceStatusDD.Add(new SelectListItem { Value = "1" Text = "Waiting Invoices" Selected = true});InvoiceStatusDD.Add(new SelectListItem { Value = "7" Text = "Client Approved Invoices" });@Html.DropDownList("InvoiceStatus" InvoiceStatusDD)You can also do something like this for a database driven select list. you will need to set selected in your controller@Html.DropDownList("ApprovalProfile" (IEnumerable&lt;SelectListItem&gt;)ViewData["ApprovalProfiles"] "All Employees")Something like this but better solutions exist this is just one method.foreach (CountryModel item in CountryModel.GetCountryList()){if (item.CountryPhoneCode.Trim() != "974"){countries.Add(new SelectListItem { Text = item.CountryName + " +(" + item.CountryPhoneCode + ")" Value = item.CountryPhoneCode });}else {countries.Add(new SelectListItem { Text = item.CountryName + " +(" + item.CountryPhoneCode + ")" Value = item.CountryPhoneCodeSelected=true });}}
i am new mvc my application i'm retrieving data from mydatabase when i run my application show error like thisthis my url http localhost 7317/employee detailsdata/4 exception details system.argumentexception parameters dictionary contains null entry parameter k non nullable type system.int32 method system.web.mvc.actionresult detailsdata int32 mvcviewdemo.controllers.employeecontroller optional parameter must reference type nullable type declared optional parameter.parameter name parametersthis my web.config file code&lt connectionstrings&gt lt add name employeecontext connectionstring server database mytry integrated security true providername system.data.sqlclient gt lt connectionstrings&gt my employee model class employee.cs table emp map tablename our class name public class employee public int empid get set public string name get set public string gender get set public string city get set my employeecontext.cs model class public class employeecontext dbcontext public dbset&lt employee&gt employees get set my employeecontroller.cs public actionresult detailsdata int k employeecontext ec new employeecontext employee emp ec.employees.single x gt x.empid k return view emp my view lt h2 gt detailsdata&lt h2 gt model.name lt br gt model.city lt br gt model.gender lt br gt model.empid,I am also new to MVC and I received the same error and found that it is not passing proper routeValues in the Index view or whatever view is present to view the all data.It was as below &lt;td&gt;@Html.ActionLink("Edit" "Edit" new { /* id=item.PrimaryKey */ }) |@Html.ActionLink("Details" "Details" new { /* id=item.PrimaryKey */ }) |@Html.ActionLink("Delete" "Delete" new { /* id=item.PrimaryKey */ })&lt;/td&gt;I changed it to the as show below and started to work properly.&lt;td&gt;@Html.ActionLink("Edit" "Edit" new { EmployeeID=item.EmployeeID }) |@Html.ActionLink("Details" "Details" new { /* id=item.PrimaryKey */ }) |@Html.ActionLink("Delete" "Delete" new { /* id=item.PrimaryKey */ })&lt;/td&gt;Basically this error can also come because of improper navigation also.
using new api controller mvc4 i've found problem i have following methods public ienumberable&lt string&gt getall public ienumberable&lt string&gt getspecific int i work however i want retrieve some different data different type defaults getall method even though getjson set getallintegers method public ienumberable&lt int&gt getallintergers bad naming conventions possible me able do can i only have single getall method web api controller i think easier visualise what i'm trying achieve here snippet code show what i'd like able do single apicontroller public ienumerable&lt string&gt getclients get data public ienumerable&lt string&gt getclient int id get data public ienumerable&lt string&gt getstaffmember int id get data public ienumerable&lt string&gt getstaffmembers get data,In case someone else faces this problem. Here's how I solved this. Use the [Route] attribute on your controller to route to a specific url.[Route("api/getClient")]public ClientViewModel GetClient(int id)[Route("api/getAllClients")]public IEnumerable&lt;ClientViewModel&gt; GetClients()
what difference between webapiconfig.cs routeconfig.cs app start folder mvc web api project visual studio 2012,  If you are familiar with ASP.NET MVC Web API routing is very similar to MVC routing. The main difference is that Web API uses the HTTP method not the URI path to select the action. You can also use MVC-style routing in Web API. This article does not assume any knowledge of ASP.NET MVC.From Routing in ASP.NET Web API
following mvc4 razor layout file loads several script css bundles created bundleconfig lt doctype html&gt lt html class js lang en gt lt head&gt lt meta charset utf-8 gt lt title&gt xxx beta&lt title&gt scripts.render bundles bundle jquery bundles bundle modernizr bundles bundle foundation bundles bundle jhs styles.render content bundle foundation content bundle jhs rendersection pageheadcontent false lt head&gt lt body&gt lt div id bodycontainer gt html.partial partial header lt div id contentcontainer gt lt div id maincontentcontainer gt lt div id sidebarcontainer gt rendersection sidebarcontent required true lt div&gt renderbody lt div&gt lt div class clearboth gt lt div&gt lt div&gt html.partial partial footer lt div&gt lt body&gt lt html&gt when page rendered following error occurs some reason scripts styles commands being recognized i type scripts files intellisense does display show command project does reference system.web.optimization which used bundle.config.what could causing scripts styles commands recognized server error application.compilation errordescription error occurred during compilation resource required service request please review following specific error details modify your source code appropriately compiler error message cs0103 name scripts does exist current contextsource error line 4 line 5 xxx betaline 6 scripts.render line 7 bundles bundle jquery line 8 bundles bundle modernizr source file c users username documents visual studio 2010 projects xxx solution xxx.website views shared sidebarlayout.cshtmlline 6 show detailed compiler output show complete compilation source version information microsoft net framework version 4.0.30319 asp.net version 4.0.30319.272,1. Make sure System.Web.Optimization dll is rederenced within project's References.if not install it with NuGet (Package Manager Console):Install-Package Microsoft.AspNet.Web.Optimization2. Add the System.Web.Optimization namespace to the "Views" web.config:&lt;system.web.webPages.razor&gt;   &lt;pages pageBaseType="System.Web.Mvc.WebViewPage"&gt;  &lt;namespaces&gt;&lt;add namespace="System.Web.Optimization"/&gt; &lt;/namespaces&gt;&lt;/pages&gt;&lt;/system.web.webPages.razor&gt;3. If issue still persists try closing / re-openning Visual Studio to refresh cache.
i have view index.cshtml submit button when submit button clicked calls action action01 within controller testcontroller.cs so end action i want return caller index.cshtml view custom view model parameter how do i do results after first attempt using view viewname model error raised action within controller test so returning searching views tests index my index page views home index.the view index its master found view engine supports searched locations following locations were searched views test index.aspx views test index.ascx views shared index.aspx views shared index.ascx views test index.cshtml views test index.vbhtml views shared index.cshtml views shared index.vbhtmlfinal solution i have used return view viewname model i have changed my directories structure problem,public ActionResult Index(){return View();}public ActionResult Test(string Name){return RedirectToAction("Index");}Return ViewDirectly displays your HTML page butRedirect ToActionAction is performed
so i have mvc asp.net app having issues essentially i have view contains form its contents bound list objects within loop loads partialview items being looped over now everything works up till submittion form when gets submitted controller sent null list objects code below demonstates problems parent view model ienumerable&lt plancompareviewmodel&gt using html.beginform compareplans plans formmethod.post new id compareform lt div&gt foreach var planvm model html.partial partialview planvm lt div&gt partialview model plancompareviewmodel&lt div&gt html.hiddenfor p gt p.planid html.hiddenfor p gt p.currentplan html.checkboxfor p gt p.shouldcompare lt input type submit value compare gt lt div&gt classes above code planviewmodel public class planscompareviewmodel public int planid get set public plan currentplan get set public bool shouldcompare get set public planscompareviewmodel plan plan shouldcompare false planid plan.planid currentplan plan public planscompareviewmodel todo complete member initialization public static ienumerable&lt planscompareviewmodel&gt createplansvm ienumerable&lt plan&gt plans return plans.select p gt new planscompareviewmodel p asenumerable controller public class planscontroller mybasecontroller httppost public actionresult compareplans ienumerable&lt plancompareviewmodel&gt model model passed here null problem controller action far i am aware should posting enumerable list plancompareviewmodels yet null when inspect post data being sent sending correct params i were change ienumerable formcollection contains correct values can anyone see why binder creating correct object i can get around using javascript defeats purpose any help would greatly appreciated,Please read this: http://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspxYou should set indicies for your html elements "name" attributes like planCompareViewModel[0].PlanId planCompareViewModel[1].PlanId to make binder able to parse them into IEnumerable.Instead of @foreach (var planVM in Model) use for loop and render names with indexes.
i trying generate report using export excell pdf textfile well i am doing mvc i have class which i named spbatch which exact name my stored procedure my sql contains following public string batchno get set public string providername get set public nullable&lt system.int32 gt noofclaims get set public nullable&lt system.int32 gt totalnoofclaims get set public nullable&lt system.decimal gt totalbilled get set public nullable&lt system.decimal gt totalinputtedbill get set public nullable&lt system.datetime gt datecreated get set public nullable&lt system.datetime gt datesubmitted get set public nullable&lt system.datetime gt duedate get set public string status get set public string refno get set public string batchstatus get set public string claimtype get set you can see some my columns declared nullable went smoothly from searching displaying results table i have several buttons below which image buttons export every time i try export excel i always get problem dataset does support system.nullable lt part my code foreach memberinfo mi miarray mi.membertype membertypes.property propertyinfo pi mi propertyinfo dt.columns.add pi.name pi.propertytype where error pop up else mi.membertype membertypes.field fieldinfo fi mi fieldinfo dt.columns.add fi.name fi.fieldtype error shows up one comment can you help me what do i tried adding dbnull my code still i get same error i tried removing nullable my spbatch i get error some tables need declared nullable what should i do,I would search for nullable and replace it with a string which can be null unlike a DateTime.foreach (PropertyInfo pi in properties){if (pi.PropertyType.Name.Contains("Nullable"))   myDataType = typeof(String);else   myDataType = pi.PropertyType;}Here is a complete version:private DataTable CreateDataTable(PropertyInfo[] properties){DataTable dt = new DataTable();DataColumn dc = null;foreach (PropertyInfo pi in properties){dc = new DataColumn();dc.ColumnName = pi.Name;if (pi.PropertyType.Name.Contains("Nullable"))dc.DataType = typeof(String);elsedc.DataType = pi.PropertyType;// dc.DataType = pi.PropertyType;dt.Columns.Add(dc);}return dt;}
i am getting error when i try run project i took over i assume i have problem my web.config i don't know what look expression type system.web.mvc.mvcwebrazorhostfactory cannot used return type system.web.webpages.razor.webrazorhostfactory any suggestions same highly appreciated,I got the same error.  What worked for me:Right-click on your project and select Manage NuGet Packages.  Install Microsoft ASP.NET Razor.  Rebuild the project.  
i just installed mvc 4 beta now my mvc 3 application does compile following error type system.web.mvc.modelclientvalidationrule exists both c program files x86 microsoft asp.net asp.net mvc 3 assemblies system.web.mvc.dll c program files x86 microsoft asp.net asp.net web pages v2.0 assemblies system.web.webpages.dll c users michaeljo documents src patientgive phc.mvc infrastructure passwordstrengthattribute.csit would appear has been moved different assembly since both assemblies gac does know which use,Just remove the reference of System.Web.WebPages. This will build your project successfully.
i'm using default login module asp.net mvc 4 i did change any code default application i hosted shared server.after i logged using default login page i kept browser idle some time obviously application redirected login page when i try perform any controller action authorize attribute.then i try login again gives error when i click login button.the anti forgery cookie token form field token do match.login action post account login httppost allowanonymous validateantiforgerytoken public actionresult login loginmodel model string returnurl modelstate.isvalid amp amp websecurity.login model.username model.password persistcookie model.rememberme return redirecttolocal returnurl we got far something failed redisplay formmodelstate.addmodelerror user name password provided incorrect return view model,For me this was caused by submitting a form using a button tag. Changing this to an input submit tag resolves the issue.
i my asp.net mvc 4 project my global.asax.cs page shows error webapiconfig.register globalconfiguration.configuration name globalconfiguration does exist current contexti have done many controllers views all how can i solve issue recover my project here rest my code contextusing system using system.collections.generic using system.linq using system.web using system.web.http using system.web.mvc using system.web.routing namespace note instructions enabling iis6 iis7 classic mode visit http go.microsoft.com linkid 9394801public class mvcapplication system.web.httpapplication protected void application start arearegistration.registerallareas webapiconfig.register globalconfiguration.configuration filterconfig.registerglobalfilters globalfilters.filters routeconfig.registerroutes routetable.routes,In my case I was getting a similar issue in Glabal.asax:The name 'AreaRegistration' does not exist in the current context.I already had System.Web.Mvc namespace in Global.asax.cs but the compiler was somewhat not aware of it that is the AreaRegistration class was not being found.What fixed the issue was executing the following command in Package Manager Console inside Visual Studio:PM&gt; Update-Package -reinstallAfter NuGet reinstalled all the project's packages the missing class names appeared and the code built successfully.Something is broken in Visual Studio\NuGet restore pipeline...
i am trying add x frame options header value set deny my mvc 4 application i looked around seems cleanest way add all pages.however when i add code build error onresultexecuting suitable method found override public class xframeoptions actionfilterattribute public override void onresultexecuting system.web.mvc.resultexecutingcontext filtercontext filtercontext.httpcontext.response.addheader x frame options deny cleanest way do how can i resolve error better way handle mvc 4 application,To add deny "x-frame-options" header to all MVC app you can do the following to avoid a Clickjacking attack.using System;using System.Web;namespace Demo.Website.Modules{public class XfoHeaderModule : IHttpModule{public void Init(HttpApplication context){context.PreSendRequestHeaders += ContextPreSendRequestHeaders;}public void Dispose(){}private void ContextPreSendRequestHeaders(object sender EventArgs e){HttpContext.Current.Response.Headers.Add("X-Frame-Options" "Deny");}}}Add the below to the web.config  &lt;system.webServer&gt;&lt;modules&gt;  &lt;add name="XfoHeader" type="Demo.Website.Modules.XfoHeaderModule" /&gt;&lt;/modules&gt;  &lt;/system.webServer&gt;
i've created sample asp.net mvc 4 application where i've used d3.js append svg element inside svg i've appended text element see code below all works fine until i try append img svg using local png file img gets appended dom img rendered page any ideas what i'm doing wrong here how go about fixing viewbag.title home page lt script src scripts/d3.v3 js gt lt script&gt lt script type text javascript gt var svg d3.select body append svg attr width 200 attr height 100 style border 1px solid black var text svg.selectall text data 0 enter append text text testing attr x 40 attr y 60 var imgs svg.selectall img data 0 imgs.enter append img attr xlink href url.content content images icons refresh.png attr x 60 attr y 60 attr width 20 attr height 20 lt script&gt richard marr below attempt do same thing straight html which gives me same result i'm sure about my code get refresh.png file from local drive way lt doctype html&gt lt html lang en gt lt head&gt lt meta charset utf-8 gt lt script src http d3js.org/d3.v2 js gt lt script&gt lt head&gt lt body&gt lt script type text javascript gt var svg d3.select body append svg attr width 200 attr height 100 style border 1px solid black var text svg.selectall text data 0 enter append text text testing attr x 40 attr y 60 var imgs svg.selectall img data 0 imgs.enter append svg img attr xlink href file d d3js_projects refresh.png attr x 60 attr y 60 attr width 20 attr height 20 lt script&gt lt body&gt lt html&gt,My team also wanted to add images inside d3-drawn circles and came up with the following (fiddle):index.html:&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;  &lt;link rel="stylesheet" type="text/css" href="timeline.css"&gt;  &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.js"&gt;&lt;/script&gt;  &lt;script src="https://code.jquery.com/jquery-2.2.4.js"integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="crossorigin="anonymous"&gt;&lt;/script&gt;  &lt;script src="./timeline.js"&gt;&lt;/script&gt;&lt;/head&gt;  &lt;body&gt;&lt;div class="timeline"&gt;&lt;/div&gt;  &lt;/body&gt;&lt;/html&gt;timeline.css:.axis path.axis line.tick line.line {  fill: none;  stroke: #000000;  stroke-width: 1px;}timeline.js:// container targetvar elem = ".timeline";var props = {  width: 1000  height: 600  class: "timeline-point"  // margins  marginTop: 100  marginRight: 40  marginBottom: 100  marginLeft: 60  // data inputs  data: [{  x: 10  y: 20  key: "a"  image: "https://unsplash.it/300/300"  id: "a"}{  x: 20  y: 10  key: "a"  image: "https://unsplash.it/300/300"  id: "b"}{  x: 60  y: 30  key: "a"  image: "https://unsplash.it/300/300"  id: "c"}{  x: 40  y: 30  key: "a"  image: "https://unsplash.it/300/300"  id: "d"}{  x: 50  y: 70  key: "a"  image: "https://unsplash.it/300/300"  id: "e"}{  x: 30  y: 50  key: "a"  image: "https://unsplash.it/300/300"  id: "f"}{  x: 50  y: 60  key: "a"  image: "https://unsplash.it/300/300"  id: "g"}  ]  // y label  yLabel: "Y label"  yLabelLength: 50  // axis ticks  xTicks: 10  yTicks: 10}// component startvar Timeline = {};/***** Create the svg canvas on which the chart will be rendered****/Timeline.create = function(elem props) {  // build the chart foundation  var svg = d3.select(elem).append('svg')  .attr('width' props.width)  .attr('height' props.height);  var g = svg.append('g')  .attr('class' 'point-container')  .attr("transform"  "translate(" + props.marginLeft + "" + props.marginTop + ")");  var g = svg.append('g')  .attr('class' 'line-container')  .attr("transform"   "translate(" + props.marginLeft + "" + props.marginTop + ")");  var xAxis = g.append('g').attr("class" "x axis").attr("transform" "translate(0" + (props.height - props.marginTop - props.marginBottom) + ")");  var yAxis = g.append('g').attr("class" "y axis");  svg.append("text").attr("class" "y label").attr("text-anchor" "end").attr("y" 1).attr("x" 0 - ((props.height - props.yLabelLength)/2) ).attr("dy" ".75em").attr("transform" "rotate(-90)").text(props.yLabel);  // add placeholders for the axes  this.update(elem props);};/***** Update the svg scales and lines given new data****/Timeline.update = function(elem props) {  var self = this;  var domain = self.getDomain(props);  var scales = self.scales(elem props domain);  self.drawPoints(elem props scales);};/***** Use the range of values in the xy attributes* of the incoming data to identify the plot domain****/Timeline.getDomain = function(props) {  var domain = {};  domain.x = props.xDomain || d3.extent(props.data function(d) { return d.x; });  domain.y = props.yDomain || d3.extent(props.data function(d) { return d.y; });  return domain;};/***** Compute the chart scales****/Timeline.scales = function(elem props domain) {  if (!domain) {return null;  }  var width = props.width - props.marginRight - props.marginLeft;  var height = props.height - props.marginTop - props.marginBottom;  var x = d3.scale.linear().range([0 width]).domain(domain.x);  var y = d3.scale.linear().range([height 0]).domain(domain.y);  return {x: x y: y};};/***** Create the chart axes****/Timeline.axes = function(props scales) {  var xAxis = d3.svg.axis().scale(scales.x).orient("bottom").ticks(props.xTicks).tickFormat(d3.format("d"));  var yAxis = d3.svg.axis().scale(scales.y).orient("left").ticks(props.yTicks);  return {xAxis: xAxisyAxis: yAxis  }};/***** Use the general update pattern to draw the points****/Timeline.drawPoints = function(elem props scales prevScales dispatcher) {  var g = d3.select(elem).selectAll('.point-container');  var color = d3.scale.category10();  // add images  var image = g.selectAll('.image').data(props.data)  image.enter().append("pattern").attr("id" function(d) {return d.id}).attr("class" "svg-image").attr("x" "0").attr("y" "0").attr("height" "70px").attr("width" "70px").append("image")  .attr("x" "0")  .attr("y" "0")  .attr("height" "70px")  .attr("width" "70px")  .attr("xlink:href" function(d) {return d.image})  var point = g.selectAll('.point').data(props.data);  // enter  point.enter().append("circle")  .attr("class" "point")  .on('mouseover' function(d) {d3.select(elem).selectAll(".point").classed("active" false);d3.select(this).classed("active" true);if (props.onMouseover) {  props.onMouseover(d)};  })  .on('mouseout' function(d) {if (props.onMouseout) {  props.onMouseout(d)};  })  // enter and update  point.transition().duration(1000).attr("cx" function(d) {  return scales.x(d.x); }).attr("cy" function(d) {   return scales.y(d.y); }).attr("r" 30).style("stroke" function(d) {  if (props.pointStroke) {return d.color = props.pointStroke;  } else {return d.color = color(d.key);  }}).style("fill" function(d) {  if (d.image) {return ("url(#" + d.id + ")");  }  if (props.pointFill) {return d.color = props.pointFill;  } else {return d.color = color(d.key);  }});  // exit  point.exit().remove();  // update the axes  var axes = this.axes(props scales);  d3.select(elem).selectAll('g.x.axis').transition().duration(1000).call(axes.xAxis);  d3.select(elem).selectAll('g.y.axis').transition().duration(1000).call(axes.yAxis);};$(document).ready(function() {  Timeline.create(elem props);})
i faced new asp mvc 4 feature shipped new membership db schema new initialization mvc 3 old versions developer able create custom user profile fields using specifications web.config now i faced method filters namespace default mvc 4 project websecurity.initializedatabaseconnection defaultconnection userprofile userid username autocreatetables true user profile table table userprofile public class userprofile key databasegeneratedattribute databasegeneratedoption.identity public int userid get set public string username get set method initializedatabaseconnection generate only username userid i need generate other additional fields.i have good experience ef codefirst approach case i try edit userprofile class table userprofile public class userprofile key databasegeneratedattribute databasegeneratedoption.identity public int userid get set column required public string username get set column required public string firstname get set column required public string lastname get set when i regenerate database i havent see any changes custom db fields generated.help me please how can i create custom user fields,Of course you probably know that you have to make your RegisterModel identical to UserProfile Model. What I like to do is use Migrations prior to initializing the database and put the following in the Configuration.cs file:protected override void Seed(UsersContext context){WebSecurity.InitializeDatabaseConnection("DefaultConnection""UserProfile""UserId""UserName" autoCreateTables: true);if (!WebSecurity.UserExists("yardpenalty"))WebSecurity.CreateUserAndAccount("yardpenalty""password"new{Email = "youremail@yahoo.com"ImageUrl = "/Content/Avatars/yourname"DateJoined = DateTime.Now}false); //... rest of model.Builder stuff}Then I use the Packet Manager Console by these three easy to remember commands:Enable-MigrationsAdd-Migration MigrationNameUpdate-Database  // will seed from Configuration.csI agree with TrueBlueAussie  and would go as far as saying LazyInitialization is not very helpful anymore and you really don't have to call it they way you did anymore. Anyways All you have to do is then change you Register Action in your Account Controller to call the Method like this:  WebSecurity.CreateUserAndAccount(model.UserName model.Password propertyValues: new { model.Email model.ImageUrl model.DateJoined });NOTE: MVC5 uses OWIN 
i've done bit work past using wcf webapi really liked lot its features i'm just playing asp.net web api moment seems completely different ie completely removed from wcf does anyone know which features wcf webapi included asp.net 4 web api,ASP.net web api is lightweight and REST support inbuilt. It is more suitable for mobile applications.WCF is bloated with more options . It depends on the complexity of the system to select one of these.
can we run sql script using code first migrations i am new code first i want save my changes sql script file before update database command migration possible possible please provide steps get done also script generated possible i can run script using migration,Like SQL we have another method SqlFile. you can directly use that. 
i recently discovered areas asp.net mvc 4 which i have successfully implemented i'm running troubles html.actionlink helper my razor views url helper generates always seems relative url current page.i have my web site configured iis 7 win7 application virtual directory foo.i have two areas registered admin blogs i have default code adminarearegistration.cs blogsarearegistration.cs files i added namespaces new mvcproject.controllers defaults default routeconfig public class routeconfig public static void registerroutes routecollection routes routes.ignoreroute resource axd pathinfo routes.maproute name default url controller action id defaults new controller home action index id urlparameter.optionalnamespaces new mvcproject.controllers when i go home page my site http localhost foo correctly loads home page my site point all action links have correct urls.sample code from mvcproject views shared layout.cshtml lt h2 gt main navigation&lt h2 gt lt ul&gt lt li&gt html.actionlink home index home lt li&gt lt li&gt html.actionlink blogs index blogs home lt li&gt lt li&gt html.actionlink admin index admin home lt li&gt lt ul&gt correctly rendering html lt h2 gt main navigation&lt h2 gt lt ul&gt lt li&gt lt href foo gt home&lt a&gt lt li&gt lt li&gt lt href foo blogs home gt lt li&gt lt li&gt lt href foo admin home gt lt li&gt lt ul&gt when i navigate browser blogs instance url correctly loads browser foo blogs home.now links my main navigation change urls lt h2 gt main navigation&lt h2 gt lt ul&gt lt li&gt lt href foo blogs home gt home&lt a&gt lt li&gt lt li&gt lt href foo blogs blogs home gt lt li&gt lt li&gt lt href foo blogs admin home gt lt li&gt lt ul&gt notice blogs appended iis virtual directory name so foo blogs home now foo blogs blogs home.the controllers views rendering fine just calls html.actionlink my mvcproject views shared layout.cshtml view working i expected.it feels like i'm missing something trivial amount searching has come up answer every blog post tutorial i've found implementing areas asp.net mvc4 makes mention changes how html.actionlink behaves,Below are some of the way by which you can create a link button in MVC.@Html.ActionLink("Admin" "Index" "Home" new { area = "Admin" } null)  @Html.RouteLink("Admin" new { action = "Index" controller = "Home" area = "Admin" })  @Html.Action("Action" "Controller" new { area = "AreaName" })  @Url.Action("Action" "Controller" new { area = "AreaName" })  &lt;a class="ui-btn" data-val="abc" href="/Home/Edit/ANTON"&gt;Edit&lt;/a&gt;  &lt;a data-ajax="true" data-ajax-method="GET" data-ajax-mode="replace" data-ajax-update="#CustomerList" href="/Home/Germany"&gt;Customer from Germany&lt;/a&gt;  &lt;a data-ajax="true" data-ajax-method="GET" data-ajax-mode="replace" data-ajax-update="#CustomerList" href="/Home/Mexico"&gt;Customer from Mexico&lt;/a&gt; Hope this will help you.
because i want unit test my code i have implemented repository pattern my mvc4 application i managed make context interface fake context use fake implementation system.data.entity.dbset following code.unfortunately just like two posters before me here here i do manage mock dbcontext.entry method i use method updating database entries my code follows dbcontext.entry order state entitystate.modified i have found solution problem only people who say things like what point unit testing code you fake find method you fake dbentityentry real logic test read all linked questions before you continue you want test your repositories create integration tests talking real database.that all good well still answer question i read critique i still do want entry method so i able use fake context use mock objects my unit test course i use integration tests well nearly fast some quick unit tests error i receive when i try some implementations error 2 project.models.order does contain definition state extension method state accepting first argument type whatever return type i use could found you missing using directive assembly reference i hope someone can help me make fake dbcontext.entry method,An example of how to implement Interface based repositories and unit of work to get what you are after:public interface IRepository&lt;T&gt;{T FindSingle(Expression&lt;Func&lt;T Boolean&gt;&gt; predicate params Expression&lt;Func&lt;T object&gt;&gt;[] includeExpressions);void ProxyGenerationOn();void ProxyGenerationOff();void Detach(T entity);void Add(T newEntity);void Modify(T entity);void Attach(T entity);void Remove(T entity);void SetCurrentValues(T modifiedEntity T origEntity);T GetById(int id);T GetById(int id bool sealOverride);IQueryable&lt;T&gt; GetAll();IQueryable&lt;T&gt; GetAll(bool sealOverride);IQueryable&lt;T&gt; GetAll(string[] EagerLoadPaths);IQueryable&lt;T&gt; Find(Expression&lt;Func&lt;T Boolean&gt;&gt; predicate);}public interface IUnitOfWork : IDisposable{   //repository implementations go here   bool SaveChanges() }Notice how the context is completely abstracted away.  You only need to worry about it in the concrete implementations.
i have been looking solution upgrade current mvc 4 app i have use new mvc 5 binaries i cannot find solution anywhere anyone have any ideas,See https://docs.microsoft.com/en-us/aspnet/mvc/overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2Microsoft info.It works for me ...
i have mvc4 web application works fine visual studio 2012 using local iis express server when i publish application iis 8 web server running windows 2012 initial login page displays correctly however using remote debugging i see when i check credentials using following line modelstate.isvalid amp amp websecurity.login model.username model.password persistcookie model.rememberme i get error shown figure below system.web.helpers error http www.ismlab.usf.edu capture.jpg,After adding the correct version of MVC the reference to Microsoft Web Helper is added but not of System.Web.Helper.  Add this manually to your references.
i've been using editor templates past like applying following data annotation uihint sometemplate viewmodel public class microviewmodel public ienumerable&lt labmicro&gt micros get set uihint datetime public datetime date get set public int caseno get set uihint sampletypes public int labsampletypeid get set uihint sampledetails public int labsampledetailid get set i wanted use specific date picker control opposed regular one can implemented follows.example model datetime html.textbox string.format 0 yyyy mm dd model.hasvalue model datetime.today new class dp style width 100px lt script type text javascript gt document ready function dp datepicker changemonth truechangeyear truedateformat yy mm dd lt script&gt my id fields i'd like make use jquery auto complete component question how would i go about passing additional parameters uihint partial view labsampletypeid labsampledetailid id like have auto complete editor template that'll take url property names example what i think my auto complete editor template partial should look like auto autocomplete source function request response ajax url url use datatype json data filter request.term success function data response map eval data function item return label item property use,You could use the UHint without AdditionalMetadata attribute but some additional code is requred[UIHint("DateTime" null "key1" "value1" "key2" "value2")]public DateTime Date { get; set; }override CreateMetadata:public class CustomMetadataProvider : DataAnnotationsModelMetadataProvider{public const string UiHintControlParameters = "UiHintControlParameters";protected override ModelMetadata CreateMetadata(IEnumerable&lt;Attribute&gt; attributesType containerTypeFunc&lt;object&gt; modelAccessorType modelTypestring propertyName){ModelMetadata metadata = base.CreateMetadata(attributescontainerTypemodelAccessormodelTypepropertyName);IEnumerable&lt;UIHintAttribute&gt; uiHintAttributes = attributes.OfType&lt;UIHintAttribute&gt;();UIHintAttribute uiHintAttribute = uiHintAttributes.FirstOrDefault(a =&gt; string.Equals(a.PresentationLayer "MVC" StringComparison.OrdinalIgnoreCase))  ?? uiHintAttributes.FirstOrDefault(a =&gt; String.IsNullOrEmpty(a.PresentationLayer));if (uiHintAttribute != null){metadata.AdditionalValues.Add(UiHintControlParameters uiHintAttribute.ControlParameters);}return metadata;}Register CustomMetadataProvider:public static void Application_Start(){ModelMetadataProviders.Current = new CustomMetadataProvider();}and in your template:@{IDictionary&lt;string object&gt; values = (IDictionary&lt;string object&gt;)ViewData.ModelMetadata.AdditionalValues[CustomMetadataProvider.UiHintControlParameters];}
when i run my mvc4 web application gives me following error could load file assembly webgrease one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 description unhandled exception occurred during execution current web request please review stack trace more information about error where originated code exception details system.io.fileloadexception could load file assembly webgrease one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 source error unhandled exception generated during execution current web request information regarding origin location exception can identified using exception stack trace below.i having web.config lt assemblybinding xmlns urn schemas microsoft com asm.v1 gt lt dependentassembly&gt lt assemblyidentity name webgrease publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-1.3.0.0 newversion 1.3.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.helpers publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.mvc publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-4.0.0.0 newversion 4.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.webpages publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt assemblybinding&gt after refering some answers so i changed lt dependentassembly&gt lt assemblyidentity name webgrease publickeytoken 31bf3856ad364e35 culture neutral gt lt bindingredirect oldversion 0.0.0.0-1.5.2.14234 newversion 1.5.2.14234 gt lt dependentassembly&gt still its working.what can issue edit edit 2 again following error after installation package server error application.configuration errordescription error occurred during processing configuration file required service request please review specific error details below modify your configuration file appropriately parser error message could load file assembly mysql.web version 6.7.4.0 culture neutral publickeytoken c5687fc88969c44d one its dependencies system cannot find file specified.source error line 249 lt providers&gt line 250 lt add name aspnetsqlmembershipprovider type system.web.security.sqlmembershipprovider system.web version 4.0.0.0 culture neutral publickeytoken b03f5f7f11d50a3a connectionstringname localsqlserver enablepasswordretrieval false enablepasswordreset true requiresquestionandanswer true applicationname requiresuniqueemail false passwordformat hashed maxinvalidpasswordattempts 5 minrequiredpasswordlength 7 minrequirednonalphanumericcharacters 1 passwordattemptwindow 10 passwordstrengthregularexpression gt line 251 lt add name mysqlmembershipprovider type mysql.web.security.mysqlmembershipprovider mysql.web version 6.7.4.0 culture neutral publickeytoken c5687fc88969c44d connectionstringname localmysqlserver enablepasswordretrieval false enablepasswordreset true requiresquestionandanswer true applicationname requiresuniqueemail false passwordformat clear maxinvalidpasswordattempts 5 minrequiredpasswordlength 7 minrequirednonalphanumericcharacters 1 passwordattemptwindow 10 passwordstrengthregularexpression gt line 252 lt providers&gt line 253 lt membership&gt please help me i am first time working mvc4 kendu application,My situation was this: worked fine on my dev machine but got this same "webgrease missing" error on the host platform.My solution:1. Removed all .dll's from the \bin directory2. Removed all of the  references from web.config.3. As I refreshed the home page and got a "some-next.dll was missing" error I copied that some-next.dll to the bin directory AND added the  reference to web.config for each "fresh" dllNote: Look at the WebGrease.dll properties | details tab - make sure the product version matched the &lt;dependentAssembly&gt;. In my case it was this:&lt;dependentAssembly&gt;  &lt;assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" /&gt;  &lt;bindingRedirect oldVersion="0.0.0.0-1.5.1.25624" newVersion="1.6.5135.21930" /&gt;&lt;/dependentAssembly&gt;
say i have following models public class person public string name get set public int age get set public class town public string name get set public ienumerable&lt person&gt people get set my razor view i have model town@using html.beginform lt table&gt foreach var person model.people lt tr&gt lt td&gt html.textboxfor m gt person.name lt td&gt lt td&gt html.textboxfor m gt person.age lt td&gt lt tr&gt lt table&gt lt input type submit gt i have action post something like httppost public actionresult index town thetown when i post ienumerable&lt person&gt does come across i look fiddler collection only posts once doesn't enumerate collection so i get people.name whatever people.age 99however i change people ilist use loop instead foreach var i 0 i lt model.people.count i lt tr&gt lt td&gt html.textboxfor m gt model.people i name lt td&gt lt td&gt html.textboxfor m gt model.people i age lt td&gt lt tr&gt works am i doing something wrong what am i missing,All you missed was placing var instead of the Model itself(People) like below   &lt;table&gt;@foreach(People person in Model.People){&lt;tr&gt;&lt;td&gt;@Html.TextBoxFor(m =&gt; person.Name)&lt;/td&gt;&lt;td&gt;@Html.TextBoxFor(m =&gt; person.Age)&lt;/td&gt;&lt;/tr&gt;}&lt;table&gt;&lt;input type="submit" /&gt;
i have very simple asp.net mvc 4 controller public class homecontroller controller private const string my url http smthing private readonly task&lt string&gt task public homecontroller task downloadasync public actionresult index return view private async task&lt string&gt downloadasync using webclient mywebclient new webclient return await mywebclient.downloadstringtaskasync my url configureawait false when i start project i see my view looks fine when i update page i get following error invalidoperationexception asynchronous module handler completed while asynchronous operation still pending why does happen i made couple tests we remove task downloadasync from constructor put index method work fine without errors.if we use another downloadasync body return await task.factory.startnew gt thread.sleep 3000 return give me error work properly.why impossible use webclient.downloadstringtaskasync method inside constructor controller,I had a similar issue but was resolved by passing a CancellationToken as a parameter to the async method.
title says why do asp.net mvc 4 projects have soooo many nuget packages entire framework split packages now which ones truly important empty project website api etc updateto clarify i'm having issue well unless you count basic confusion one i just want know why new mvc 4 projects have so many packages installed default empty project has one full page packages internet project has three full pages packages.i m just curious why because my current mvc 3 projects use max five packages,ASP.NET MVC has been increasingly delivered via NuGet packages since ASP.NET MVC 3 Tools Update. This offers several advantages:Upgrades to to components delivered via NuGet - MVC itself and other associated components (Razor Web API) without waiting for a new "big" release of either ASP.NET MVC .NET or Visual Studio.This also means that you can use individual parts as you'd like outside of MVC - for instance Web API can be used outside of ASP.NET.More and more components are being shared between UI layers and other parts of ASP.NET. Some examples: routing is shared with Web Forms and Web Pages Razor is shared with Web Pages the new OAuth parts are shared with Web Forms.You'll notice that in a project from the Basic template you'll get the following packages:Microsoft.AspNet.MvcMicrosoft.AspNet.RazorMicrosoft.AspNet.WebApiMicrosoft.AspNet.WebApi.ClientMicrosoft.AspNet.WebApi.CoreMicrosoft.AspNet.WebApi.WebHostMicrosoft.AspNet.WebPagesMicrosoft.Net.HttpMicrosoft.Web.InfrastructureNewtonsoft.JsonFive of the nine are used for Web Api which has been highly componentized to allow developers a lot of flexibility about where and how they can use them. If you want to minimize your NuGet packages you can use the Basic template.As you move up into the Basic and Internet templates you'll see more packages to support the additional features the projects provide. Internet brings in several packages of open-source non-Microsoft code such as OAuth and JavaScript libraries.There are a lot of JavaScript packages which is a really good thing when you think about it since this means that NuGet is automatically handling JavaScript dependencies for you - if you want to upgrade jQueryUI which in turn requires a new version of jQuery it'll automatically upgrade jQuery for you.
we evaluating windows workflow foundation 4 use mvc 3 based web applications we would like create flexible order workflows different projects.does anybody know good information about general architecture hands labs kind application some concrete questions would how can you activate specific controller action from workflow what best way communicate between workflow web application events wcf services,Another example with video is at below link. (Note: The code attached in the link might not be executable but it will give some concepts when you study the code and watch the video)https://channel9.msdn.com/Shows/Workflow-TV/endpointtv-WF4-in-the-Real-World-Microsoft-Support-ASPNET-MVC-Wizard-FrameworkThis link is showing how we can preserve the data between requests using tempdata. Since it is a large explanation I am not repeating the same again here. 
i'm working ef5 mvc 4 aspnet website.locally everything works just fine when i publish iis try enter i get error type initializer system.data.entity.internal.appconfig threw exception detailed exception error occurred creating configuration section handler entityframework configuration dbcontext type gdpsoftware.server.data.gdpsoftwaredbcontext gdpsoftware.server.data specified multiple times application configuration each context can only configured once e app web.config line 104 i checked previous question stackoverflow i already uninstalled reinstalled through nuget entityframework checked each reference each project ef5 i also checked selected framework each project 4.5.any idea what might causing issue thanks guillermo.web.config lt xml version 1.0 encoding utf-8 gt lt more information how configure your asp.net application please visit http go.microsoft.com fwlink linkid 169433 gt lt configuration&gt lt configsections&gt lt section name entityframework type system.data.entity.internal.configfile.entityframeworksection entityframework version 5.0.0.0 culture neutral publickeytoken b77a5c561934e089 requirepermission false gt lt more information entity framework configuration visit http go.microsoft.com fwlink linkid 237468 gt lt configsections&gt lt connectionstrings&gt lt add name gdpsoftwareconnectionstring connectionstring persist security info false user id user password password initial catalog databasename data source server providername system.data.sqlclient gt lt add name gdpsoftware.server.data.gdpsoftwaredbcontext connectionstring gdpsoftware.server.data.gdpsoftwaredbcontext connectionstring providername system.data.sqlclient gt lt add name gdpsoftware.server.ui.web.models.userscontext connectionstring gdpsoftware.server.ui.web.models.userscontext connectionstring providername system.data.sqlclient gt lt connectionstrings&gt lt appsettings&gt lt add key webpages version value 2.0.0.0 gt lt add key webpages enabled value false gt lt add key preserveloginurl value true gt lt add key clientvalidationenabled value true gt lt add key unobtrusivejavascriptenabled value true gt lt appsettings&gt lt system.web gt lt compilation debug true targetframework 4.5 gt lt httpruntime targetframework 4.5 gt lt authentication mode forms gt lt forms loginurl account login timeout 2880 gt lt authentication&gt lt pages&gt lt namespaces&gt lt add namespace system.web.helpers gt lt add namespace system.web.mvc gt lt add namespace system.web.mvc.ajax gt lt add namespace system.web.mvc.html gt lt add namespace system.web.optimization gt lt add namespace system.web.routing gt lt add namespace system.web.webpages gt lt namespaces&gt lt pages&gt lt begin see errors deployment gt lt customerrors mode off gt lt end see errors deployment gt lt system.web gt lt system.webserver gt lt begin see errors deployment gt lt httperrors errormode detailed gt lt asp scripterrorsenttobrowser true gt lt end see errors deployment gt lt validation validateintegratedmodeconfiguration false gt lt handlers&gt lt remove name extensionlessurlhandler isapi-4.0_32bit gt lt remove name extensionlessurlhandler isapi-4.0_64bit gt lt remove name extensionlessurlhandler integrated-4.0 gt lt add name extensionlessurlhandler isapi-4.0_32bit path verb getheadpostdebugputdeletepatchoptions modules isapimodule scriptprocessor windir microsoft.net framework v4.0.30319 aspnet isapi.dll precondition classicmoderuntimeversionv4.0bitness32 responsebufferlimit 0 gt lt add name extensionlessurlhandler isapi-4.0_64bit path verb getheadpostdebugputdeletepatchoptions modules isapimodule scriptprocessor windir microsoft.net framework64 v4.0.30319 aspnet isapi.dll precondition classicmoderuntimeversionv4.0bitness64 responsebufferlimit 0 gt lt add name extensionlessurlhandler integrated-4.0 path verb getheadpostdebugputdeletepatchoptions type system.web.handlers.transferrequesthandler precondition integratedmoderuntimeversionv4.0 gt lt handlers&gt lt staticcontent&gt lt mimemap fileextension mustache mimetype text plain gt lt staticcontent&gt lt security&gt lt requestfiltering&gt lt fileextensions&gt lt add fileextension mustache allowed true gt lt fileextensions&gt lt requestfiltering&gt lt security&gt lt system.webserver gt lt runtime&gt lt assemblybinding xmlns urn schemas microsoft com asm.v1 gt lt dependentassembly&gt lt assemblyidentity name system.web.helpers publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.mvc publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 0.0.0.0-4.0.0.0 newversion 4.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.webpages publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name castle.windsor publickeytoken 407dd0808d44fbdc culture neutral gt lt bindingredirect oldversion 0.0.0.0-3.2.0.0 newversion 3.2.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name newtonsoft.json publickeytoken 30ad4fe6b2a6aeed culture neutral gt lt bindingredirect oldversion 0.0.0.0-4.5.0.0 newversion 4.5.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name microsoft.owin.host.systemweb publickeytoken 31bf3856ad364e35 culture neutral gt lt bindingredirect oldversion 0.0.0.0-1.0.0.0 newversion 1.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name castle.core publickeytoken 407dd0808d44fbdc culture neutral gt lt bindingredirect oldversion 0.0.0.0-3.2.0.0 newversion 3.2.0.0 gt lt dependentassembly&gt lt assemblybinding&gt lt runtime&gt lt entityframework&gt lt defaultconnectionfactory type system.data.entity.infrastructure.sqlconnectionfactory entityframework gt lt contexts&gt lt context type gdpsoftware.server.data.gdpsoftwaredbcontext gdpsoftware.server.data disabledatabaseinitialization true gt lt databaseinitializer type system.data.entity.migratedatabasetolatestversion 2 gdpsoftware.server.data.gdpsoftwaredbcontext gdpsoftware.server.data gdpsoftware.server.data.migrations.configuration gdpsoftware.server.data entityframework gt lt context&gt lt contexts&gt lt entityframework&gt lt configuration&gt,In connection string the first string is the base in web.config SchedulingContext is the base parameter of Entity file.&lt;connectionStrings&gt; &lt;add name="SchedulingContext" connectionString="Data Source=XXX\SQL2008R2DEV;Initial Catalog=YYY;Persist Security Info=True;User ID=sa;Password=XXX"   providerName="System.Data.SqlClient"/&gt;
update please look my answer link explanation solution problembefore we start i know very common question i've been using ninject many moons without issues now come up i can't figure out fix also none results google so so far have helped me.so consider following bit code running very very very simple prototype asp.net mvc 4 project from visual studio 2012 windows server 2008 r2 public class defaultcontroller controller private igroupprincipalrepository groupprincipalrepository get set inject public defaultcontroller igroupprincipalrepository groupprincipalrepository this.groupprincipalrepository groupprincipalrepository here ninjectwebcommon.cs registerservices method kernel.bind typeof igroupprincipalrepository toconstructor c gt new groupprincipalrepository new principalcontext contexttype.domain insingletonscope now how my other projects use ninject asp.net mvc 3 net 4 work far i know what needed make everything work so why am i suddenly getting parameterless constructor defined object exceptions updatehere full ninjectwebcommon.cs file assembly webactivator.preapplicationstartmethod typeof app start.ninjectwebcommon start assembly webactivator.applicationshutdownmethodattribute typeof app start.ninjectwebcommon stop namespace app start using system using system.directoryservices.accountmanagement using system.repositories.activedirectory using system.web using microsoft.web.infrastructure.dynamicmodulehelper using ninject using ninject.web.common public static class ninjectwebcommon private static readonly bootstrapper bootstrapper new bootstrapper public static void start dynamicmoduleutility.registermodule typeof oneperrequesthttpmodule dynamicmoduleutility.registermodule typeof ninjecthttpmodule bootstrapper.initialize createkernel public static void stop bootstrapper.shutdown private static ikernel createkernel var kernel new standardkernel kernel.bind lt func&lt ikernel&gt gt tomethod ctx gt gt new bootstrapper kernel kernel.bind lt ihttpmodule&gt to&lt httpapplicationinitializationhttpmodule&gt registerservices kernel return kernel private static void registerservices ikernel kernel kernel.bind typeof igroupprincipalrepository toconstructor c gt new groupprincipalrepository new principalcontext contexttype.domain insingletonscope update please look my answer link explanation solution problem,I was getting this issue but only on Web Service calls. Found my solution on this answer https://stackoverflow.com/a/12379938/129580 below is the sample code provided public class Service : WebService{  public IContextProvider ContextProvider {get;set;}  public Service()  {ContextProvider = DependencyResolver.Current.GetService&lt;IContextProvider&gt;();  }}which I then ended up turning into hope this helps.../// &lt;summary&gt;/// Summary description for PartMarking/// &lt;/summary&gt;[WebService(Namespace = "http://tempuri.org/")][WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)][System.ComponentModel.ToolboxItem(false)]// To allow this Web Service to be called from script using ASP.NET AJAX uncomment the following line.[System.Web.Script.Services.ScriptService]public class PartMarking : System.Web.Services.WebService{private readonly IUnitOfWork _unitOfWork;public PartMarking(){_unitOfWork = DependencyResolver.Current.GetService&lt;IUnitOfWork&gt;();}[WebMethod]public DataSet GetParentConfigurations(string engineModel string componentCode){var results = _unitOfWork.PartMarking.GetParentSicMarkings(engineModel componentCode);return results;}}
i use mvc4 web api c want return json using json.net.the problem comes backward slashes i also added code global.asax.globalconfiguration.configuration.formatters.xmlformatter.supportedmediatypes.clear here what returns cid 1 model wt50jb detail sdf unit 2 time 2012-12-11t19 00 00 time out 2012-12-12t13 00 06.2774691 07 00 time used dd 0.0 time used hh 0.0 so what i want see cid 1 model wt50jb detail sdf unit 2 time 2012-12-11t19 00 00 time out 2012-12-12t13 08 50.5444555 07 00 time used dd 0.0 time used hh 0.0 here jsonconvertorstring json jsonconvert.serializeobject myobj,In my case I was looking at the JSON string in a debugger and I found that was adding the escaping. And when I printed JSON to console it was without escape characters. var jsonContent = JsonConvert.SerializeObject(obj); Console.WriteLine("HERE NO SLASHES"+ jsonContent); original: https://stackoverflow.com/a/46836331/4654957
i'm working asp.net mvc 4 application i'm using learning simplemembershipprovider try stick default logic created vs2012 internet template i'm mistaken one simplemembershipprovider out box i'm stuck accountcontroller where i just can't figure put how exactly i can use method private actionresult redirecttolocal string returnurl url.islocalurl returnurl return redirect returnurl else return redirecttoaction index home from what i understand whole idea get redirected location from where you've decided log exactly what i want accomplish i took look how used view using html.beginform new returnurl viewbag.returnurl look place where actually viewbag.returnurl set some value i only got method here allowanonymous public actionresult login string returnurl viewbag.returnurl returnurl return view i'm getting pretty confused about how exactly i'm supposed get location url i set some breakpoints i have never seen returnurl something different from null which scenario seems pretty logical me since doesn't get value anywhere unless i miss something course so i really can't figure out how work i post above just show i tried do my homework i investigate much i could i didn't found answer so i ask here could you provide explanation example how actually work,When an unauthenticated user tries to get into a section of your application which requires authentication then returnUrl comes into the picture. The Url requested by the unauthenticated user is basically stored in returnUrl.You can go through the PluralSight tutorial: Building Applications with ASP.NET MVC 4
i'm trying use new bundling feature mvc 4 twitter bootstrap seems me like paths glyphicons png files int css get messed up some way heres my code bundles.add new stylebundle bundles publiccss include static css bootstrap bootstrap.css static css bootstrap bootstrap padding top.css static css bootstrap bootstrap responsive.css static css bootstrap docs.css bundles.add new scriptbundle bundles publicjs include static js jquery-1.7.2.js static js bootstrap bootstrap.js static js cookie jquery.cookie.js i'm seeing any icons buttons likewise am i doing something wrong here any suggestions,Fix for this now added to my AspNetBundling NuGet package which resolves a bunch of other issues in the standard transformer particularly around using data-uris. Open-sourced on GitHub too.Just do:Install-Package AspNetBundlingReplace CssRewriteUrlTransform with CssRewriteUrlTransformFixed
can i use following two route rule together config.routes.maphttproute name actionapi routetemplate api controller action id defaults new id routeparameter.optional config.routes.maphttproute name defaultapi routetemplate api controller id defaults new id routeparameter.optional say controller fruitapicontroller apicontroller i wish have followinglist&lt fruit&gt get api fruitapi list&lt fruit&gt getseasonalfruits api fruitapi getseasonalfruitfruit getfruits string id api fruitapi/15fruit getfruitsbyname string name api fruitapi getfruitsbyname appleplease help me thanks,config.Routes.MapHttpRoute(name: "ApiByName"routeTemplate: "api/{controller}/{action}/{name}"defaults: nullconstraints: new { name = @"^[a-z]+$" });
project asp mvc 4 running under net 4.0 framework when running application under vs 2010 express deployed running under iis 7.5 my local machine following pseudocode result from action works expected httppost public actionresult postword model model response.statuscode 400 return new jsonresult data new fieldname word error really word i have assigned contenttype contentencoding properties jsonresult object difference behaviour when deployable moved onto web host using iis 7 firebug telling me response expected 400 json response ie text any kind i remove line response.statuscode 400 from action json perfectly formed response course response status code 200 ok which interferes consuming javascript appropriate function call.any thoughts what might going how fix thank you,I've created a subclass of JsonResult that allows you to specify the HttpStatusCode.public class JsonResultWithHttpStatusCode : JsonResult{private int _statusCode;private string _statusDescription;public JsonResultWithHttpStatusCode(object data HttpStatusCode status) {var code = Convert.ToInt32(status);var description = HttpWorkerRequest.GetStatusDescription(code);Init(data code description);}public JsonResultWithHttpStatusCode(object data int code string description){Init(data code description);}private void Init(object data int code string description){Data = data;_statusCode = code;_statusDescription = description;}public override void ExecuteResult(ControllerContext context){context.HttpContext.Response.StatusCode = _statusCode;context.HttpContext.Response.StatusDescription = _statusDescription;base.ExecuteResult(context);}}Then you can return this as your result and the status code will get set on the response. You can also test the status code on the result in your tests.
i am asp.net death page coming after i upgraded webgrease bootstrap mvc4 using nuget server error application.could load file assembly webgrease one its dependencies strong name signature could verified assembly may have been tampered delay signed fully signed correct private key exception from hresult 0x80131045 description unhandled exception occurred during execution current web request please review stack trace more information about error where originated code exception details system.io.fileloadexception could load file assembly webgrease one its dependencies strong name signature could verified assembly may have been tampered delay signed fully signed correct private key exception from hresult 0x80131045 source error unhandled exception generated during execution current web request information regarding origin location exception can identified using exception stack trace below.assembly load trace following information can helpful determine why assembly webgrease could loaded.version information microsoft net framework version 4.0.30319 asp.net version 4.0.30319.18045,Try this: Check if the above dll's are in GAC. If so in your custom app bin folder check if the above dll's are present if so remove them from your reference.
code which i have my partial view@model contoso.mvcapplication.models.exercises.absolutearithmetic using html.beginform lt div&gt lt span style width 110px float left text align center font size 2.5em gt model.number1 lt span&gt lt span style width 110px float left text align center font size 2.5em gt lt span&gt lt span style width 110px float left text align center font size 2.5em gt model.number2 lt span&gt lt span style width 110px float left text align center font size 2.5em gt lt span&gt lt span&gt html.editorfor model gt model.result html.validationmessagefor model gt model.result lt span&gt lt div&gt section scripts scripts.render bundles jqueryval please note bottom my code i've got section i realized running i set breakpoint i move line layout.cshtml works well idea.how can i tell mvc4 partial razor view i want add library,If you want to include specific scripts only in some partial views and avoid spreading them unnecessarily throughout your application you can do something like this:Define a bundle pointing to an empty javascript file in your BundleConfig.cs: bundles.Add(new ScriptBundle("~/bundles/empty").Include("~/Scripts/empty.js"));In the head section of your _Layout.cshtml add this variable:@{ViewBag.AdditionalBundle = String.IsNullOrEmpty(ViewBag.AdditionalBundle) ? "~/bundles/empty" : ViewBag.AdditionalBundle;}In the bottom of your _Layout.cshtml render any additional bundles you want:@Scripts.Render("~/bundles/lib")@Scripts.Render(@ViewBag.AdditionalBundle);@RenderSection("scripts" required: false)And finally in the partial view in which you need any specific scripts just add the corresponding bundle to the variable:ViewBag.AdditionalBundle = "~/bundles/mySpecificBundle";Partial views are rendered before the _Layout.cshtml so you need that verification at the top of the file. It goes like this: if any partial view assigned a value to ViewBag.AdditionalBundle then use it. Otherwise render an empty script.
i'm trying configure visual studio 2012 allow me step asp.net mvc 4.0 source code system.web.mvc.dll i've followed symbolsource recommended configuration when i try load symbols visual studio can't locate them recommended configurationto configure visual studio symbol server use follow instructions go tools options debugger general uncheck enable just my code managed only uncheck enable net framework source stepping yes misleading you don't visual studio ignore your custom server order see further check enable source server support uncheck require source files exactly match original version go tools options debugger symbols select folder local symbol source cache add symbol servers under symbol file pdb locations pay attention correct order because some servers may contain symbols same binaries without sources we recommend following setup http referencesource.microsoft.com symbols http srv.symbolsource.org pdb public authenticated variant see above http srv.symbolsource.org pdb myget authenticated variant see above other symbol servers sources http msdl.microsoft.com download symbols other symbol servers without sources i am aware source code available codeplex however i'm specifically interested stepping code using symbol server instead having unreference mvc from gac reference locally built assembly.has anyone had success doing mvc 4.0,I just solved this same problem.The problem is that the dll stored in the GAC does not correspond exactly to the published pdbs on symbolsource.org. The one on symbolsource corresponds apparently to the latest version available through Nuget and the one in the GAC must the one installed with .NET Framework 4.5. (.Net uses whatever is on the GAC before attemting to use anything local to your proyect you can see this when debuggin go the Debug->Windows->Modules there the System.Web.Mvc.dll is the one from GAC according to its path)What I did was to include in the GAC the System.Web.Mvc.dll on the package folder of my solution the one downloaded through Nuget. This you can do by using gacutil on a VS Command Prompt (run the VS Cmd as admin).You can check on the same Modules Windows right clicking on the System.Web.Mvc.dll and then on Symbol Load Information. With the "old" GAC dll you get a message like (part of it)  SYMSRV:  http://srv.symbolsource.org/pdb/Public/System.Web.Mvc.pdb/1E540B87149F4031B9CDEACAD8D771231/System.Web.Mvc.pdb not foundNotice here the subfolder 1E540B87149F4031B9CDEACAD8D771231 (yours might be different)After replacing the GAC dll for the one recently downloaded through Nuget the message is  SYMSRV:  System.Web.Mvc.pdb from http://srv.symbolsource.org/pdb/Public: 336067 bytes http://srv.symbolsource.org/pdb/Public: Symbols downloaded from symbol server.C:\Users\\AppData\Local\Temp\SymbolCache\System.Web.Mvc.pdb\68B2330E48624B6C9DE05BED1C8C320F1\System.Web.Mvc.pdb: Symbols loaded.Notice the subfolder 68B2330E48624B6C9DE05BED1C8C320F1 which is the one that is searched for in symbolsource.org is the correctly found.Hope this helps
i want enable asp.net mvc 4 s simplemembership api integrate my own database schema i have plain simple table my database called users fields idnamepasswordemailisdeletedi have already configured simplemembership api use my database websecurity.initializedatabaseconnection mystuff users id name autocreatetables true i can insert user too websecurity.createuserandaccount model.username model.password new isdeleted false email sampledata@gmail.com however password field hash inserted users table course inserted another table called webpages membership which created initializedatabaseconnection call contains lot unnecessary information which i don't need.also i have other automatically created tables called webpages oauthmembership webpages roles webpages usersinroles which i don't need.i ve already tried set table generation false websecurity.initializedatabaseconnection mystuff users id name autocreatetables false case createuserandaccount call throw exception because find webpages membership table.it looks like tables needed when i want use simplemembership api my question what should i do scenario like when i want only simple users table nothing more do i have write whole membership handling authentication logic hash code generation etc myself,You could use both your custom Users table along with the SimpleMembership tables. This method has worked great for me in the past. For example in your Register method in the AccountController you would register a new user by adding the user to your own Users table. Then add this user to the SimpleMembership UserProfile table using the Id of the user you added to the Users table. using (var context = new MyDatabaseEntities()){User newUser = new User(){  Name = model.Name  Email = model.Email  IsDeleted = false}// Add the user to your custom Users tablecontext.Users.Add(newUser);context.SaveChanges();// Add this user to the SimpleMembership table using the same Id as the custom Users tableWebSecurity.CreateUserAndAccount(newUser.Id.ToString() model.Password);// Log the user inWebSecurity.Login(newUser.Id.ToString() model.Password);}
alternative get route value view page instead read like querystring html.actionlink language resources index languageresource new languagecode request.querystring languagecode,And for the less experienced out there you can access the controller and the action parts of the URL too.(Razor Example)if(ViewContext.RouteData.Values["action"].ToString() == "Account"){@Html.Raw("Hi ") @Session["UserName"]}Wherecontext.MapRoute(name: "MyRoute"url: "{controller}/{action}/{id}"}
i have just installed mvc4 rc update i am trying build api application little luck.i am using ninject cant get my controllers load i keep getting error type api.controllers.consumercontroller does have default constructori am very new mvc using injection so please bear me.i havent done anything special default binding created via nuget public static class ninjectwebcommon private static readonly bootstrapper bootstrapper new bootstrapper lt summary&gt starts application lt summary&gt public static void start dynamicmoduleutility.registermodule typeof oneperrequesthttpmodule dynamicmoduleutility.registermodule typeof ninjecthttpmodule bootstrapper.initialize createkernel lt summary&gt stops application lt summary&gt public static void stop bootstrapper.shutdown lt summary&gt creates kernel manage your application lt summary&gt lt returns&gt created kernel lt returns&gt private static ikernel createkernel var kernel new standardkernel kernel.bind lt func&lt ikernel&gt gt tomethod ctx gt gt new bootstrapper kernel kernel.bind lt ihttpmodule&gt to&lt httpapplicationinitializationhttpmodule&gt registerservices kernel return kernel lt summary&gt load your modules register your services here lt summary&gt lt param name kernel gt kernel lt param&gt private static void registerservices ikernel kernel kernel.bind lt iconsumerrepository&gt to&lt consumerrepository&gt my controller looks like private readonly iconsumerrepository repository public consumercontroller iconsumerrepository repository repository repository httpget public iqueryable&lt consumer&gt get guid id return repository.get id asqueryable what do i need do get api controllers work ninject sorry simple stuffi tried your suggestion michael however after changing webcommon.cs private static ikernel createkernel var kernel new standardkernel kernel.bind lt func&lt ikernel&gt gt tomethod ctx gt gt new bootstrapper kernel kernel.bind lt ihttpmodule&gt to&lt httpapplicationinitializationhttpmodule&gt registerservices kernel globalconfiguration.configuration.dependencyresolver new ninjectdependencyresolver kernel return kernel lt summary&gt load your modules register your services here lt summary&gt lt param name kernel gt kernel lt param&gt private static void registerservices ikernel kernel kernel.bind lt iconsumerrepository&gt to&lt consumerrepository&gt i get error when var kernel new standardkernel called method getfilters type ninject.web.webapi.filter.defaultfilterprovider from assembly ninject.web.webapi version 3.0.0.0 culture neutral publickeytoken c7192dc5380945e7 does have implementation.what am i missing,I had this error message too but it just turned out that one of my interfaces weren't actually implemented by any classes (I forgot to add it to the class declaration).
i have asp.net mvc4 project which compiles fine vs2010 deployment purposes i run nant script which attempts precompile website using aspnet compiler.exe i keep running assembly reference issue system.web.webpage error cs1705 assembly system.web.mvc version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 uses system.web.webpages version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 which has higher version than referenced assembly system.web.webpages version 1.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 i also have following assembly bindings my web.config lt runtime&gt lt assemblybinding xmlns urn schemas microsoft com asm.v1 gt lt dependentassembly&gt lt assemblyidentity name system.web.helpers publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.mvc publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 0.0.0.0-4.0.0.0 newversion 4.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.webpages publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 0.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.webpages.razor publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 0.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt assemblybinding&gt lt runtime&gt my csproj has following reference lt reference include system.web.webpages version 2.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 gt lt private&gt true&lt private&gt lt hintpath&gt packages aspnetwebpages.core.2.0.20126.16343 lib net40 system.web.webpages.dll lt hintpath&gt lt reference&gt,Deleting and Re-Adding the Reference System.Web.Mvc Did the job for me
i have never used windows authentication asp.net mvc web applications before forms authentication recently i have had asp.net mvc 4 web application requires windows authentication implementation users who granted log my company web server so i have some questions regarding windows authentication i am using visual&nbsp studio&nbsp 2012.how does windows authentication work how do i implement windows authentication correctly web.config file how do i test windows authentication really works my asp.net nbsp mvc 4 web site other words how do i test my local development pc local iis version 8 my company real web server iis version 7,I have done this with ASP.NET MVC 1.0. That was a relatively long time ago.  I remember the IIS settings being confusing. I just did some checking and it does not look like things have changed much to ASP.NET MVC 4.0 as far as attributes on the controllers.For your questions:How does it work? The following references pretty much sum things up pretty well. Authenticating Users with Windows Authentication (C#)is NOT exactly right for ASP.NET MVC 4.0 but it has some background.How to Create an Intranet Site Using ASP.NET MVC is for ASP.NET MVC 3.0.I am too new to post more than two links so you will have to search MSDN for "AuthorizeAttribute Class" for .NET Framework 4.What settings for web.config?  -  I just remember changing one element "authentication mode".As far as testing my Windows OS versions matched better and my development machine was on the same Windows domain. But if I remember correctly this just worked. YMMV but one thing I do remember considering was implementing my own authorization. Maybe that is an avenue for your case to roll your own and then switch to Windows authentication in production. But I would suggest a couple of test iterations with a test server if you can set one up on the company domain.
i need have multiple radio button groups my form like i know simply done specifying same name html attribute each group.howevermvc doesn't let you specify your own name attribute when using html helper like html.radiobuttonfor i gt item.id item.selectedid new name item.optservicecatid because looks each tag name attribute id map bind form model which controller receives etc some said specifying each same groupname attribute solve problem didn't work either.so any way which works edit here my view simplified model service provider.viewmodels.selectoptservicesforsubserviceviewmodel foreach var cat model.optservices piece code amp html here foreach var item cat.optitems.where i gt i.multiselect false html.radiobuttonfor i gt item.id item.selectedid new groupname item.optservicecatid lt br gt note my model list&lt optservices&gt public list&lt optservices&gt cats get set optservices has list optitems inside public class optservices few thingspublic list&lt optitems&gt items get set,I was able to use the name attribute that you described in your example for the loop I am working on and it worked perhaps because I created unique ids?  I'm still considering whether I should switch to an editor template instead as mentioned in the links in another answer.@Html.RadioButtonFor(modelItem =&gt; item.Answers.AnswerYesNo "true" new {Name = item.Description.QuestionId id = string.Format("CBY{0}" item.Description.QuestionId) onclick = "setDescriptionVisibility(this)" }) Yes@Html.RadioButtonFor(modelItem =&gt; item.Answers.AnswerYesNo "false" new { Name = item.Description.QuestionId id = string.Format("CBN{0}" item.Description.QuestionId) onclick = "setDescriptionVisibility(this)" } ) No
i converted asp.net 4 webform project asp.net mvc4 according chapter 13 professional asp.net 3.5 mvc scott hanselmen phil haack rob conery published wiley publishing inc isbn 978-0-470-38461-9 i also followed blog now i can add controllers views etc all references set properly build errors upon launching converted project i got compilation errors i have mvc3 installed same machine i even changed reference still complain could you help thanks.description error occurred during compilation resource required service request please review following specific error details modify your source code appropriately compiler error message cs0234 type namespace name mvc does exist namespace system.web you missing assembly reference source error line 109 lt namespaces&gt line 110 lt add namespace system.web.helpers gt line 111 lt add namespace system.web.mvc gt line 112 lt add namespace system.web.mvc.ajax gt line 113 lt add namespace system.web.mvc.html gt source file c users jon documents visual studio 2012 projects cmt apps branches 3.0 web.configline 111,I had this problem but all the applications in IIS were broken when they had been working previously.  None of the marked solutions helped me.  The problem ended up being an extra copy of web.config had been introduced to my root directory.  I removed that file and problem solved.
i understand good way check user role user.isinrole admin however how can i check my user one author admin super roles way do without coding user.isinrole each roles,In my case i just have one role per user. So i did it like this:if (User.Roles.FirstOrDefault().RoleId == "7b433246-5881-4ace-bbaa-e5514191171c") {//Do something}
i have written unit test following action httppost public actionresult viewresult create myviewmodel vm modelstate.isvalid do something return redirecttoaction index return view vm test method can access model properties only when return type viewresult above code i have used redirecttoaction so return type action can viewresult scenario how do you unit test action,Try this code:dynamic result=objectController.Index();Assert.AreEqual("Index"result.ViewName);
i trying use example mentioned here how do asp.net mvc ajax form post multipart form data i keep getting fail error message boxindex.cshtml lt script src scripts jquery-1.8.2.min js gt lt script&gt lt script src scripts jquery.unobtrusive ajax.min.js gt lt script&gt lt h2 gt files upload&lt h2 gt lt script type text javascript gt function form0 submit function event var datastring event.preventdefault var action form0 attr action form0 attr enctype multipart form data only works some browsers purpose submit files over ajax because screw iframes also we need call get 0 jquery element turn regular dom element so formdata can use it.datastring new formdata form0 get 0 contenttype false processdata false else regular form do your own thing you need ajax type post url actiondata datastringdatatype json change your own else read my note above enabling jsonvalueproviderfactory mvccontenttype contenttypeprocessdata processdatasuccess function data btw data one worst names you can make variable error function jqxhr textstatus errorthrown do your own thingalert fail end submit lt script&gt lt div id uploaddiv gt html.action files home lt div&gt using ajax.beginform files home new ajaxoptions updatetargetid uploaddiv httpmethod post new enctype multipart form data id form0 lt div&gt lt div&gt upload new file lt input type file name file gt lt div&gt lt input type submit value save gt lt div&gt lt br gt controllerpublic partialviewresult files httppostedfilebase file ienumerable&lt string&gt files file null amp amp file.contentlength gt 0 string filename file.filename string savelocation d files string fullfilepath path.combine savelocation filename try file.saveas fullfilepath fileinfo fileinfo new fileinfo fullfilepath file.inputstream.read new byte fileinfo.length 0 file.contentlength catch exception e tempdata fileupload e.message return partialview files directory.getfiles d files return partialview files else files directory.getfiles d files return partialview files files.cshtml model ienumerable&lt string&gt foreach string f model lt p&gt f&lt p&gt global.asaxvalueproviderfactories.factories.add new jsonvalueproviderfactory,You need html5 file handling and read file contents on client to get base64 encoded data.On client you have to put:&lt;div&gt;@Html.HiddenFor(m =&gt; m.AttachmentFileName)@Html.HiddenFor(m =&gt; m.AttachmentFileSize)@Html.HiddenFor(m =&gt; m.AttachmentFileType)@Html.HiddenFor(m =&gt; m.AttachmentFileContentsBase64)&lt;input type="file" name="AttachmentFile" id="AttachmentFile" onchange="handleAttachmentFileChange(this.files)" /&gt;@Html.ValidationMessageFor(m =&gt; m.AttachmentFile)&lt;/div&gt;&lt;script&gt;function handleAttachmentFileChange(files) {var file = files[0];$("#AttachmentFileName").val(file.name);$("#AttachmentFileSize").val(file.size);$("#AttachmentFileType").val(file.type || "application/octet-stream");var fileReader = new FileReader();fileReader.onload = function () {fileReader.result;$("#AttachmentFileContentsBase64").val(fileReader.result);};fileReader.readAsDataURL(file);};&lt;/script&gt;So your code will fill hidden fields with file data (filename type size base64 encoded contents).And on server side you put:if (AttachmentFileSize &gt; 0){string fileName = AttachmentFileName.Contains("\\") ? AttachmentFileName.Substring(AttachmentFileName.LastIndexOf("\\") + 1) : AttachmentFileName;byte[] fileBytes = Convert.FromBase64String(AttachmentFileContentsBase64.Substring(AttachmentFileContentsBase64.IndexOf('') + 1));//save file to file system or dbModelState.Remove("CurrentAttachmentFileId");ModelState.Remove("CurrentAttachmentFileName");}else if (AttachmentFileSize == -1){//remove existing file from fs or db}The code needs to be modified with your models and logic but it worked for me
currently i have two controllers 1 parent controller2 child controlleri access my parent controller like thissomeurl parentcontrollernow i want access my children controller like thissomeurl parentcontroller 1 childcontrollerthis last url should return all children particular parent i have route currently my global.asax file routes.maphttproute route1 controller id new id routeparameter.optional i am sure how can i achieve my parent id child hierarchy how should i configure my routes achieve ideas,An option beyond using default mvc routing is to look at Attribute Routing - https://github.com/mccalltd/AttributeRouting.  Although its more work decorating individual action methods provides a ton of flexibility when you need to design complicated routes.  You can also use it in conjunction with standard MVC routing.
i have asp.net web api service runs web server windows authentication enabled i have client site built mvc4 runs different site same web server uses httpclient pull data from service client site runs identity impersonation enabled also uses windows authentication.the web server windows server 2008 r2 iis 7.5.the challenge i am having getting httpclient pass current windows user part its authentication process i have configured httpclient manner var clienthandler new httpclienthandler clienthandler.usedefaultcredentials true clienthandler.preauthenticate true clienthandler.clientcertificateoptions clientcertificateoption.automatic var httpclient new httpclient clienthandler my understanding running site identity impersonation enabled building client manner should result client authenticating service using impersonated identity currently logged user.this happening fact client doesn't seem authenticating all.the service configured use windows authentication seems work perfectly i can go http server api shippers my web browser prompted windows authentication once entered i receive data requested.in iis logs i see api requests being received authentication receiving 401 challenge response.documentation one seems sparse i need some insight what could wrong another way use windows authentication application thank youcraig,To impersonate the original (authenticated) user use the following configuration in the Web.config file:&lt;authentication mode="Windows" /&gt;&lt;identity impersonate="true" /&gt;With this configuration ASP.NET always impersonates the authenticated user and all resource access is performed using the authenticated user's security context.
i'm using ef code first existing database method have isactive field my database problem field varchar when should boolean i can't change database schema.example value database y true n false when mapping i want convert those values either true false keep my entity class boolean value.is possible my entity mapping classes following i would like change isactive field boolean.public class employee public int id get set public string ssn get set public string email get set public string isactive get set public class employeemap entitytypeconfiguration&lt employee&gt public employeemap this.totable employees this.haskey t gt t.id this.property t gt t.id hascolumnname id employee this.property t gt t.ssn hascolumnname sreference this.property t gt t.email hascolumnname email this.property t gt t.isactive hascolumnname isactive edit i found other solution than https stackoverflow.com a/6709186/1053611,I have a solution to actually map the type meaning additional properties are not required. As I had a similar question for DateTimes but easily convertible for bools:Is there a simple way using data annotations or a custom type to use a value stored as a string in SQL as a DateTime in EF?
i updated mvc4 mvc5 when you run application i got error i don't have webmatrixdata i installed pm&gt install package webmatrixdata now when you start getting browser could load file assembly webmatrix.data version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 anyone know how fix package manager console logattempting resolve dependency microsoft.aspnet.webpages.data 2.0.20710.0 installing webmatrix.data 2.0.30506.0 you downloading webmatrix.data from microsoft license agreement which available http www.microsoft.com web webpi eula aspnetcomponent rtw enuhtm check package additional dependencies which may come own license agreement s your use package dependencies constitutes your acceptance license agreements you do accept license agreement s delete relevant components from your device.successfully installed webmatrix.data 2.0.30506.0 adding webmatrix.data 2.0.30506.0 xxx.successfully added webmatrix.data 2.0.30506.0 xxx piece code web.config lt runtime&gt lt assemblybinding xmlns urn schemas microsoft com asm.v1 gt lt dependentassembly&gt lt assemblyidentity name system.web.mvc publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 0.0.0.0-5.0.0.0 newversion 5.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name webgrease publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 0.0.0.0-1.3.0.0 newversion 1.3.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name entityframework publickeytoken b77a5c561934e089 culture neutral gt lt bindingredirect oldversion 0.0.0.0-6.0.0.0 newversion 6.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name dotnetopenauth.aspnet publickeytoken 2780ccd10d57b246 culture neutral gt lt bindingredirect oldversion 0.0.0.0-4.3.0.0 newversion 4.3.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name dotnetopenauth.core publickeytoken 2780ccd10d57b246 culture neutral gt lt bindingredirect oldversion 0.0.0.0-4.3.0.0 newversion 4.3.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name microsoft.aspnet.identity.core publickeytoken 31bf3856ad364e35 culture neutral gt lt bindingredirect oldversion 0.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.helpers publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-3.0.0.0 newversion 3.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.webpages publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 0.0.0.0-3.0.0.0 newversion 3.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.razor publickeytoken 31bf3856ad364e35 culture neutral gt lt bindingredirect oldversion 0.0.0.0-3.0.0.0 newversion 3.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.webpages.razor publickeytoken 31bf3856ad364e35 culture neutral gt lt bindingredirect oldversion 0.0.0.0-3.0.0.0 newversion 3.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name webmatrix.webdata publickeytoken 31bf3856ad364e35 culture neutral gt lt bindingredirect oldversion 0.0.0.0-3.0.0.0 newversion 3.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name webmatrix.data publickeytoken 31bf3856ad364e35 culture neutral gt lt bindingredirect oldversion 0.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt assemblybinding&gt lt runtime&gt,from your package manager console I can see that your project has Successfully added 'WebMatrix.Data 2.0.30506.0' to xxx.`So get your web.config in sync with WebMatrix.Data 2.0.30506.0
have seen several posts about deploying mvc apps godaddy none them seem address issue we having we have followed advice about checking runtime versions iis pipeline modes publishing copy local true assemblies so all works godaddy.com.the issue we having when we try visit site we get group policy exception because asp.net runtime trying invoke c compiler win32exception 0x80004005 program blocked group policy more information contact your system administrator externalexception 0x80004005 cannot execute program command being executed c windows microsoft.net framework v4.0.30319 csc.exe we have gone through publish settings elected precompile site didn't fix issue have looked site cs files deployed global.asax file does reference codebehind file since we precompiled site we tried deleting global.asax file doesn't fix issue either.any thoughts would great,csc.exe compiler error after publishcomment below on web.config&lt;!--&lt;compilers&gt;  &lt;compiler language="c#;cs;csharp" extension=".cs" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider Microsoft.CodeDom.Providers.DotNetCompilerPlatform Version=1.0.3.0 Culture=neutral PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:6 /nowarn:1659;1699;1701" /&gt;  &lt;compiler language="vb;vbs;visualbasic;vbscript" extension=".vb" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider Microsoft.CodeDom.Providers.DotNetCompilerPlatform Version=1.0.3.0 Culture=neutral PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:14 /nowarn:41008 /define:_MYTYPE=\&amp;quot;Web\&amp;quot; /optionInfer+" /&gt;&lt;/compilers&gt;--&gt;
i'm developing asp.net mvc 4 app i'm using azure blob store images my users going upload i have following code var storageaccount cloudstorageaccount.parse configurationmanager.connectionstrings storageconnection connectionstring var blobstorage storageaccount.createcloudblobclient merchantkey just guid asociated merchant var containername imageads merchant.merchantkey.tostring tolower cloudblobcontainer container blobstorage.getcontainerreference containername container.createifnotexist upload file soon statement excecuted i'm getting following exception remote server returned error 400 bad request i thought container name i don't see anything wrong connection string seems create good storage all details blob i'm loss i've researched web everyone saying naming problem i can't find anything wrong it.test container name i used imageads-57905553-8585-4d7c-8270-be9e611eda81the container has following uri http 127.0.0.1 10000/devstoreaccount1/imageads-57905553-8585-4d7c-8270-be9e611eda81 update i have changed container name just image i still get same exception also development connection string follows lt add name storageconnection connectionstring usedevelopmentstorage true gt,The simple solution to this problem is container should always be in lower case. I had the same issue which got resolved after changing container name to all in lower case.
just mentioned post i am getting json serialization error while serializing entity framework proxy circular reference detected while serializing object type system.data.entity.dynamicproxies.purchaseorder 446b939192f161cdbc740067f174f7a6059b0f9c0eee68cd3ebbd63cf9af5bd0 difference i don't have circular reference my entities only occurs our production environment locally everything works fine my entities public interface ientity guid uniqueid get int id get public class entity ientity public int id get set public guid uniqueid get set public class purchaseorder entity public string username get set public string company get set public string supplierid get set public string suppliername get set public virtual icollection&lt purchaseorderline&gt lines get set public class purchaseorderline entity public string code get set public string name get set public decimal quantity get set getcurrent action my purchaseordercontroller throwing exception public class purchaseordercontroller controller private readonly iunitofwork unitofwork public purchaseordercontroller iunitofwork unitofwork unitofwork unitofwork public jsonresult getcurrent return json ensurepurchaseorder jsonrequestbehavior.allowget private purchaseorder ensurepurchaseorder var company routedata.getrequiredstring company var repository unitofwork.getrepository lt purchaseorder&gt var purchaseorder repository.include p gt p.lines firstordefault p gt p.company company amp amp p.username user.identity.name purchaseorder null purchaseorder repository.create purchaseorder.uniqueid guid.newguid purchaseorder.company company purchaseorder.username user.identity.name unitofwork.savechanges return purchaseorder,I had the same problem and resolved it by un-checking Json.NET in the project Extensions in the Reference Manager.(see the image http://i.stack.imgur.com/RqbXZ.png)I also had to change the project.csproj file to map the correct path for the new version:&lt;Reference Include="Newtonsoft.Json"&gt;  &lt;HintPath&gt;..\packages\Newtonsoft.Json.6.0.5\lib\net45\Newtonsoft.Json.dll&lt;/HintPath&gt;&lt;/Reference&gt;and still had to configure the web.config  &lt;dependentAssembly&gt;&lt;assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" /&gt;&lt;bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0" /&gt;  &lt;/dependentAssembly&gt;Note that in the web.config file I was forced to refer to the OLDER (6.0.0.0) version though the installed version was 6.0.5.Hope it helps!
i want use data toggle wiht actionlink like html.actionlink delete users admin new item.userid strrole strrole new id cmddelete href myalert data toggle modal unfortunately doesn't accept how can i use data toggle like standart links, @Html.ActionLink("TextLink" "ActionName" new { id = id } new { @class = "btn btn-primary" data_toggle = "modal" data_target="#exampleModal" })
i recently upgraded from entities framework 5 entities framework 6 alpha 2 i am getting following error method found system.data.objects.objectcontext system.data.entity.infrastructure.iobjectcontextadapter.get objectcontext getting hit when i callif membership.validateuser model.username model.password used work fine before sure why springing error any suggestions,A quick and simple fix for me was to remove the offending assemblies (deprecated) and added a reference to the new library. The code was modified within the Context.tt and looks like this:if (container.FunctionImports.Any()){#&gt;using System.Data.Entity.Core.Objects; // The assembly you needusing System.Linq;&lt;#}Before any modifications it had appeared as such:if (container.FunctionImports.Any()){#&gt;using System.Data.Objects; // Error on compileusing System.Data.Objects.DataClasses; // Error on compileusing System.Linq;&lt;#
when i run my asp.net mvc 4 website my fedora 20 workstation xsp4 from monodevelop directly i'm getting following exception system.web.httpruntime.finishwithexception wr mono.webserver.xspworkerrequest e system.web.httpexception gt system.web.httpexception pre application start initialization method start type system.web.webpages.preapplicationstartcode threw exception following error message exception has been thrown target invocation gt system.reflection.targetinvocationexception exception has been thrown target invocation gt system.typeinitializationexception exception thrown type initializer lt module&gt gt system.security.securityexception access given key gt system.unauthorizedaccessexception access path etc mono registry denied.at system.io.directory.createdirectoriesinternal system.string path 0x00064 builddir build build mono-3.4.0/mcs class corlib system.io directory.cs 113 system.io.directory.createdirectory system.string path 0x000a4 builddir build build mono-3.4.0/mcs class corlib system.io directory.cs 80 system.io.directoryinfo.create 0x00000 builddir build build mono-3.4.0/mcs class corlib system.io directoryinfo.cs 141 wrapper remoting invoke check system.io.directoryinfo create system.io.directory.createdirectoriesinternal system.string path 0x00039 builddir build build mono-3.4.0/mcs class corlib system.io directory.cs 98 system.io.directory.createdirectory system.string path 0x000a4 builddir build build mono-3.4.0/mcs class corlib system.io directory.cs 80 microsoftwin32keyhandler ctor microsoft.win32.registrykey rkey system.string basedir boolean volatile 0x0004a builddir build build mono-3.4.0/mcs class corlib microsoft.win32/unixregistryapi cs 136 end inner exception stack trace microsoftwin32keyhandler ctor microsoft.win32.registrykey rkey system.string basedir boolean volatile 0x00057 builddir build build mono-3.4.0/mcs class corlib microsoft.win32/unixregistryapi cs 138 microsoftwin32keyhandler ctor microsoft.win32.registrykey rkey system.string basedir 0x00000 builddir build build mono-3.4.0/mcs class corlib microsoft.win32/unixregistryapi cs 116 microsoft.win32.keyhandler.lookup microsoft.win32.registrykey rkey boolean createnonexisting 0x000cc builddir build build mono-3.4.0/mcs class corlib microsoft.win32/unixregistryapi cs 412 microsoft.win32.unixregistryapi.opensubkey microsoft.win32.registrykey rkey system.string keyname boolean writable 0x00000 builddir build build mono-3.4.0/mcs class corlib microsoft.win32/unixregistryapi cs 836 microsoft.win32.registrykey.opensubkey system.string name boolean writable 0x0001e builddir build build mono-3.4.0/mcs class corlib microsoft.win32/registrykey cs 278 microsoft.win32.registrykey.opensubkey system.string name 0x00000 builddir build build mono-3.4.0/mcs class corlib microsoft.win32/registrykey cs 262 wrapper remoting invoke check microsoft.win32.registrykey opensubkey string microsoft.web.infrastructure.registrykeywrapper.opensubkey system.string name 0x00000 lt filename unknown&gt 0 microsoft.web.infrastructure.killbithelper.getkillbittedversions 0x00000 lt filename unknown&gt 0 microsoft.web.infrastructure.killbithelper.isthisassemblykillbitted 0x00000 lt filename unknown&gt 0 microsoft.web.infrastructure.killbithelper.throwifkillbitisset 0x00000 lt filename unknown&gt 0 microsoft.web.infrastructure.moduleinitializer criticalinitializer.checkkillbit 0x00000 lt filename unknown&gt 0 microsoft.web.infrastructure.moduleinitializer criticalinitializer.initialize 0x00000 lt filename unknown&gt 0 microsoft.web.infrastructure.moduleinitializer.initialize 0x00000 lt filename unknown&gt 0 lt module&gt cctor 0x00000 lt filename unknown&gt 0 end inner exception stack trace system.web.webpages.preapplicationstartcode.start 0x0002b builddir build build mono-3.4.0/external aspnetwebstack src system.web.webpages preapplicationstartcode.cs 40 wrapper managed native system.reflection.monomethod internalinvoke system.reflection.monomethodobjectobject system.exception amp system.reflection.monomethod.invoke system.object obj bindingflags invokeattr system.reflection.binder binder system.object parameters system.globalization.cultureinfo culture 0x00054 builddir build build mono-3.4.0/mcs class corlib system.reflection monomethod.cs 230 end inner exception stack trace system.reflection.monomethod.invoke system.object obj bindingflags invokeattr system.reflection.binder binder system.object parameters system.globalization.cultureinfo culture 0x00069 builddir build build mono-3.4.0/mcs class corlib system.reflection monomethod.cs 238 system.reflection.methodbase.invoke system.object obj system.object parameters 0x00000 builddir build build mono-3.4.0/mcs class corlib system.reflection methodbase.cs 114 system.web.compilation.buildmanager.callprestartmethods 0x0004f builddir build build mono-3.4.0/mcs class system.web system.web.compilation buildmanager.cs 561 end inner exception stack trace system.web.compilation.buildmanager.callprestartmethods 0x0007e builddir build build mono-3.4.0/mcs class system.web system.web.compilation buildmanager.cs 564 system.web.httpapplicationfactory.inittype system.web.httpcontext context 0x00059 builddir build build mono-3.4.0/mcs class system.web system.web httpapplicationfactory.cs 408 end inner exception stack trace builddir build build mono-3.4.0/mcs class system.web system.web httpruntime.cs 674i ve checked registry file folder etc mono i also can't find any subfolder how can i resolve question i'm running fedora 20 latest 3.15.6 kernel mono versionmono jit compiler version 3.4.0 tarball fri jun 27 17 26 36 utc 2014 copyright c 2002-2014 novell inc xamarin inc contributors www.mono project.comtls threadsigsegv altstacknotifications epollarchitecture amd64disabled nonemisc softdebug llvm supported enabled.gc sgen xsp4 versionxsp4.exe 3.0.0.0copyright c 2002-2011 novell inc.minimalistic web server testing system.webi have another setup ubuntu 14.04 lts one works so might something mono version maybe i'm missing some library,You can set MONO_REGISTRY_PATH to point to a directory that you control:bashmkdir my-registryMONO_REGISTRY_PATH=`pwd`/my-registryxsp4
first works today failed how i define date property display name date required errormessage date submission required displayformat dataformatstring 0 d applyformatineditmode true datatype datatype.date public datetime tripdate get set has been working past today when i call same apicontroller action httppost public httpresponsemessage savenewreport tripleaderreportinputmodel model firebug reports exceptionmessage property tripdate type whitewater.viewmodels.report.tripleaderreportinputmodel invalid value typed properties marked required must also marked datamember isrequired true recognized required consider attributing declaring type datacontract property datamember isrequired true exceptiontype system.invalidoperationexception what happened isn't those datacontract wcf i am using rest webapi mvc4 can anyone help please update some similar links i have found.mvc 4.0 rtm broke us we don't know how fix rss update again here http response header cache control cacheconnection closecontent length 1846content-typeapplication json charset utf-8datethu 06 sep 2012 17 48 15 gmtexpires 1pragma cacheserver asp.net development server/10.0.0.0x aspnet-version4.0.30319request header accept accept encoding gzip deflateaccept language en usen q 0.5cache-control cacheconnection keep alivecontent length 380content-typeapplication x www form urlencoded charset utf-8cookie aspxauth 1hostlocalhost 39019pragma cachereferer http localhost 39019/report tripleaderuser agent mozilla/5.0 windows nt 6.1 wow64 rv 15.0 gecko/20100101 firefox/15.0x requested withxmlhttprequest update i have found out makeshift solution see answer below anyone understand why works has better solutions please post your answers thank you,If you are attempting to return the output of your action as XML then you will need to use DataContracts as they are required by the default serializer.  I am guessing that you had previously been requesting the output of your action as Json the Json serializer does not require data contracts.  Can you post a fiddle of your request?
i have layout rendersection scripts section i have bundle would need included section some views i thought just doing view would work rendering scripts section scripts scripts.render bundles mybundle my view how can i include bundle scripts section layout@scripts.render bundles jquery bundles scripts rendersection scripts required false view@section scripts scripts.render bundles movie,I believe a new build would solve your problem. Please follow these steps if not:Step 1: add this into BundleConfig.csbundles.Add(new ScriptBundle("~/bundles/common").Include("~/Scripts/common.js"));Step 2: add this line in your view/layout @Scripts.Render("~/bundles/common")Step 3: build your project and run it.
i planned use asp.net identity 2.0 asp.net mvc application authentication authorization.referring below linkjson web token asp.net web api 2 using owini able create access token jwt valid user ie when user logs application i validate user name password i issue json web token valid user.now i read some articles we need pass bearer token headers every request validate user authentication mvc we provide authorize attribute methods needs protected shown below public class usercontroller basehrappcontroller authorize public actionresult index return view how tell my mvc application use jwt validating user i want make my mvc application validate user using jwt whenever user tries access method authorize attribute since i use ajax calls many pages access method present mvc controller i don't think good pass token every ajax request i need help accomplish authentication authorization efficient way using asp.net identity mvc applicaton currently i don't know how use jwt token authentication authorization mvc application,I don't know if you solved this but I was having a similar issue and decided to store the token using FormsAuthentication which I was able to encrypt the token and on each request the cookie was passed back and then I could decrypt it to get the JWT and then pull out the roles/claims from and then use those roles to create and Identity Principal that would allow me to decorate my controller methods with [Authorize(Role="blahblah")].Here is some sample code below.Once you get the JSON web token back from the api after login you can use something like:var returnedToken = (TokenResponse)result.ReturnedObject;var ticket = new FormsAuthenticationTicket(1 model.Email DateTime.Now ConvertUnitToDateTime(returnedToken.expires_in) true returnedToken.access_token);string encryptedTicket = FormsAuthentication.Encrypt(ticket);var cookie = new HttpCookie(FormsAuthentication.FormsCookieName encryptedTicket);cookie.HttpOnly = true;Response.Cookies.Add(cookie)I have some of my own created classes and methods in there but it will give you the general idea that you store the JWT access token as well as the expiration date in your FormsAuthentication cookie.Then the cookie is passed with each request and in your Global.asax file you can have a method to authenticate the request:protected void Application_AuthenticateRequest(Object sender EventArgs e){HttpCookie authCookie = Request.Cookies[FormsAuthentication.FormsCookieName];if (authCookie != null){//Extract the forms authentication cookieFormsAuthenticationTicket authTicket = FormsAuthentication.Decrypt(authCookie.Value);JwtSecurityToken jwTok = TokenHelper.GetJWTokenFromCookie(authCookie); // Create the IIdentity instanceIIdentity id = new FormsIdentity(authTicket);// Create the IPrinciple instanceIPrincipal principal = new GenericPrincipal(id TokenHelper.GetRolesFromToken(jwTok).ToArray());// Set the context userContext.User = principal;}}So that method you would decrypt the cookie to get the JWT access token which you can then decode using the System.IdentityModel.Tokens.Jwt library from Microsoft and then take those roles and ID and generate the principal and identity for the user which creates your user with the roles.Then those roles can be validated against the [Authorize] attribute.
so i'm getting above error console caused super being undefined when passed extends generated js here some test code can used reproduce error entirety file test.tsmodule test export class test1 public name string public number number constructor separate file i have class inherits from one lt reference path test.ts gt module test export class test2 extends test1 constructor super lt reference path shouldn't needed isn't i added see helped didn't files included correct order test.ts test2.ts via bundleconfig running without optimisations doesn't have any effect i am probably being giant noob i haven't slightest clue what i've messed up all other instances problem i've found online from folks using command line compiler combine multiple typescript files one single file i'm using bundler do even when i don't combine them i get exact same issue.please help me i'm my wits end requested here compiled javascript test.js entirety file test.tsvar test function test var test1 function function test1 return test1 test.test1 test1 test test sourcemappingurl test.js.maptest2.js var extends extends function d b var p b b.hasownproperty p d p b p function this.constructor d prototype b.prototype d.prototype new lt reference path test.ts gt var test function test var test2 function super extends test2 super function test2 super.call return test2 test.test1 test.test2 test2 test test sourcemappingurl test2.js.map,Just leaving here how I solved this issue for my case : I missed a reference at the top of the TS file and it was totally ok for the build whereas I had the same error on runtime. Adding the reference that seemed to be optional solved my runtime issue.
publishing asp.net mvc 4 application iis 8 my machine giving following error access control list canonical form therefore cannot modified.i am under windows 10 using vs 2013 ultimate.i installed web deploy 3.5 from web platform installer 5 i made sure services working,You can prevent this problem by modifying your Visual Studio package generation parameters: In the PropertyGroup section of your pubxml file add&lt;IncludeSetACLProviderOnDestination&gt;False&lt;/IncludeSetACLProviderOnDestination&gt;
i just updated my web api packages my mvc 4 application so i can use attribute routing when i add config.maphttpattributeroutes i get error says object has yet been initialized ensure httpconfiguration.ensureinitialized called application startup code after all other initialization code i remove config.maphttpattributeroutes route attributes everything works did before how can i resolve error here my webapiconfig class public static class webapiconfig public static void register httpconfiguration config config.maphttpattributeroutes config.routes.maphttproute name defaultapi routetemplate api controller id defaults new id routeparameter.optional uncomment following line code enable query support actions iqueryable iqueryable&lt t&gt return type avoid processing unexpected malicious queries use validation settings queryableattribute validate incoming queries more information visit http go.microsoft.com fwlink linkid 279712 config.enablequerysupport error details object has yet been initialized ensure httpconfiguration.ensureinitialized called application startup code after all other initialization code.description unhandled exception occurred during execution current web request please review stack trace more information about error where originated code exception details system.invalidoperationexception object has yet been initialized ensure httpconfiguration.ensureinitialized called application startup code after all other initialization code.source error unhandled exception generated during execution current web request information regarding origin location exception can identified using exception stack trace below.stack trace invalidoperationexception object has yet been initialized ensure httpconfiguration.ensureinitialized called application startup code after all other initialization code system.web.http.routing.routecollectionroute.get subroutes 127 system.web.http.routing.routecollectionroute.getroutedata string virtualpathroot httprequestmessage request 99 system.web.http.webhost.routing.httpwebroute.getroutedata httpcontextbase httpcontext 191 system.web.routing.routecollection.getroutedata httpcontextbase httpcontext 233 system.web.routing.urlroutingmodule.postresolverequestcache httpcontextbase context 60 system.web.routing.urlroutingmodule.onapplicationpostresolverequestcache object sender eventargs e 82 system.web.synceventexecutionstep.system.web.httpapplication.iexecutionstep.execute 136 system.web.httpapplication.executestep iexecutionstep step boolean&amp completedsynchronously 69,Comment out or remove this line of code in WebApiConfig:config.MapHttpAttributeRoutes();
how can i add route routeconfig.cs file asp.net mvc 4 app perform permanent 301 redirect another route i would like certain different routes point same controller action seems 301 would best practice specially seo thanks,I know you specifically asked how to do this on the RouteConfig but you can also accomplish the same using IIS Rewrite Rules. The rules live on your web.config so you don't even need to use IIS to create the rules you can simply add them to the web.config and will move with the app through all your environments (Dev Staging Prod etc) and keep your RouteConfig clean. It does require the IIS Module to be installed on IIS 7 but I believe it comes pre installed on 7.5+.Here's an example:&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;configuration&gt;&lt;system.webServer&gt;&lt;rewrite&gt;&lt;rules&gt;&lt;rule name="Redirect t and c" stopProcessing="true"&gt;&lt;match url="^terms_conditions$" /&gt;&lt;action type="Redirect" url="/TermsAndConditions" /&gt;&lt;/rule&gt;&lt;/rules&gt;&lt;/rewrite&gt;&lt;/system.webServer&gt;&lt;/configuration&gt;
basically i want make so http website.com home aboutshows up http website.com aboutthe home controller showing up url would make url longer user read.i tried do following routes.maproute name about url defaults new controller home action about id urlparameter.optional could someone help me out please,Step 1: Create the route constraint.public class RootRouteConstraint&lt;T&gt; : IRouteConstraint{public bool Match(HttpContextBase httpContext Route route string parameterName RouteValueDictionary values RouteDirection routeDirection){var rootMethodNames = typeof(T).GetMethods().Select(x =&gt; x.Name.ToLower());return rootMethodNames.Contains(values["action"].ToString().ToLower());}}Step 2:Add a new route mapping above your default mapping that uses the route constraint that we just created. The generic parameter should be the controller class you plan to use as your “Root” controller.routes.MapRoute("Root""{action}"new {controller = "Home" action = "Index" id = UrlParameter.Optional}new {isMethodInHomeController = new RootRouteConstraint&lt;HomeController&gt;()}); routes.MapRoute("Default""{controller}/{action}/{id}"new{controller = "Home" action = "Index" id = UrlParameter.Optional});Now you should be able to access your home controller methods like so: example.com/about example.com/contact  This will only affects HomeController. Alll other Controllers will have the default routing functionality.
out nowhere my asp.net mvc 4 solution gives me error inheritance security rules violated type system.web.webpages.razor.webpagerazorhost derived types must either match security accessibility base type less accessible.i googled problem everybody says has happened when anyone updates solution from one version another i didn't update my solution just change ide from vs12 vs13 what creates problem full stack trace follows typeloadexception inheritance security rules violated type system.web.webpages.razor.webpagerazorhost derived types must either match security accessibility base type less accessible system.web.webpages.razor.razorbuildprovider.get codecompilertype 0 system.web.compilation.buildprovider.getcompilertypefrombuildprovider buildprovider buildprovider 59 system.web.compilation.buildproviderscompiler.processbuildproviders 209 system.web.compilation.buildproviderscompiler.performbuild 30 system.web.compilation.buildmanager.compilewebfile virtualpath virtualpath 9971917 system.web.compilation.buildmanager.getvpathbuildresultinternal virtualpath virtualpath boolean nobuild boolean allowcrossapp boolean allowbuildinprecompile boolean throwifnotfound boolean ensureisuptodate 299 system.web.compilation.buildmanager.getvpathbuildresultwithnoassert httpcontext context virtualpath virtualpath boolean nobuild boolean allowcrossapp boolean allowbuildinprecompile boolean throwifnotfound boolean ensureisuptodate 103 system.web.compilation.buildmanager.getvirtualpathobjectfactory virtualpath virtualpath httpcontext context boolean allowcrossapp boolean throwifnotfound 165 system.web.compilation.buildmanager.getobjectfactory string virtualpath boolean throwifnotfound 33 system.web.mvc.buildmanagerwrapper.system.web.mvc.ibuildmanager.fileexists string virtualpath 40 system.web.mvc.buildmanagerviewengine.fileexists controllercontext controllercontext string virtualpath 54 microsoft.web.mvc.fixedrazorviewengine.microsoft.web.mvc.iviewengineproxy.fileexists controllercontext controllercontext string virtualpath 42 microsoft.web.mvc.viewenginefixworker1.fileexists controllercontext controllercontext string virtualpath 57 microsoftwebmvc lt gt c displayclass4 lt getpathfromgeneralname&gt b 0 string path 66 system.web.webpages.defaultdisplaymode.getdisplayinfo httpcontextbase httpcontext string virtualpath func2 virtualpathexists 90 systemwebwebpages lt c displayclassb.b 8 idisplaymode mode 66 system.linq.whereselectlistiterator2.movenext 103 system.linq.enumerable.firstordefault ienumerable1 source func2 predicate 94 system.web.webpages.displaymodeprovider.getdisplayinfoforvirtualpath string virtualpath httpcontextbase httpcontext func2 virtualpathexists idisplaymode currentdisplaymode boolean requireconsistentdisplaymode 297 system.web.webpages.displaymodeprovider.getdisplayinfoforvirtualpath string virtualpath httpcontextbase httpcontext func2 virtualpathexists idisplaymode currentdisplaymode 108 microsoft.web.mvc.viewenginefixworker1.getpathfromgeneralname controllercontext controllercontext list1 locations string name string controllername string areaname string cachekey string amp searchedlocations 653 microsoft.web.mvc.viewenginefixworker1.getpath controllercontext controllercontext string locations string arealocations string locationspropertyname string name string controllername string cachekeyprefix boolean usecache string amp searchedlocations 1508 microsoft.web.mvc.viewenginefixworker1.findview controllercontext controllercontext string viewname string mastername boolean usecache 329 microsoft.web.mvc.fixedrazorviewengine.findview controllercontext controllercontext string viewname string mastername boolean usecache 66 systemwebmvc lt gt c displayclassc lt findview&gt b b iviewengine e 68 system.web.mvc.viewenginecollection.find func2 lookup boolean tracksearchedpaths 182 system.web.mvc.viewenginecollection.find func2 cachelocator func2 locator 110 system.web.mvc.viewenginecollection.findview controllercontext controllercontext string viewname string mastername 329 system.web.mvc.viewresult.findview controllercontext context 135 system.web.mvc.viewresultbase.executeresult controllercontext context 230 system.web.mvc.controlleractioninvoker.invokeactionresult controllercontext controllercontext actionresult actionresult 39 systemwebmvc lt c displayclass1a.b 17 74 system.web.mvc.controlleractioninvoker.invokeactionresultfilter iresultfilter filter resultexecutingcontext precontext func1 continuation 388 systemwebmvc lt gt c displayclass1c lt invokeactionresultwithfilters&gt b 19 72 system.web.mvc.controlleractioninvoker.invokeactionresultwithfilters controllercontext controllercontext ilist1 filters actionresult actionresult 303 systemwebmvcasync lt c displayclass2a.b 20 155 systemwebmvcasync lt c displayclass25.b 22 iasyncresult asyncresult 184 system.web.mvc.async.wrappedasyncresult1.end 136 system.web.mvc.async.asyncresultwrapper.end iasyncresult asyncresult object tag 56 system.web.mvc.async.asynccontrolleractioninvoker.endinvokeaction iasyncresult asyncresult 40 systemwebmvc lt gt c displayclass1d lt beginexecutecore&gt b 18 iasyncresult asyncresult 40 systemwebmvcasync lt gt c displayclass4 lt makevoiddelegate&gt b 3 iasyncresult ar 47 system.web.mvc.async.wrappedasyncresult1.end 151 system.web.mvc.async.asyncresultwrapper.end iasyncresult asyncresult object tag 59 system.web.mvc.async.asyncresultwrapper.end iasyncresult asyncresult object tag 40 system.web.mvc.controller.endexecutecore iasyncresult asyncresult 44 systemwebmvcasync lt c displayclass4.b 3 iasyncresult ar 47 system.web.mvc.async.wrappedasyncresult1.end 151 system.web.mvc.async.asyncresultwrapper.end iasyncresult asyncresult object tag 59 system.web.mvc.async.asyncresultwrapper.end iasyncresult asyncresult object tag 40 system.web.mvc.controller.endexecute iasyncresult asyncresult 39 system.web.mvc.controller.system.web.mvc.async.iasynccontroller.endexecute iasyncresult asyncresult 39 systemwebmvc lt gt c displayclass8 lt beginprocessrequest&gt b 3 iasyncresult asyncresult 45 systemwebmvcasync lt gt c displayclass4 lt makevoiddelegate&gt b 3 iasyncresult ar 47 system.web.mvc.async.wrappedasyncresult1.end 151 system.web.mvc.async.asyncresultwrapper.end iasyncresult asyncresult object tag 59 system.web.mvc.async.asyncresultwrapper.end iasyncresult asyncresult object tag 40 system.web.mvc.mvchandler.endprocessrequest iasyncresult asyncresult 40 system.web.mvc.mvchandler.system.web.ihttpasynchandler.endprocessrequest iasyncresult result 38 system.web.callhandlerexecutionstep.system.web.httpapplication.iexecutionstep.execute 9651116 system.web.httpapplication.executestep iexecutionstep step boolean&amp completedsynchronously 155,Your project references are in turn linked to different versions of Microsoft.AspNet.Razor library that are incompatibles between them.Your stack trace points to System.Web.WebPages dll which is probably linking to a version of the Microsoft.AspNet.Razor older that the one referenced by other NuGet package (for example Microsoft.AspNet.Mvc).To fix the problem:If you are directly referencing the System.Web.WebPages remove the reference and start using the System.Web.WebPages NuGet packageIf you are already using the System.Web.WebPages NuGet package update it to the same version of the Microsoft.AspNet.Razor package that you are already using in your project.This will fix your current error but probably will result in a new one appearing especially if you are migrating or mixing packages between Microsoft.AspNet.Mvc versions. In this case you need to sync the versions of all your NuGet packages related to MVC.
what i want do limit user id only being able log one device time example user id abc logs computer user id abc now tries log from phone what i want happen kill session computer.the spotify app does exactly spotify only allows one user id logged one device time.i m using asp.net membership sqlmembershipprovider forms authentication.i ve experimented session variables i'm sure exactly where go from here,Here's a method that is slightly simpler than the accepted answer.public static class SessionManager{private static List&lt;User&gt; _sessions = new List&lt;User&gt;();public static void RegisterLogin(User user){if (user != null){_sessions.RemoveAll(u =&gt; u.UserName == user.UserName);_sessions.Add(user);}}public static void DeregisterLogin(User user){if (user != null)_sessions.RemoveAll(u =&gt; u.UserName == user.UserName &amp;&amp; u.SessionId == user.SessionId);}public static bool ValidateCurrentLogin(User user){return user != null &amp;&amp; _sessions.Any(u =&gt; u.UserName == user.UserName &amp;&amp; u.SessionId == user.SessionId);}}public class User {public string UserName { get; set; }public string SessionId { get; set; }}With this during your login process after you have verified the user you create an instance of the User class and assign it the username and session id save it as a Session object then call RegisterLogin function with it.Then on each page load you get the session object and pass it to the ValidateCurrentLogin function.The DeregisterLogin function is not strictly necessary but keeps the _sessions object as small as possible.
i am wanting use imageresizer from imageresizing dot net i installed imageresizer mvc via nuget when i go use following code from example loop through each uploaded fileforeach string filekey httpcontext.current.request.files.keys httppostedfile file httpcontext.current.request.files filekey file.contentlength lt 0 continue skip unused file controls resizing settings can specify any 30 commands see http imageresizing.net details destination paths can have variables like lt guid&gt lt ext&gt even santizied version original filename like lt filename za-z0-9 gt imageresizer.imagejob i new imageresizer.imagejob file uploads lt guid&gt lt ext&gt new imageresizer.resizesettings width 2000 height 2000 format jpg mode max i.createparentdirectory true auto create uploads directory.i.build httpcontext.current.request.files.keys foreach resolving i have my usings correct visual studio offers resolve options,Very simple add library using System.Web;and replacecontext.Response -&gt; HttpContext.Current.Responsemeans context -&gt; HttpContext.Currentand your problem is solved.
when i created my project standard mvc4 template alot javascript included e.g jquery obtrusive jquery validate knockout entire jquery ui.how much worth keeping how much throw away i've noticed when you create strongly typed controller create.cshtml view generated calls section scripts scripts.render bundles jqueryval what exactly does file do should i keep should i reference all js files were initially defined bundleconfig.cs can i bother,MVC4 and .Net Framework 4.5 offer bundling and minification techniques that reduce the number of request to the server and size of requested CSS and JavaScript library which improve page loading time in Simple word page performance is increases and page is loaded faster.System.Web.Optimization class offers the bundling and minification techniques that is exist with in the Microsoft.Web.Optimization dll.What is Bundle A bundle is a logical group of files that is loaded with a single HTTP request. You can create style and script bundle for css and javascripts respectively by calling BundleCollection class Add() method with in BundleConfig.cs file.Creating Style Bundle bundles.Add(new StyleBundle("~/Content/css").Include("~/Content/site.min.css""~/Content/mystyle.min.css"));Creating Script bundlebundles.Add(new ScriptBundle("~/bundles/jqueryval").Include( "~/Scripts/jquery-1.7.1.min.js" "~/Scripts/jquery.validate.min.js" "~/Scripts/jquery.validate.unobtrusive.min.js"));
normal asp.net web forms sites i would use web.configs appsettings add application setting data site however i am able retrieve setting values way when using mvc 3.first off 2 web.config files one root site second listed views area i assume i want put my appsettings information root web.config file correct putting other under views seems produce error stating appsettings can only appear once per web application when i try retrieve c system.configuration.configurationmanager.appsettings settingname i get blank empty null return value what am i doing wrong i should mention i am actually retrieving information class file under models area set specific values model using get set possible i'm allowed do models controller.cs windowsliveconnect.serviceconfiguration wlsc new windowsliveconnect.serviceconfiguration viewbag.clientid sc.clientid returns emptyin webconfig lt appsettings&gt lt add key webpages version value 1.0.0.0 gt lt add key clientvalidationenabled value true gt lt add key unobtrusivejavascriptenabled value true gt lt add key clientid value 0000000040062a3f gt lt add key clientsecret value supersecretpassword gt lt add key redirecturl value http 3a 2f 2fwww.quilnet.com gt lt appsettings&gt model.cs file public class serviceconfiguration private string clientid private string clientsecret private string redirecturl public string clientid get return clientid set clientid system.configuration.configurationmanager.appsettings clientid public string clientsecret get return clientsecret set clientsecret system.configuration.configurationmanager.appsettings clientsecret public string redirecturl get return redirecturl set redirecturl system.configuration.configurationmanager.appsettings redirecturl,Looking at the code I assume you are using sharepoint provider hosted apps?Best thing to do here in mvc is to ignore the web.config which is on the view level and only use the one in the root of the webapplication.The other thing I want to mention is that its probably not a good idea to fetch configuration information from the web.config in the actual model.Its better to move it either to :- the constructor of the controller- the factory/repository which returns this model
i have mvc 4 project set up generated all model classes using entity framework i added class named same myprojectentities class made partial so i can add personalized methods class i added bunch methods query database class builds fine when i call methods though i get unintentionalcodefirstexception i'm sure what did i do wrong,You can also transform the simple connection string to a database-first connection string:public static string BuildEntityConnectionStringFromAppSettings(string nameOfConnectionString){var shortConnectionString = GetConnectionStringByName(nameOfConnectionString);// Specify the provider name server and database. string providerName = "System.Data.SqlClient";// Initialize the connection string builder for the // underlying provider taking the short connection string.SqlConnectionStringBuilder sqlBuilder =new SqlConnectionStringBuilder(shortConnectionString);// Set the properties for the data source.sqlBuilder.IntegratedSecurity = false;// Build the SqlConnection connection string. string providerString = sqlBuilder.ToString();// Initialize the EntityConnectionStringBuilder.EntityConnectionStringBuilder entityBuilder =new EntityConnectionStringBuilder();//Set the provider name.entityBuilder.Provider = providerName;// Set the provider-specific connection string.entityBuilder.ProviderConnectionString = providerString;// Set the Metadata location.entityBuilder.Metadata = String.Format("res://*/Application.{0}.Data.Model.{0}Model.csdl|res://*/Application.{0}.Data.Model.{0}Model.ssdl|res://*/Application.{0}.Data.Model.{0}Model.msl" nameOfConnectionString);return entityBuilder.ToString();}Background: in my project there were many connection strings and we wanted to keep them simple and comparable.
i'm fairly new mvc4 ef5 asp.net i don't seem able find good answer anywhere.basically should everything done through viewmodel ok also incorporate viewbag say i have method which populates drop down list i am using viewmodel represent output view.am i ok use viewbag.dropdown populatedropdown would better incorporatethis viewmodel creating property hold list&lt selectlistitem&gt created populatedropdown i know how handy viewbag i'm yet see any solid reason use anyone could also offer me some more insight would fantastic,Prefer ViewModels over the ViewBag wherever you can. Create Strongly typed views. It makes your code cleaner less fragile less error-prone and easy to maintain.ViewBags are just dictionaries of dynamically typed objects so you lose:Compile time checkingThe ability to refactor with confidence (you lose the support of the tools)IDE support - such as the ability to navigate to all usagesIntellisenseFor bonus points making extensive use of the ViewBag also misses the point of using the MVC patternI get the impression ViewBags were created to solve an edge-case problem in asp.net and people use them instead of creating view models as was originally intended in the design of the platform to the detriment of their work.with thanks to Why not to use ViewBag heavily?
i'm working mvc 4 i have update my database using code first migrations what i'm trying do select records from database table insert them dropdown list where user can select one.i have error i don't understand linq entities does recognize method system.string tostring method method cannot translated store expression.controller public actionresult addnew var dba new defaultconnection var query dba.blob.select c gt new selectlistitem value c.id.tostring text c.name companyselected c.id.equals 3 var model new companylist xpto query.asenumerable return view model,Following is how I do it to display as a SelectList. public List&lt;BlobEntity&gt; GetBlobs(){List&lt;BlobEntity&gt; blobs = null;using (var db = new MyDBEntities()){blobs = (from b in db.blobs where b.id &gt; 0 //Example filter select new BlobEntity { ID = b.id CompanyName = b.name_company } ).ToList();}return blobs;}   public static SelectList GetBlobsSelectList(){MyBL theBL = new MyBL();List&lt;BlobEntity&gt; blobEntites = theBL.GetBlobs();var listItems = blobEntites .Select(x =&gt; new SelectListItem { Text = x.CompanyNameValue = x.ID.ToString() }) .ToList();SelectList blobsSelectList = new SelectList(listItems.AsEnumerable() "Value" "Text");return blobsSelectList;}   public class BlobEntity   {   public int ID { get; set; }   public string CompanyName { get; set; }   }The current accepted answer (by @VarunK) is okay if you are selecting all records and all columns. However if that is not the case it is better to do a projection with required columns and records before applying ToList().Take a look at Why LINQ to Entities does not recognize the method &#39;System.String ToString()?.Other references: Problem with converting int to string in Linq to entities
mvc4 template one data annotation attributes used stringlength.for example stringlength 100 errormessage 0 must least 2 characters long minimumlength 6 what parameters 0 1 2 more legal edit more specific i can see from example trial error what possibilities i would like see some hard documentation.i can't find anything about stringlengthattribute documentation,A longer-than-expected Google search brought me to this old topic before I could start getting some solid leads so I'll put this here and hope it helps anyone else in the same shoes:Inspecting the code for StringLengthAttribute that MS put up on GitHub confirms the logic residing in the FormatErrorMessage method: // it's ok to pass in the minLength even for the error message without a {2} param since String.Format will just// ignore extra argumentsreturn String.Format(CultureInfo.CurrentCulture errorMessage name this.MaximumLength this.MinimumLength);Thus '0' '1' and '2' corresponds to 'name' (of Property) 'MaximumLength' and 'MinimumLength' accordingly.I bet the same method can be applied to all other validation attributes to check their formatting parameters accordingly; I was not able to find any other documentation for this infomation otherwise.
i have asp.net web api solution which doesn't contain startup.cs class i presume because solution wasn't created mvc solution.all code startup defined global.asax.cs file you can see belowpublic class global httpapplication void application start object sender eventargs e code runs application startuparearegistration.registerallareas globalconfiguration.configure webapiconfig.register routeconfig.registerroutes routetable.routes however now i want have support oauth all documentation i've found based startup.cs following classpublic partial class startup public void configuration iappbuilder app configureauth app possible just add new class my solution solution continue working have any conflicts global.asax.cs class edit after i added startup.cs class i can't hit break point i added using system using system.collections.generic using system.linq using system.web using microsoft.owin using owin assembly owinstartup typeof mygame.startup namespace mygame public partial class startup public void configuration iappbuilder app configureauth app any idea what going,My Startup.cs would not run until I removed this line on Web.config (in root folder)&lt;add key="owin:AutomaticAppStartup" value="false" /&gt; 
i have 2 questions what difference between jsonresult actionresult when use jsonresult mvc,  JsonResultThis one is a bit more complex but still not very. It also has  hardcoded its ContentType but what makes it a bit more complex is  that it uses a hardcoded JavaScriptSerializer to serialize the JSON  data before writing it directly to the response.this post can be helpfulhttp://brendan.enrick.com/post/types-of-aspnet-mvc-3-action-results.aspx
i'm trying out new asp.net mvc 4 mobile features i made simple app just one controller homecontroller one view index i also added mobile version index view views home index.cshtmlviews home index.mobile.cshtmlwhen launching application desktop browser regular view shown expected however when i launch application opera mobile emulator samsung galaxy s i still get regular view mobile version.the user agent string sent from emulator looks like opera/9.80 windows nt 6.1 opera mobi/23731 u en presto/2.9.201 version/11.50any ideas why working updatethanks nemesv i able solve problem here my current solution hopefully cover most mobile scenarios public class mobiledisplaymode defaultdisplaymode private readonly stringcollection useragenstringpartialidentifiers new stringcollection android mobile opera mobi samsung htc nokia ericsson sonyericsson iphone public mobiledisplaymode base mobile contextcondition context gt ismobile context.getoverriddenuseragent private bool ismobile string useragentstring return useragenstringpartialidentifiers.cast lt string&gt any val gt useragentstring.indexof val stringcomparison.invariantcultureignorecase gt 0 i global.asaxdisplaymodeprovider.instance.modes.insert 0 new mobiledisplaymode,a solution for all mobiles without a need to specify all browser names will be like this...  protected void Application_Start(){AreaRegistration.RegisterAllAreas();WebApiConfig.Register(GlobalConfiguration.Configuration);FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);RouteConfig.RegisterRoutes(RouteTable.Routes);BundleConfig.RegisterBundles(BundleTable.Bundles);AuthConfig.RegisterAuth();DisplayModeProvider.Instance.Modes.Insert(0 new DefaultDisplayMode("Mobile") { ContextCondition = (ctx =&gt; ( (ctx.GetOverriddenUserAgent() != null) &amp;&amp; ctx.Request.Browser.IsMobileDevice )) });  } 
i have filter like one public class customfilterattribute actionfilterattribute iauthorizationfilter public mypropery property get set i need run every actions my projecti tried register globalfilters my property doesn't get injectedi tried solution register my filter doesn't get calledany idea how do,You should now use Pete's solution now to do this. Thanks to him for an updated solution.I finally made it here is how to do it:First create your attribute with a constructor with all dependenciespublic class CustomFilterAttribute : ActionFilterAttribute IAuthorizationFilter{private IProperty _property;public CustomFilterAttribute(IProperty repository){_property = property;}.... }Register everything you need in autofacvar builder = new ContainerBuilder();builder.RegisterControllers(Assembly.GetExecutingAssembly());builder.RegisterType&lt;MyProperty&gt;().As&lt;IProperty&gt;();builder.RegisterType&lt;CustomFilterAttribute&gt;().SingleInstance();builder.RegisterFilterProvider();IContainer container = builder.Build();DependencyResolver.SetResolver(new AutofacDependencyResolver(container));Register your global filter like thatpublic static void RegisterGlobalFilters(GlobalFilterCollection filters){filters.Add(new HandleErrorAttribute());filters.Add(DependencyResolver.Current.GetService&lt;CustomFilterAttribute&gt;());}Make sure in your global.asax you register first Autofac and then the global filters.Now you don't need property injection anymore constructor injection will work fine which is a good thing!
locally my mvc 4 asp.net c app runs fine iis 8 windows 8.when deployed windows server 2008 i get error could load file assembly system.web.mvc version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 fileloadexception could load file assembly system.web.mvc version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 elmah.mvc.bootstrap.initialize 0 invalidoperationexception pre application start initialization method initialize type elmah.mvc.bootstrap threw exception following error message could load file assembly system.web.mvc version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 system.web.compilation.buildmanager.invokeprestartinitmethodscore icollection 1 methods func 1 sethostingenvironmentcultures 12881963 system.web.compilation.buildmanager.invokeprestartinitmethods icollection 1 methods 12881672 system.web.compilation.buildmanager.callprestartinitmethods string prestartinitlistpath 240 system.web.compilation.buildmanager.executepreappstart 152 system.web.hosting.hostingenvironment.initialize applicationmanager appmanager iapplicationhost apphost iconfigmappathfactory configmappathfactory hostingenvironmentparameters hostingparameters policylevel policylevel exception appdomaincreationexception 1151 httpexception 0x80004005 pre application start initialization method initialize type elmah.mvc.bootstrap threw exception following error message could load file assembly system.web.mvc version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies located assembly manifest definition does match assembly reference exception from hresult 0x80131040 system.web.httpruntime.firstrequestinit httpcontext context 12881108 system.web.httpruntime.ensurefirstrequestinit httpcontext context 159 system.web.httpruntime.processrequestnotificationprivate iis7workerrequest wr httpcontext context 12722297this happens i select only files needed run application from items deploy drop down project properties package publish web.if i select all files project works fine.i guess elmah reliant older version mvc something how can i fix without having upload all files whats best way problem solve situations like thanks,Add below code in web.config:&lt;runtime&gt;&lt;assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1"&gt;  &lt;dependentAssembly&gt;&lt;assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" /&gt;&lt;bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.1" /&gt;  &lt;/dependentAssembly&gt;&lt;/assemblyBinding&gt;
i have web api i'm working using mvc 4 web api framework exception i'm currently throwing new httpresponseexception ie int32.tryparse id out userid throw new httpresponseexception request.createerrorresponse httpstatuscode.badrequest invalid id returns object client simply message invalid id i would like gain further control over response exceptions returning more detailed object something like status 1 substatus 3 message could find user how would i go about doing best way serialize my error object set response message i've also looked modelstatedictionary bit have come up bit hack still clean output var msd new modelstatedictionary msd.addmodelerror status 1 msd.addmodelerror substatus 3 msd.addmodelerror message invalid stuff throw new httpresponseexception request.createerrorresponse httpstatuscode.badrequest msd editlooks like custom httperror what i need seems do trick now make extensible from my business layer var error new httperror invalid stuff status 1 substatus 3 throw new httpresponseexception request.createerrorresponse httpstatuscode.badrequest error,Take a look at the following article.  It will help you gain control over your web api exceptions and error messages: Web Api HttpError and the Behavior of Exceptions
i am trying upload file return json response regarding properties name size etc file works fine all browsers except ie.ie tries download json file i have ie10 testing ie7 10 changing browser mode document mode from debugger.i am using asp.net mvc4 file upload action have httppost attribute i am returning json response using return json myobject here my http headersrequestkey valuerequest post file uploadfile http/1.1accept text html application xhtml xml referer http localhost 63903/accept language en nzuser agent mozilla/5.0 compatible msie 9.0 windows nt 6.1 wow64 trident/5.0 content typemultipart form data boundary 7dc1e71330526accept-encoding gzip deflatehostlocalhost 63903content-length 1377002dnt 1connection keep alivecache control cacheresponsekey valueresponsehttp/1.1 200 okserver asp.net development server/11.0.0.0datetue 18 dec 2012 23 44 19 gmtx aspnet-version4.0.30319x-aspnetmvc version 4.0cache-control privatecontent typeapplication json charset utf-8content-length 154connection closei tried few suggestions so far back square one,Even though this question is a few months old I thought I'll add one more suggestion just in case anyone else is using ASP.NET MVC 3 or 4 and runs into this problem. In my experience when IE attempts to download the Json response as a file all you have to do to correct the problem is to add a reference to jquery.unobtrusive to your view.for example:@Scripts.Render("~/Scripts/jquery.unobtrusive-ajax.min.js")Once this is in place IE will no longer try to download the json response from a JsonResult controller action. No need to change the response type etc..
standard maproute method can pass string collection representing namespaces which search my controller seems have disappeared from maphttproute how does one define default namespaces using new api routing,You don't need to set default namespaces with Web API it will search for controllers in all namespaces in the referenced assemblies (public types with name ending by 'Controller' which implement IHttpController).
i'm getting exception json request too large deserialized.it s coming from jsonvalueproviderfactory mvc app currently has custom model binder using json.net which has problem deserializing json data however i'm assuming default json value provider tripping up has some weird limit built may do latest release mvc4 when using previous build mvc4 were problems large amounts json so way change setting s actual json value binder going http haacked.com archive/2011/06/30/whatrsquos difference between value provider model binder.aspxi get impression some custom thing turns dictionary i can't find any source code related any settings i can change alternative valuebinder i could use any other options server error application.the json request too large deserialized.description unhandled exception occurred during execution current web request please review stack trace more information about error where originated code.exception details system.invalidoperationexception json request too large deserialized.source error unhandled exception generated during execution current web request information regarding origin location exception can identified using exception stack trace below.stack trace invalidoperationexception json request too large deserialized system.web.mvc.entrylimiteddictionary.add string key object value 464621 system.web.mvc.jsonvalueproviderfactory.addtobackingstore entrylimiteddictionary backingstore string prefix object value 413 system.web.mvc.jsonvalueproviderfactory.addtobackingstore entrylimiteddictionary backingstore string prefix object value 164 system.web.mvc.jsonvalueproviderfactory.addtobackingstore entrylimiteddictionary backingstore string prefix object value 164 system.web.mvc.jsonvalueproviderfactory.addtobackingstore entrylimiteddictionary backingstore string prefix object value 373 system.web.mvc.jsonvalueproviderfactory.addtobackingstore entrylimiteddictionary backingstore string prefix object value 164 system.web.mvc.jsonvalueproviderfactory.getvalueprovider controllercontext controllercontext 116 systemwebmvc lt gt c displayclassc lt getvalueprovider&gt b 7 valueproviderfactory factory 34 system.linq.whereselectenumerableiterator 2.movenext 151 system.linq.whereselectenumerableiterator 2.movenext 177,The above suggestions didn't work for me until I tried this:// Global.asax.csprotected void Application_Start() {MiniProfiler.Settings.MaxJsonResponseSize = int.MaxValue;}
question already has answer here asp.net method cannot called during application 39 s pre start initialization stage5 answersmy web site initially written mvc 4.0 rc using vs2010 i have just downloaded installed vs2012 upgraded my project dotnet framework 4.5.in my project i'm using custom membershipprovider custom roleprovider vs2010 worked like charm now i'm keeping getting strange configuration error method cannot called during application pre start initialization phase system.web membership providers add line my web.config marked red source problem.i eliminated suspicion problem has something do migration process creating new mvc 4.0 project vs2012 adding my custom membership role providers changing web.config appropriately finding error reappears digging deeper problem i found following information application log exception information exception type invalidoperationexception exception message pre application start initialization method start type webmatrix.webdata.preapplicationstartcode threw exception following error message method cannot called during application pre start initialization phase c users dov.ad documents visual studio 2012 projects mvcapplication2 mvcapplication2 web.config line 52 system.web.compilation.buildmanager.invokeprestartinitmethodscore icollection1 methods func1 sethostingenvironmentcultures system.web.compilation.buildmanager.invokeprestartinitmethods icollection 1 methods system.web.compilation.buildmanager.callprestartinitmethods string prestartinitlistpath system.web.compilation.buildmanager.executepreappstart system.web.hosting.hostingenvironment.initialize applicationmanager appmanager iapplicationhost apphost iconfigmappathfactory configmappathfactory hostingenvironmentparameters hostingparameters policylevel policylevel exception appdomaincreationexception method cannot called during application pre start initialization phase c users dov.ad documents visual studio 2012 projects mvcapplication2 mvcapplication2 web.config line 52 system.web.configuration.configutil.gettype string typename string propertyname configurationelement configelement xmlnode node boolean checkaptcabit boolean ignorecase system.web.configuration.configutil.gettype string typename string propertyname configurationelement configelement boolean checkaptcabit boolean ignorecase system.web.configuration.providershelper.instantiateprovider providersettings providersettings type providertype system.web.configuration.providershelper.instantiateproviders providersettingscollection configproviders providercollection providers type providertype system.web.security.membership.initializesettings boolean initializegeneralsettings runtimeconfig appconfig membershipsection settings system.web.security.membership.initialize system.web.security.membership.get providers webmatrix.webdata.websecurity.preappstartinit webmatrix.webdata.preapplicationstartcode.start method cannot called during application pre start initialization phase.at system.web.compilation.buildmanager.ensuretoplevelfilescompiled system.web.compilation.buildmanager.gettype string typename boolean throwonerror boolean ignorecase system.web.configuration.configutil.gettype string typename string propertyname configurationelement configelement xmlnode node boolean checkaptcabit boolean ignorecase request information request url http localhost 4995 request path user host address 1 user authenticated false authentication type thread account name ad dovthread information thread id 5 thread account name ad dov impersonating false stack trace gt system.web.compilation.buildmanager.invokeprestartinitmethodscore icollection 1methods func1 sethostingenvironmentcultures system.web.compilation.buildmanager.invokeprestartinitmethods icollection1 methods system.web.compilation.buildmanager.callprestartinitmethods string prestartinitlistpath system.web.compilation.buildmanager.executepreappstart system.web.hosting.hostingenvironment.initialize applicationmanager appmanager iapplicationhost apphost iconfigmappathfactory configmappathfactory hostingenvironmentparameters hostingparameters policylevel policylevel exception appdomaincreationexception please helpthank you here web.config lt xml version 1.0 encoding utf-8 gt lt more information how configure your asp.net application please visit http go.microsoft.com fwlink linkid 169433 gt lt configuration&gt lt configsections&gt lt more information entity framework configuration visit http go.microsoft.com fwlink linkid 237468 gt lt section name entityframework type system.data.entity.internal.configfile.entityframeworksection entityframework version 5.0.0.0 culture neutral publickeytoken b77a5c561934e089 requirepermission false gt lt configsections&gt lt connectionstrings&gt lt add name defaultconnection connectionstring data source localdb v11.0 initial catalog aspnet mywebsite-20120820105950 integrated security sspi attachdbfilename datadirectory aspnet mywebsite-20120820105950.mdf providername system.data.sqlclient gt lt add name mywebsitedbcontext providername system.data.sqlclient connectionstring server database mywebsitedb integrated security true gt lt connectionstrings&gt lt appsettings&gt lt add key webpages version value 2.0.0.0 gt lt add key webpages enabled value false gt lt add key preserveloginurl value true gt lt add key clientvalidationenabled value true gt lt add key unobtrusivejavascriptenabled value true gt lt appsettings&gt lt system.web gt lt compilation debug true targetframework 4.5 gt lt httpruntime targetframework 4.5 gt lt authentication mode forms gt lt forms loginurl account login timeout 2880 gt lt authentication&gt lt pages&gt lt namespaces&gt lt add namespace system.web.helpers gt lt add namespace system.web.mvc gt lt add namespace system.web.mvc.ajax gt lt add namespace system.web.mvc.html gt lt add namespace system.web.optimization gt lt add namespace system.web.routing gt lt add namespace system.web.webpages gt lt namespaces&gt lt pages&gt lt profile&gt lt providers&gt lt clear gt lt providers&gt lt profile&gt lt rolemanager defaultprovider mywebsiteroleprovider enabled true gt lt providers&gt lt clear gt lt add name mywebsiteroleprovider type mywebsite.security.mywebsiteroleprovider gt lt providers&gt lt rolemanager&gt lt membership defaultprovider mywebsitemembershipprovider gt lt providers&gt lt clear gt lt add name mywebsitemembershipprovider type mywebsite.security.mywebsitemembershipprovider gt lt providers&gt lt membership&gt lt system.web gt lt system.webserver gt lt validation validateintegratedmodeconfiguration false gt lt handlers&gt lt remove name extensionlessurlhandler isapi-4.0_32bit gt lt remove name extensionlessurlhandler isapi-4.0_64bit gt lt remove name extensionlessurlhandler integrated-4.0 gt lt add name extensionlessurlhandler isapi-4.0_32bit path verb getheadpostdebugputdeletepatchoptions modules isapimodule scriptprocessor windir microsoft.net framework v4.0.30319 aspnet isapi.dll precondition classicmoderuntimeversionv4.0bitness32 responsebufferlimit 0 gt lt add name extensionlessurlhandler isapi-4.0_64bit path verb getheadpostdebugputdeletepatchoptions modules isapimodule scriptprocessor windir microsoft.net framework64 v4.0.30319 aspnet isapi.dll precondition classicmoderuntimeversionv4.0bitness64 responsebufferlimit 0 gt lt add name extensionlessurlhandler integrated-4.0 path verb getheadpostdebugputdeletepatchoptions type system.web.handlers.transferrequesthandler precondition integratedmoderuntimeversionv4.0 gt lt handlers&gt lt system.webserver gt lt runtime&gt lt assemblybinding xmlns urn schemas microsoft com asm.v1 gt lt dependentassembly&gt lt assemblyidentity name system.web.helpers publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.mvc publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-4.0.0.0 newversion 4.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.webpages publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt assemblybinding&gt lt runtime&gt lt entityframework&gt lt defaultconnectionfactory type system.data.entity.infrastructure.localdbconnectionfactory entityframework gt lt parameters&gt lt parameter value v11.0 gt lt parameters&gt lt defaultconnectionfactory&gt lt entityframework&gt lt configuration&gt relevant custom membership i have simplified even though problem still code only validateuser really overridden using system using system.linq using system.web.security using dal.mywebsite namespace mywebsite.security public class mywebsitemembershipprovider membershipprovider lt summary&gt verifies specified user name password exist data source lt summary&gt lt returns&gt true specified username password valid otherwise false lt returns&gt lt param name username gt name user validate lt param&gt lt param name password gt password specified user lt param&gt public override bool validateuser string username string password simplifiedreturn true simplified roleprovider using system using system.linq using system.web.security using dal.mywebsite namespace mywebsite.security public class mywebsiteroleprovider roleprovider readonly mywebsitedbcontext context new mywebsitedbcontext lt summary&gt gets value indicating whether specified user specified role configured applicationname lt summary&gt lt returns&gt true specified user specified role configured applicationname otherwise false lt returns&gt lt param name username gt user name search lt param&gt lt param name rolename gt role search lt param&gt public override bool isuserinrole string username string rolename return true return getrolesforuser username contains rolename lt summary&gt gets list roles specified user configured applicationname lt summary&gt lt returns&gt string array containing names all roles specified user configured applicationname lt returns&gt lt param name username gt user return list roles lt param&gt public override string getrolesforuser string username return new string one two var sm context.salesmanagers.include permissionlevel firstordefault manager gt manager.username username sm null sm.permissionlevel.name sales manager return new salesmanagers sm.permissionlevel.name administrator return new salesmanagers administrators return null,I already solved the problem. I found that when you create MVC 4 project in VS2012 the template adds references to some assemblies among them: webmatrix and Oauth...I just removed those references and the problem disappeared. I do not know to answer how this solved the problem but I saw that the Exception comes from WebMatrix Assembly so for that reason I tried to remove it. Sorry but i have no time to invest in investigation....
i have written site uses asp.net mvc web api everything working nicely until i put staging server site works fine my local machine dev web server both dev staging servers windows server 2008 r2.the problem basically site works some api calls use http put method fail staging returning 404 work fine elsewhere.the first problem i came across fixed request filtering still getting 404.i have turned tracing iis get following problem168 module set response error status modulename iis web core notification 16 httpstatus 404 httpreason found httpsubstatus 0 errorcode 2147942402 configexceptioninfo notification map request handler errorcode system cannot find file specified 0x80070002 configs same dev staging matter fact whole site direct copy.why would gets posts work puts,I resolved this by changing my application pool for the website to Integrated mode when it was previously on Classic mode. 
i am converting object json using javascriptserializer i can see json output server code userid 1 username admin ui getting converted something like below amp quot userid&amp quot 1 amp quot username&amp quot amp quot admin&amp quot how escape those amp quot,Just one more thing on Darin Dimitrov's answer. In my VS2012 there is a compilation error with the semicolon cuz the statement from JS side is actually "var model = ;".A way around using a pair of quotation to wrap the Razor part like this:var model = "@Html.Raw(Json.Encode(Model))";This will not cause any error.Json.Encode() seems to be a wrapper function of JavaScriptSerializer. I'm not sure if the latter is more time efficient.
i'm wondering how insert lt input type date gt datetime attributes my model now razor creates plain input element type datetime i want make use new input types html5,If you want to use @Html.EditorFor() you have to use jQuery ui and update your Asp.net Mvc to 5.2.6.0 with NuGet Package Manager.@Html.EditorFor(m =&gt; m.EntryDate new { htmlAttributes = new { @class = "datepicker" } })@section Scripts {@Scripts.Render("~/bundles/jqueryval")&lt;script&gt;$(document).ready(function(){  $('.datepicker').datepicker(); });&lt;/script&gt;}
i just updated mvc4 project using vs2012 mvc5 after having lot issues related dependencies i finally found tutorial straightened things up so builds without issues however i have intellisense any views cshtml files using model html styles nothing works i must have broken reference razor view engine being able parse them properly i have double checked web.configs cannot see anything any ideas thanks,The tooltip of the "@model" tag at the very top of my razor view file stated that autofac 3.4.0.0 could not be found. All my projects used Autofac 3.1.5 so I added a redirect in web.config to quickly work around the issue:&lt;runtime&gt;&lt;assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1"&gt;&lt;dependentAssembly&gt;&lt;assemblyIdentity name="Autofac" publicKeyToken="17863af14b0044da" culture="neutral" /&gt;&lt;bindingRedirect oldVersion="0.0.0.0-3.4.0.0" newVersion="3.1.5" /&gt;&lt;/dependentAssembly&gt;...My intellisense was back and I then deferred the final fix to a low prio task :D
so i'm trying pass parameter javascript function using razor notation mvc-4 view i'm getting syntax error unterminated string constant another way i should writing foreach var item model lt input type button value assign onclick assignbuttonclicked item.id gt i've used same syntax answer https stackoverflow.com a/5179316/1662619edit just syntax error functionality still works,To avoid this kind of issue you may build all your js function call in c# code section.Instead of:&lt;input type="button" value="Assign" onclick="AssignButtonClicked('@item.ID')" /&gt;Use:@{  var assignFunctionCall = "AssignButtonClicked(" + item.ID + ")";}&lt;input type="button" value="Assign" onclick="@assignFunctionCall " /&gt;
i've seen question come up few places seen any great answers i've had do myself few times i thought i'd post my solution you have anything better please postnb using asp.net mvc 4 beta 2 version web api future versions may change update still works asp.net mvc 4 rc,I also found this answer because i have my custom handler and i want to test it We are using NUnit and Moq so i think my solution can be helpful for someoneusing Moq;using Moq.Protected;using NUnit.Framework;namespace Unit.Tests{[TestFixture]public sealed class Tests1{private HttpClient _client;private HttpRequestMessage _httpRequest;private Mock&lt;DelegatingHandler&gt; _testHandler;private MyCustomHandler _subject;//MyCustomHandler inherits DelegatingHandler[SetUp]public void Setup(){_httpRequest = new HttpRequestMessage(HttpMethod.Get "/someurl");_testHandler = new Mock&lt;DelegatingHandler&gt;();_subject = new MyCustomHandler // create subject{InnerHandler = _testHandler.Object //initialize InnerHandler with our mock};_client = new HttpClient(_subject){BaseAddress = new Uri("http://localhost")};}[Test]public async Task Given_1(){var mockedResult = new HttpResponseMessage(HttpStatusCode.Accepted);void AssertThatRequestCorrect(HttpRequestMessage request CancellationToken token){Assert.That(request Is.SameAs(_httpRequest));//... Other asserts}// setup protected SendAsync // our MyCustomHandler will call SendAsync internally and we want to check this call_testHandler.Protected().Setup&lt;Task&lt;HttpResponseMessage&gt;&gt;("SendAsync" _httpRequest ItExpr.IsAny&lt;CancellationToken&gt;()).Callback((Action&lt;HttpRequestMessage CancellationToken&gt;)AssertThatRequestCorrect).ReturnsAsync(mockedResult);//Actvar actualResponse = await _client.SendAsync(_httpRequest);//check that internal call to SendAsync was only Once and with proper request object_testHandler.Protected().Verify("SendAsync" Times.Once() _httpRequest ItExpr.IsAny&lt;CancellationToken&gt;());// if our custom handler modifies somehow our response we can check it hereAssert.That(actualResponse.IsSuccessStatusCode Is.True);Assert.That(actualResponse Is.EqualTo(mockedResult));//...Other asserts}}} 
mvc4 we had simple membership my opinion simple membership good identity model tried tested good documentation didn't need fixed simply needed upgrade terms email verification password reset all other stuff we normally have deal when building app however new asp.net identity model seems achieve something sorts vista achieved over xp i mean aspnetuserclaims aspnetlogins could have been bunched together useraliases microsoft should have provided some methods email part my babble having just discussed my opinion based first looks which might deceiving my question isi am trying decide whether i should move from simple membership new asp.net identity since documentation tests asp.net identity model sparse conflicting hard locate using google so can someone experience both please summarize pros cons,As for me they are all quite far from being perfect. Check these out: The good the bad and the ugly of ASP.NET Identity Think twice about using MembershipProvider (andSimpleMembership).So I prefer to use MembershipReboot.EDIT: (May 2018). Brock Allen of MembershipReboot has the following to say on the Project site.  As of 2017 MembershipReboot will no longer be maintained. It has  served its purpose and ASP.NET Identity has finally caught up (and  surpassed) this library in terms of security and functionality. If you  are interested in taking over maintenance let me know.
off lately i saw mvc 4 has included bundling minification several scripts css single link which minifies decreases script load time single configuration require.js r.js also optimization tool available script loading minification can someone tell me which better require.js can used same minification bundling tool load script single file like same mvc 4 i prefer use require.js amd loading so thinking apply concepts mvc 4 minification idea its available require.js single url loading scripts css optimization minification can someone put some ideas lights topic,In my particular case (and many others that I have met previously) there is not much sense in performing additional server-load with separate request just for the purpose of loading 1-3kb script or style file.As mentioned such request uses server resources which are usually limitedIt takes time to load 50-200ms guaranteed lagThe more files you have the more the probability that one of them will fail loading due to connection issueThere is also an overhead with amount of boilerplate code required for wrapping everything into modulesIt looks much more efficient and safe to load even huge 5mb (which is unreal) bundled script once and having it loaded later from cache. By using GZip you will squeeze your 5 mb of text into 200kb of binary data which is far more less than the amount of graphical content an average site uses per request.
can we have single razor view both create edit operations yes how do we achieve,[HttpGet] public ActionResult myFun(int id = 0){MyClass cls = new MyClass();if (id == 0){//Insert mode ... no data will be shown to textboxes  when primary key ie. id=0   //Display whole data}else{//Update mode... if id is not 0 data will be shown to textboxes}return View(cls);}
i wondering possible return bad request content from mvc controller only way i have been able do throw httpexception however here i can't set any content tried approach some odd reason i am always getting ok back possible do public class somecontroller controller httppost public async task&lt httpresponsemessage&gt foo var response new httpresponsemessage httpstatuscode.badrequest response.content new stringcontent naughty return response,You can pass in error message to the second parameter like so:return new HttpResponseMessage(HttpStatusCode.BadRequest "Your message here");
i have class called user property namepublic class user required public string name get set i want validate any errors add controller modelstate instantiate another modelstate httppost public actionresult newuser userviewmodel uservm user u new user u.name null something assume uservm valid i want following false because user.name nullif modelstate.isvalid tempdata newusercreated new user created sucessfully return redirecttoaction index return view attributes works userviewmodel i want know how validate class without posting action.how can i accomplish,I made an entry in the Stack Overflow Documentation explaining how to do this: Validation ContextAny validation needs a context to give some information about what is being validated. This can include various information such as the object to be validated some properties the name to display in the error message etc.ValidationContext vc = new ValidationContext(objectToValidate); // The simplest form of validation context. It contains only a reference to the object being validated.Once the context is created there are multiple ways of doing validation.Validate an Object and All of its PropertiesICollection&lt;ValidationResult&gt; results = new List&lt;ValidationResult&gt;(); // Will contain the results of the validationbool isValid = Validator.TryValidateObject(objectToValidate vc results true); // Validates the object and its properties using the previously created context.// The variable isValid will be true if everything is valid// The results variable contains the results of the validationValidate a Property of an ObjectICollection&lt;ValidationResult&gt; results = new List&lt;ValidationResult&gt;(); // Will contain the results of the validationbool isValid = Validator.TryValidatePropery(objectToValidate.PropertyToValidate vc results true); // Validates the property using the previously created context.// The variable isValid will be true if everything is valid// The results variable contains the results of the validationAnd MoreTo learn more about manual validation see:ValidationContext Class DocumentationValidator Class Documentation
i am using mysql net connector 6.4.4.0 entity frame work 4.1 trying create most basic code first implementations.public class mydb dbcontext public dbset&lt vote&gt votes get set my modelpublic class vote public guid id get set public int value get set my home controllerpublic class homecontroller controller mydb db new mydb public actionresult index var model db.votes return view model my strongly typed view using list scaffold model ienumerable&lt namespace.models.vote gt viewbag.title index lt h2 gt index&lt h2 gt lt p&gt html.actionlink create new create lt p&gt lt table&gt lt tr&gt lt th&gt html.displaynamefor model gt model.value lt th&gt lt th&gt lt th&gt lt tr&gt foreach var item model lt tr&gt lt td&gt html.displayfor modelitem gt item.value lt td&gt lt td&gt html.actionlink edit edit new id item.id html.actionlink details details new id item.id html.actionlink delete delete new id item.id lt td&gt lt tr&gt lt table&gt creates table votes mysql all right properties.however throws line foreach var item model exception table mydb.vote doesn't exist edit clarify i actually want table pluralization seems properly create table i'm hoping discover reason singular plural discrepancy none tutorials videos from microsoft plural sight scott gu handle using mysql so i have imagine netconnector might culprit i would also like avoid using table votes attributes basically i'm hoping much out box solution possible.edit2 some more relevant code when i remove tables fail create all together.but view throws exception looking votes vote within global.asaxprotected void application start database.setinitializer new dropcreatedatabasealways&lt mydb&gt arearegistration.registerallareas registerglobalfilters globalfilters.filters registerroutes routetable.routes public class mydbinitializer dropcreatedatabasealways&lt mydb&gt protected override void seed mydbcontext base.seed context,If you're using Code First with EF 6.1 + override the OnModelCreating event handler and make the following call(s):dmbCloud.Conventions.Remove&lt;PluralizingEntitySetNameConvention&gt;();dmbCloud.Conventions.Remove&lt;PluralizingTableNameConvention&gt;();
i'm working project mvc asp.net 4 html5 default browser google chrome v29.0.1547.57 i can interact tools take photographs only front camera how i could enable rear camera characteristic tablet samsung galaxy tab 2i hope you can help me,Last time i developped that code soo here is the version which i use : you call directly the function whichCamera in your code and you specefic which camera "user""environment" or "computer"'if you are runing in a computer) `//----------------------------------------------------------------------//  whichCamera(Type)//For smartphone or tablet :// Start the type={userenvironment} camera.//For computer it's simple ://  type = "computer".//----------------------------------------------------------------------var streamSrc cameraType;function whichCamera(type){  var cameraFacing;  cameraType = type;  if( type == "user")cameraFacing = 0;  else if( type == "environment")cameraFacing = 1;  else if( type == "computer"){cameraFacing = 2;  }  console.log(type+" index : "+cameraFacing);  //  Here we list all media devices in order to choose between  //  the front and the rear camera.  //  videoDevices[0] : user Camera  //  videoDevices[1] : environment Camera  //  Then set the video resolution.  navigator.mediaDevices.enumerateDevices()  .then(devices =&gt; {var videoDevices videoDeviceIndex constraints;//  Initialize the array wich will contain all video resources IDs.//  Most of devices have two video resources (Front &amp; Rear Camera).videoDevices = [00];//  Simple index to browse the videa resources array (videoDevices).videoDeviceIndex = 0;//  devices.forEach() this function will detect all media resources (Audio Video) of the device//  where we run the application.devices.forEach(function(device) {  console.log(device.kind + ": " + device.label +" id = " + device.deviceId);  // If the kind of the media resource is video  if (device.kind == "videoinput") {//  then we save it on the array videoDevices.videoDevices[videoDeviceIndex++] =  device.deviceId;console.log(device.deviceId+" = "+videoDevices[videoDeviceIndex-1]);  }});console.log("Camera facing ="+cameraFacing+" ID = "+videoDevices[videoDeviceIndex-1]);// Here we specified which camera we start//  videoDevices[0] : Front Camera//  videoDevices[1] : Back Cameraif( cameraFacing != "computer"){  constraints = { deviceId: { exact: videoDevices[cameraFacing]  }};  return navigator.mediaDevices.getUserMedia({ video:  constraints  width: { min: 1280 ideal: 1600 max: 1920 }  height: { min: 720 ideal: 1200 max: 1080 }  });}else  return navigator.mediaDevices.getUserMedia({ video: true });})//  Then we retrieve the link to the video stream..then(stream =&gt; {  if (window.webkitURL) {video.src = window.webkitURL.createObjectURL(stream);localMediaStream = stream;console.log(localMediaStream +" = "+ stream)  } else if (video.mozSrcObject !== undefined) {video.mozSrcObject = stream;console.log(video.mozSrcObject +" = "+ stream)  } else if (video.srcObject !== undefined) {video.srcObject = stream;console.log(video.srcObject +" = "+ stream)  } else {video.src = stream;console.log(video.src +" = "+ stream)  }  streamSrc = stream;}).catch(e =&gt; console.error(e));}
i have two fields my model required errormessage start date required display name start date displayformat dataformatstring 0d public datetime startdate get set required errormessage end date required display name end date displayformat dataformatstring 0d public datetime enddate get set i require enddate must greater than startdate i tried using compare startdate only works equal operation.what should i use greater than operation,Borrowing heavily from the responses from Alexander Gore and Jaime Marín in a related StackOverflow question1 I created five classes that enable comparing two fields in the same model using GT GE EQ LE and LT operators provided they implement IComparable. So it can be used for pairs of dates times integers and strings for example.It would be nice to merge these all into one class and take the operator as an argument but I don't know how. I left the three exceptions as is because if thrown they really represent a form design problem not a user input problem.You just use it in your model like this and the file with the five classes follows:[Required(ErrorMessage = "Start date is required.")]public DateTime CalendarStartDate { get; set; }[Required(ErrorMessage = "End date is required.")][AttributeGreaterThanOrEqual("CalendarStartDate" ErrorMessage = "The Calendar end date must be on or after the Calendar start date.")]public DateTime CalendarEndDate { get; set; }using System;using System.ComponentModel.DataAnnotations;//Contains GT GE EQ LE and LT validations for types that implement IComparable interface.//https://stackoverflow.com/questions/41900485/custom-validation-attributes-comparing-two-properties-in-the-same-modelnamespace DateComparisons.Validations{[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Parameter)]public class AttributeGreaterThan : ValidationAttribute{private readonly string _comparisonProperty;public AttributeGreaterThan(string comparisonProperty){_comparisonProperty = comparisonProperty;}protected override ValidationResult IsValid(object value ValidationContext validationContext){if(value==null) return new ValidationResult("Invalid entry");ErrorMessage = ErrorMessageString;if (value.GetType() == typeof(IComparable)) throw new ArgumentException("value has not implemented IComparable interface");var currentValue = (IComparable)value;var property = validationContext.ObjectType.GetProperty(_comparisonProperty);if (property == null) throw new ArgumentException("Comparison property with this name not found");var comparisonValue = property.GetValue(validationContext.ObjectInstance);if(!ReferenceEquals(value.GetType() comparisonValue.GetType()))throw new ArgumentException("The types of the fields to compare are not the same.");return currentValue.CompareTo((IComparable)comparisonValue) &gt; 0 ? ValidationResult.Success : new ValidationResult(ErrorMessage);}}[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Parameter)]public class AttributeGreaterThanOrEqual : ValidationAttribute{private readonly string _comparisonProperty;public AttributeGreaterThanOrEqual(string comparisonProperty) { _comparisonProperty = comparisonProperty; }protected override ValidationResult IsValid(object value ValidationContext validationContext){if (value == null) return new ValidationResult("Invalid entry");ErrorMessage = ErrorMessageString;if (value.GetType() == typeof(IComparable)) throw new ArgumentException("value has not implemented IComparable interface");var currentValue = (IComparable)value;var property = validationContext.ObjectType.GetProperty(_comparisonProperty);if (property == null) throw new ArgumentException("Comparison property with this name not found");var comparisonValue = property.GetValue(validationContext.ObjectInstance);if (!ReferenceEquals(value.GetType() comparisonValue.GetType()))throw new ArgumentException("The types of the fields to compare are not the same.");return currentValue.CompareTo((IComparable)comparisonValue) &gt;= 0 ? ValidationResult.Success : new ValidationResult(ErrorMessage);}}[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Parameter)]public class AttributeEqual : ValidationAttribute{private readonly string _comparisonProperty;public AttributeEqual(string comparisonProperty) { _comparisonProperty = comparisonProperty; }protected override ValidationResult IsValid(object value ValidationContext validationContext){if (value == null) return new ValidationResult("Invalid entry");ErrorMessage = ErrorMessageString;if (value.GetType() == typeof(IComparable)) throw new ArgumentException("value has not implemented IComparable interface");var currentValue = (IComparable)value;var property = validationContext.ObjectType.GetProperty(_comparisonProperty);if (property == null) throw new ArgumentException("Comparison property with this name not found");var comparisonValue = property.GetValue(validationContext.ObjectInstance);if (!ReferenceEquals(value.GetType() comparisonValue.GetType()))throw new ArgumentException("The types of the fields to compare are not the same.");return currentValue.CompareTo((IComparable)comparisonValue) == 0 ? ValidationResult.Success : new ValidationResult(ErrorMessage);}}[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Parameter)]public class AttributeLessThanOrEqual : ValidationAttribute{private readonly string _comparisonProperty;public AttributeLessThanOrEqual(string comparisonProperty) { _comparisonProperty = comparisonProperty; }protected override ValidationResult IsValid(object value ValidationContext validationContext){if (value == null) return new ValidationResult("Invalid entry");ErrorMessage = ErrorMessageString;if (value.GetType() == typeof(IComparable)) throw new ArgumentException("value has not implemented IComparable interface");var currentValue = (IComparable)value;var property = validationContext.ObjectType.GetProperty(_comparisonProperty);if (property == null) throw new ArgumentException("Comparison property with this name not found");var comparisonValue = property.GetValue(validationContext.ObjectInstance);if (!ReferenceEquals(value.GetType() comparisonValue.GetType()))throw new ArgumentException("The types of the fields to compare are not the same.");return currentValue.CompareTo((IComparable)comparisonValue) &lt;= 0 ? ValidationResult.Success : new ValidationResult(ErrorMessage);}}[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Parameter)]public class AttributeLessThan : ValidationAttribute{private readonly string _comparisonProperty;public AttributeLessThan(string comparisonProperty) { _comparisonProperty = comparisonProperty; }protected override ValidationResult IsValid(object value ValidationContext validationContext){if (value == null) return new ValidationResult("Invalid entry");ErrorMessage = ErrorMessageString;if (value.GetType() == typeof(IComparable)) throw new ArgumentException("value has not implemented IComparable interface");var currentValue = (IComparable)value;var property = validationContext.ObjectType.GetProperty(_comparisonProperty);if (property == null) throw new ArgumentException("Comparison property with this name not found");var comparisonValue = property.GetValue(validationContext.ObjectInstance);if (!ReferenceEquals(value.GetType() comparisonValue.GetType()))throw new ArgumentException("The types of the fields to compare are not the same.");return currentValue.CompareTo((IComparable)comparisonValue) &lt; 0 ? ValidationResult.Success : new ValidationResult(ErrorMessage);}}}
i have installed vs2012 11.0.50727.1 i opened new mvc4 net 4.5 solution i create simple homecontroller i've wanted start locally i have received very strange error how can resolve what error why happens thank you advance any your help.server error application.entry point found.description unhandled exception occurred during execution current web request please review stack trace more information about error where originated code.exception details system.entrypointnotfoundexception entry point found.source error unhandled exception generated during execution current web request information regarding origin location exception can identified using exception stack trace below.stack trace entrypointnotfoundexception entry point found system.web.mvc.idependencyresolver.getservice type servicetype 0 system.web.mvc.dependencyresolverextensions.getservice idependencyresolver resolver 56 system.web.mvc.singleserviceresolver 1.getvaluefromresolver 44 system.lazy 1.createvalue 180 system.runtime.exceptionservices.exceptiondispatchinfo.throw 22 system.lazy 1.get value 10749357 system.web.mvc.singleserviceresolver 1.get current 15 system.web.mvc.mvcroutehandler.getsessionstatebehavior requestcontext requestcontext 121 system.web.mvc.mvcroutehandler.gethttphandler requestcontext requestcontext 33 system.web.mvc.mvcroutehandler.system.web.routing.iroutehandler.gethttphandler requestcontext requestcontext 10 system.web.routing.urlroutingmodule.postresolverequestcache httpcontextbase context 9709656 system.web.routing.urlroutingmodule.onapplicationpostresolverequestcache object sender eventargs e 82 system.web.synceventexecutionstep.system.web.httpapplication.iexecutionstep.execute 136 system.web.httpapplication.executestep iexecutionstep step boolean&amp completedsynchronously 69version information microsoft net framework version 4.0.30319 asp.net version 4.0.30319.17929,Just update "System.Web.Mvc"  with "nuget"
i created mvc application have 3 different area admin user news my routeconfig.cs file app start directory public class routeconfig public static void registerroutes routecollection routes routes.ignoreroute resource axd pathinfo routes.maproute name default url controller action id defaults new controller home action index id urlparameter.optional namespaces new testmvcapplication.controllers my adminarearegisteration.cs file namespace testmvcapplication.areas.admin public class adminarearegistration arearegistration public override string areaname get return admin public override void registerarea arearegistrationcontext context context.maproute admin default admin controller action id new controller home action index id urlparameter.optional namespaces new testmvcapplication.areas.admin.controllers finally my global.asax.cs file content namespace testmvcapplication note instructions enabling iis6 iis7 classic mode visit http go.microsoft.com linkid 9394801public class mvcapplication system.web.httpapplication protected void application start arearegistration.registerallareas webapiconfig.register globalconfiguration.configuration filterconfig.registerglobalfilters globalfilters.filters routeconfig.registerroutes routetable.routes bundleconfig.registerbundles bundletable.bundles authconfig.registerauth home page my website fully loaded works homepage admin other areas detect route i gave error message server error application.the resource cannot found.description http 404 resource you looking one its dependencies could have been removed had its name changed temporarily unavailable please review following url make sure spelled correctly.requested url admin homehow can i solve problem thanks,Just create a static class name it AreaConfig with a static method RegisterAreas() here code:public static class AreaConfig{public static void RegisterAreas(){// // Admin area . . .var adminArea = new AdminAreaRegistration();var adminAreaContext = new AreaRegistrationContext(adminArea.AreaName RouteTable.Routes);adminArea.RegisterArea(adminAreaContext);// // Default area . . .var defaultArea = new DefaultAreaRegistration();var defaultAreaContext = new AreaRegistrationContext(defaultArea.AreaName RouteTable.Routes);defaultArea.RegisterArea(defaultAreaContext);}}then call it in a Global.asax.cs file like this:protected void Application_Start(){. . .AreaConfig.RegisterAreas();. . .}
please bear my noobness i'm super new mvc pattern.what i'm trying doi am building profile information page registered users my site page would list data about user date birth telephone number subscription status etc you get idea i would also like have form let users change password email address personal information same page.my problemthe user data comes from my controller via passed model variable public actionresult profil var model db.users.first e gt e.username websecurity.currentusername return view model output looks like my view lt label&gt phone number lt label&gt model.phonenumber null model.phonenumber else lt span class red gt you haven't set up your phone number yet lt span&gt form which user could change his info would use another model profilemodel so basiccaly i need use two models my view one outputting information one posting data i thought using partial view i can achieve i get error model item passed dictionary type applicense.models.user dictionary requires model item type applicense.models.profilemodel here what my call partial view looks like using html.beginform html.antiforgerytoken html.validationsummary html.partial modifyprofileinfo here partial view model applicense.models.profilemodel lt ul&gt lt li&gt html.labelfor m gt m.email html.editorfor m gt m.email lt li&gt lt li&gt html.labelfor m gt m.confirmemail html.editorfor m gt m.confirmemail lt li&gt lt input type submit value update e mail gt lt ul&gt finally here my profilemodel public class profilemodel required datatype datatype.emailaddress display name new e mail address public string email get set datatype datatype.emailaddress display name confirm new e mail address compare email errormessage e mail confirmation field do match public string confirmemail get set am i missing something what proper way do edit i remade my code reflecting nikola mitev answer now i have another problem here error i get object reference set instance object model.userobject.lastname only occurs when i'm posting changed e mail address values here my viewmodel profilemodel.cs public class profilemodel public user userobject get set required datatype datatype.emailaddress display name új e mail cím public string email get set datatype datatype.emailaddress display name új e mail cím megerősítése compare email errormessage két e mail cím nem egyezik public string confirmemail get set datatype datatype.emailaddress display name e mail cím public string referemail get set controller public actionresult profil var user db.users.first e gt e.username websecurity.currentusername var profileviewmodel new profilemodel userobject user return view profileviewmodel finally here my user.cs model class table userprofile public class user key databasegeneratedattribute databasegeneratedoption.identity public int userid get set column username public string username get set column email required public string email get set column firstname public string firstname get set column lastname public string lastname get set column phonenumber public string phonenumber get set you get idea rest i'm thinking happening because model trying put data each required columns database.edit2 httppost method my profil action httppost authorize validateantiforgerytoken public actionresult profil profilemodel model modelstate.isvalid insert databasereturn content everything good else outputs form errorsreturn view model,While I know this question has been asked longtime ago however some people might still face a similar problem. One easy solution I use to pass or have more than one view model on a page is to use a ViewBag to hold the second object and refer to it in the view. See example bellow.In your controller do this:Obj2 personalDets = new Obj2();DbContext ctx = new DbContext();var details = ctx.GetPersonalInformation;foreach(var item in details) {personalDets.Password = item.Password;personalDets .EmailAddress = item.EmailAddress; }ViewBag.PersonalInformation = personalDets;Then in your view those properties become readily available for you
i cloned project vs 2013 when i run i get error.error 1 ensurebindingredirects task could loaded from assembly d bmaster packages microsoft.bcl.build.1.0.13 tools microsoftbclbuildtasksdll could load file assembly file d bmaster packages microsoft.bcl.build.1.0.13 tools microsoft.bcl.build.tasks.dll one its dependencies system cannot find file specified confirm lt usingtask&gt declaration correct assembly all its dependencies available task contains public class implements microsoftbuildframeworkitask bargainmaster.web,The above answer didn't work for me. I just had to remove references (in packages and proj file) to Microsoft.Bcl.Build.. Rebuilt and succeeded.
i want bootstrap my mvc 4 application am sure which ones i want need descriptions pretty vague i'm having trouble finding nice breakdown what each versions mean.what main differences similarities which one should i choose,I've been working on an MVC 4 web app that had jQuery 1.8.2. The Nuget package manager seemed to handle all the dependencies when I installed Bootstrap 3.3.1. However it only upgraded my app to jQuery 1.9.0 instead of the jQuery 1.9.1 that it required. So I would say that if you just install the version that shows up at the top of the list like I did (Bootstrap 3.3.1) you need to end up with jQuery 1.9.1 or higher. My solution was to run "Install-Package jQuery -Version 1.9.1" in the Package Manager Console of Visual Studio. I was using Visual Studio 2013. By the way in the Manage Nuget Packages window of Visual Studio the information for Bootstrap 3.3.1 said "Dependencies: jQuery (>= 1.9.0)!
i have asp.net mvc 4 web site includes web api site developed tested visual studio 2012 net 4.5 windows 8 iis express web server development environment everything works.now deployed windows 2008 r2 sp1 server iis 75 net 4.0 4.5 installed application pool running net 4.0 integrated pipeline mode.in production environment mvc web site works web api does every request matter get post i get 404 error i just enter web api url browser ie 9 opened locally server run get request i get 404 page i issue post request from web api client application i get 404 well message http resource found matches request urii've created test website mvc 4 web api well deployed same server web api works web api mvc assemblies have same version number both projects.furthermore i have added web api route debugger application i use valid route like http myserver api order/12 i get following result me means correct route template api controller id has been found correctly parsed controller order id 12 controller derived from apicontroller exists web assembly where also all mvc controllers are.however i don't know what status 000 could mean why route selecting section displayed which normally case even assembly doesn't contain single apicontroller see screenshots linked page above somehow looks like apicontroller found even searched search fails silently.the iis log files don't show anything useful changing various application pool settings using same app pool test real application didn't help.i am currently process remove features configuration settings third party assemblies etc from application bring down small size test application end hoping some point starts work.does somebody have clue what issue could also any debugging logging idea possibly find reason very welcome.editthanks darrel miller tip comments below i have integrated tracing asp.net web api.for get request url http myserver api order/12 i get following development environment successful short form message http localhost 50020/api order/12 category system.web.http.requestcontroller selection instantiation operator defaulthttpcontrollerselector operation selectcontroller message route controller orderid 12 category system.web.http.controllersoperator defaulthttpcontrollerselector operation selectcontroller message order category system.web.http.controllersoperator httpcontrollerdescriptor operation createcontroller message category system.web.http.controllersoperator defaulthttpcontrolleractivator operation create message category system.web.http.controllersoperator defaulthttpcontrolleractivator operation create message myapplication.apicontrollers.ordercontroller category system.web.http.controllersaction selection parameter binding action invocation follows content negotiation formatting result operator defaultcontentnegotiator operation negotiate message typ string moredisposing controller operator ordercontroller operation dispose message category system.web.http.controllersin production environment successful short form message http myserver api order/12 category system.web.http.requestoperator defaulthttpcontrollerselector operation selectcontroller message route controller orderid 12 category system.web.http.controllersthe whole part controller activation action selection parameter binding action invocation missing follows content negotiation formatting error message immediately operator defaultcontentnegotiator operation negotiate message type httperror more,I had the same issue in a remote server but when I execute on a localhost works fine.My solution was:&lt;system.webServer&gt;&lt;modules&gt;&lt;remove name="UrlRoutingModule-4.0" /&gt;&lt;add name="UrlRoutingModule-4.0" type="System.Web.Routing.UrlRoutingModule" preCondition="" /&gt; &lt;/modules&gt;&lt;/system.webServer&gt;I hope that this works for you.
currently link customer businessunit representativedetails representativeid cd3a7263-78f7-41bd-9eb0-12b30bc1059ai have following code view@html.actionlink back list index which takes me linkcustomer businessunit indexbut rather going index page i want go previous page when actionlink clicked which iscustomer businessunit businessunitdetails/c4a86253-a287-441e-b83d-71fbb6a588bchow do i create actionlink directs me previous page something like html.actionlink back details go previous page,This is quite a bit after the fact but I thought I'd contribute. Personally I would tag my markup elements with a CSS class so I could just reuse the tag and be done with it.Markup:&lt;a href="" class="go_back"&gt; Back &lt;/a&gt;Script: &lt;script type="text/javascript"&gt;$(function () {$('.go_back').click(function (e) {e.preventDefault();history.go(-1);});});&lt;/script&gt;
i have boolean field my model mvc 4 entity framework 4.5i want display field my viewi use call@item.istruebut i got true falsei want get yes when true when false what should i do please,There is a solution similar to @Lucas Niewohner's taken from Scott on Writing .NET.Create a DisplayTemplate called YesNo.cshtml:@model bool@if (Model){@Html.Raw("Yes")}else{@Html.Raw("No")}Then decorate the ViewModel with UIHint to wire it up:public class foo{...[UIHint="YesNo"]public bool SomeBooleanValue { get; set; }...}Now you can use your MVC helpers as usual:...@Html.DisplayFor (x=&gt; x.SomeBooleanValue)...You can take it one step further to create an EditorTemplate YesNo.cshtml as well:@model bool@Html.DropDownList("" new SelectListItem[] { new SelectListItem() { Text = "Yes" Value = "true" Selected = Model } new SelectListItem() { Text = "No" Value = "false" Selected = !Model }})This approach is particularly helpful if you want to use the ViewModel in several places with a consistent implementation since you only have to associate the template in one place.
i can't seem figure out how send back entire viewmodel controller validate save function.here my controller httppost public actionresult send bitcointransactionviewmodel transaction here form view lt li class check gt lt h3 gt transaction id&lt h3 gt lt p&gt html.displayfor m gt m.transaction.transactionid lt p&gt lt li&gt lt li class money gt lt h3 gt deposited amount&lt h3 gt lt p&gt model.transaction.amount.tostring btc&lt p&gt lt li&gt lt li class time gt lt h3 gt time&lt h3 gt lt p&gt model.transaction.time.tostring lt p&gt lt li&gt using html.beginform send depositdetails formmethod.post new transaction model html.hiddenfor m gt m.token html.hiddenfor m gt m.transaction.transactionid html.textboxfor m gt m.walletaddress new placeholder wallet address maxlength 34 lt input type submit value send gt html.validationmessage walletaddress new class validation when i click submit conroller contains correct value walletaddress field transaction.transaction.time transaction.transaction.location transaction.transaction.transactionid empty.is way i could pass entire model back controller edit when i dont even receive walletaddress controller everything gets nulled when i remove line alone html.hiddenfor m gt m.transaction.transactionid works i get token property controller when i add back all properties transaction object controller null.here bitcointransactionviewmodel public class bitcointransactionviewmodel public string token get set public string walletaddress get set public bitcointransaction transaction get set public class bitcointransaction public int id get set public bitcointransactionstatustypes status get set public int transactionid get set public decimal amount get set public datetime time get set public string location get set any ideas edit i figured out its marked answer below,The action name to which the data will be posted should be same as the name of the action from which the data is being posted. The only difference should be that the second action where the data is bein posted should have [HttpPost] and the Posting method should serve only Get requests. 
i am trying call json.encode method mvc 4 i'm getting error name json does exist current context.i ve tried adding system.runtime.serialization namespace which has json class particular instance json class doesn't have encode method.what assembly am i missing here here my exact code url url.action deletedefinitionrule editdata companycode lo definitionid html.raw json.encode model.definitionid,Apparently if you create a new empty web project and try and move everything into Areas it removes the Helpers library.  But if you create it as an internet project they remain.  I created a new project as an internet project and everything works now.
does webapi support soap i'm trying write soap server mvc4 whilst i can do wcf seems webapi replacing i see ways utilize soap yet just json xml using rest style interface,It is not like Wed API supports SOAP but due to SOAP is just a standard that uses XML and it travels throw HTTP you can use Web API to expose a POST Service to read the XML and find the nodes you need using XPath and then Deserialize the nodes to objects.First you need to add XML support to the ConfigureServicespublic void ConfigureServices(IServiceCollection services){services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1).AddXmlSerializerFormatters();}Then in your controller you just need to add a method that receives an XMLDocument and with XPath search for the node you are interested (Basically removing the soap envelope the header the body) and then you can deserialize the object.In my case I add the service reference using the WSDL and with that I deserialize the object.[HttpPost("reservationxml")]public void CreateReservationFromTSW(XmlDocument soapCreateReservationRq){XmlNamespaceManager nsmgr = new XmlNamespaceManager(soapCreateReservationRq.NameTable);nsmgr.AddNamespace("r" "http://soa.company.com/ReservationEnt");nsmgr.AddNamespace("s" "http://www.w3.org/2003/05/soap-envelope");XmlNodeList xmlNodeList = soapCreateReservationRq.SelectNodes("s:Envelope/s:Body/r:CreateReservationRq"nsmgr);XmlNode xmlnode = xmlNodeList[0];XmlSerializer serial = new XmlSerializer(typeof(ServiceReference1.CreateReservationRqType));ServiceReference1.CreateReservationRqType rq = (ServiceReference1.CreateReservationRqType)serial.Deserialize(new XmlNodeReader(xmlnode));}As you can see in the next image the service that tries to consume your service uses a Request Method POST with the Accept-Encoding: gzip. That is why you can expose a Web API that can be consumed for a SOAP service.
can you please explain detail use app start folder mvc4 i see folder actually available previous versions mvc 5 files folder authconfigbundleconfigfilterconfigrouteconfigwebapiconfig,All those settings are registered within the App_Start method of Global.asax.cs fileBundleConfig.cs:This is used to create and register bundles for CS and JS files that we have in the template.FilterConfig.cs-This is used to create and register global MVC filter error filterRouteConfig.cs-This is used to register various route patterns for your Asp.Net MVC application. WebApiConfig.cs-This is used to register various WEB API routes like want login with credentials from an external provider such as Facebook Twitter Microsoft or Google
just upgraded entity framework 6 take look i'm using mvc4.but i recieve message when trying make controller from model context mvc scaffolding does support entity framework 6 later,Workaround which worked for me to scaffold controllers and views for MVC 4 and EF 6:Use an EXISTING OR NEW MVC 5 Project and copy the Entity Data Modelfor which you want to create your scaffolding in MVC4.Add the Entity Data Model to your MVC 5 DBContextCreate your scaffolded controller and views in the MVC 5 Projectwhich obviously works with EF 6.Copy the generated views from MVC 5 to your old MVC 4 ProjectThis is a solution to generate scaffolding if you do not want to downgrade the EF Version.For me this worked out of the box
you've used asp.net mvc 4 you'll notice default internet application use simplemembership provider all well good works fine.the issue comes default database generation have poco userprofile defined like so table userprofile public class userprofile key databasegeneratedattribute databasegeneratedoption.identity public int userid get set public string username get set which generated like using var context new userscontext context.database.exists create simplemembership database without entity framework migration schema iobjectcontextadapter context objectcontext.createdatabase works fine database generated just fine works without issue however i am change poco like delete database table userprofile public class userprofile key databasegeneratedattribute databasegeneratedoption.identity public int userid get set public string emailaddress get set public string firstname get set public string surname get set public string country get set public string companyname get set only first 2 columns generated userid emailaddress works just fine code wise talking login registration obviously none my other user data stored.am i missing something here surely should generate database based off whole userprofile object,If you don't have plans to make changes once the system is live and this is only happening in development and not keen to enable migrations.  Try to truncate the table __MigrationHistory.truncate table __MigrationHistory
mvc4 i create new build configuration all projects solution i get following when building web csproj alone msbuild company.directory.web.csproj p configuration dev error c windows microsoft.net framework v4.0.30319 microsoft.common.targets 483 9 outputpath property set project company.directory.web.csproj please check make sure you have specified valid combination configuration platform project configuration dev platform anycpu you may seeing message because you trying build project without solution file have specified non default configuration platform doesn't exist project.however outputpath property set lt xml version 1.0 encoding utf-8 gt lt project toolsversion 4.0 defaulttargets build xmlns http schemas.microsoft.com developer msbuild/2003 gt lt propertygroup condition configuration platform dev anycpu gt lt debugsymbols&gt true&lt debugsymbols&gt lt outputpath&gt bin lt outputpath&gt lt defineconstants&gt debug trace&lt defineconstants&gt lt debugtype&gt full&lt debugtype&gt lt platformtarget&gt anycpu&lt platformtarget&gt lt errorreport&gt prompt&lt errorreport&gt lt codeanalysisignorebuiltinrulesets&gt false&lt codeanalysisignorebuiltinrulesets&gt lt codeanalysisignorebuiltinrules&gt false&lt codeanalysisignorebuiltinrules&gt lt deployiisapppath&gt port 80/directory dev&lt deployiisapppath&gt lt propertygroup&gt lt import project msbuildextensionspath msbuildtoolsversion microsoft.common.props condition exists msbuildextensionspath msbuildtoolsversion microsoft.common.props gt lt propertygroup&gt lt configuration condition configuration gt debug&lt configuration&gt lt platform condition platform gt anycpu&lt platform&gt lt productversion&gt lt productversion&gt lt schemaversion&gt 2.0 lt schemaversion&gt lt projectguid&gt 285fbf79-7933-4af9-aaaf-25ee7734aaaa lt projectguid&gt lt projecttypeguids&gt e3e379df-f4c6-4180-9b81-6769533abe47 349c5851-65df-11da-9384-00065b846f21 fae04ec0-301f-11d3-bf4b-00c04f79efbc lt projecttypeguids&gt lt outputtype&gt library&lt outputtype&gt lt appdesignerfolder&gt properties&lt appdesignerfolder&gt lt rootnamespace&gt company.directory.web lt rootnamespace&gt lt assemblyname&gt company.directory.web lt assemblyname&gt lt targetframeworkversion&gt v4.0 lt targetframeworkversion&gt lt mvcbuildviews&gt false&lt mvcbuildviews&gt lt useiisexpress&gt true&lt useiisexpress&gt lt solutiondir condition solutiondir solutiondir undefined gt lt solutiondir&gt lt restorepackages&gt true&lt restorepackages&gt lt propertygroup&gt lt gt bug how can i fix,I got the same error for an Azure WebRole-project and added the &lt;PropertyGroup&gt; elements manually into the .csproj file. However I accidentally put them below a couple of &lt;Import&gt; statements. The build will fail with the error in the question.Right order&lt;PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Dev|AnyCPU'"&gt;   &lt;DebugSymbols&gt;true&lt;/DebugSymbols&gt;   &lt;OutputPath&gt;bin\&lt;/OutputPath&gt;   &lt;DefineConstants&gt;DEBUG;TRACE&lt;/DefineConstants&gt;   &lt;DebugType&gt;full&lt;/DebugType&gt;   &lt;PlatformTarget&gt;AnyCPU&lt;/PlatformTarget&gt;   &lt;ErrorReport&gt;prompt&lt;/ErrorReport&gt;   &lt;CodeAnalysisRuleSet&gt;MinimumRecommendedRules.ruleset&lt;/CodeAnalysisRuleSet&gt;&lt;/PropertyGroup&gt;&lt;Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" /&gt;&lt;Import Project="$(VSToolsPath)\WebApplications\Microsoft.WebApplication.targets" Condition="'$(VSToolsPath)' != ''" /&gt;&lt;Import Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v10.0\WebApplications\Microsoft.WebApplication.targets" Condition="false" /&gt;Wrong order&lt;Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" /&gt;&lt;Import Project="$(VSToolsPath)\WebApplications\Microsoft.WebApplication.targets" Condition="'$(VSToolsPath)' != ''" /&gt;&lt;Import Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v10.0\WebApplications\Microsoft.WebApplication.targets" Condition="false" /&gt;&lt;PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Dev|AnyCPU'"&gt;   &lt;DebugSymbols&gt;true&lt;/DebugSymbols&gt;   &lt;OutputPath&gt;bin\&lt;/OutputPath&gt;   &lt;DefineConstants&gt;DEBUG;TRACE&lt;/DefineConstants&gt;   &lt;DebugType&gt;full&lt;/DebugType&gt;   &lt;PlatformTarget&gt;AnyCPU&lt;/PlatformTarget&gt;   &lt;ErrorReport&gt;prompt&lt;/ErrorReport&lt;CodeAnalysisRuleSet&gt;MinimumRecommendedRules.ruleset&lt;/CodeAnalysisRuleSet&gt;&lt;/PropertyGroup&gt;
i have mvc4 app which i've recently upgraded entity framework 5 i am trying move our database over using migrations from development style dropping creating each run.here s what i've done my app start function.protected void application start database.setinitializer new migratedatabasetolatestversion&lt mycontext configuration gt i ran enable migrations command my repositories project i thought would create initial migration file however only file created configurationwhen i delete database creates expected via code first seeds database from configuration file configuration file i changed all add functions addorupdate however runs seed function my configuration file each time website starts duplicates all seed data again again.i imagined would create initial migration file blog i read suggested would i could put seed data didn'tcan anyone explain how i should setting up db code so only seeds once link migrations blog post i followedwhile quite interesting using ef migrate.exe i've since switched using roundhouse running migrations i still use ef scaffold my migrations based models i wrote little console app write migrations out sql files i use roundhouse perform migrations themselves through my rake build scripts little more process involved much more stable than using ef perform migrations fly when application starts up,The answer to this SO question explains why Seed runs every time the app runs.I use Jon Smiths method but I have put the check for pending migrations statement in an #if block like this:#if (!DEBUG)if (!_pendingMigrations) return;#endifThat way when I'm debugging the Seed method always runs to repopulate my seed data - useful when I do deletes during testing etc. but I don't get the perf hit when in release.
how does one go about installing asp.net mvc 4 server web platform installer insists installing all kinds visual studio 2010 stuff i don't see server only installation example wants install visual studio 2010 core sp1 visual web developer express,I would install and run on local host then use Visual Studio's "publish" to publish it to a web server.  You can install it via http://www.asp.net/mvc.  If you're asking how to install it on IIS then read this:http://blogs.msdn.com/b/rickandy/archive/2011/04/22/test-you-asp-net-mvc-or-webforms-application-on-iis-7-in-30-seconds.aspx
i have asp.net mvc 4 application targeting net 45 one our child actions makes call out web service using httpclient since we're blocking io waiting httpclient response makes great deal sense convert code async await pattern however when mvc 4 attempts execute child action we get following error message httpserverutility.execute blocked while waiting asynchronous operation complete.at first glance appears though mvc 4 does support async await within child action only remaining option run using synchronous code force wait async task.as we all know touching result wait async task asp.net context cause immediate deadlock my async logic wrapped class library so i can't use await blah.configureawait false trick remember tagging async child action using await causes error prevents me from configuring await.i m painted corner point any way consume async methods mvc 4 child action seems like flat out bug workarounds,The format of Stephen's answer didn't quite work for me (maybe it's an async noob problem but hey).I had to do write the async expression in this format to get a strongly typed return value.Person myPerson = Task.Run(() =&gt; asyncMethodWhichGetsPerson(id)).Result;
how does one integrate managed extensibility framework mef asp.net mvc 4 asp.net web api same project consider example application mvc controller homecontroller web api controller contactcontroller both have property type icontactrepository which rely mef resolve problem how plug mef mvc web api so instances created via mef.homecontroller lt summary&gt home controller instruct mef create one instance class per importer since what mvc expects lt summary&gt export partcreationpolicy creationpolicy.nonshared public class homecontroller controller import private icontactrepository contactrepository null public actionresult index return view contactrepository.getallcontacts contactcontroller lt summary&gt contact api controller instruct mef create one instance class per importer since what web api expects lt summary&gt export partcreationpolicy creationpolicy.nonshared public class contactcontroller apicontroller import private icontactrepository contactrepo null public contact get return contactrepo.getallcontacts icontactrepository contactrepository public interface icontactrepository contact getallcontacts export typeof icontactrepository public class contactrepository icontactrepository public contact getallcontacts return new contact new contact id 1 name glenn beck new contact id 2 name bill o'riley contact public class contact public int id get set public string name get set,@aknuds1's solution works but leaks memory on every API call.I've modified his solution to fix the leak.public class MefDependencyResolver : System.Web.Http.Dependencies.IDependencyResolver System.Web.Mvc.IDependencyResolver{private readonly CompositionContainer container;private readonly List&lt;Lazy&lt;object object&gt;&gt; exports = new List&lt;Lazy&lt;object object&gt;&gt;();private readonly object syncRoot = new object();public MefDependencyResolver(CompositionContainer container){this.container = container;}public IDependencyScope BeginScope(){return new MefDependencyResolver(container);}/// &lt;summary&gt;/// Called to request a service implementation./// /// Here we call upon MEF to instantiate implementations of dependencies./// &lt;/summary&gt;/// &lt;param name="serviceType"&gt;Type of service requested.&lt;/param&gt;/// &lt;returns&gt;Service implementation or null.&lt;/returns&gt;public object GetService(Type serviceType){if (serviceType == null) throw new ArgumentNullException(nameof(serviceType));var serviceExport = container.GetExports(serviceType null null).FirstOrDefault();if (serviceExport == null) return null;lock (this.syncRoot){exports.Add(serviceExport);}return serviceExport.Value;}/// &lt;summary&gt;/// Called to request service implementations./// /// Here we call upon MEF to instantiate implementations of dependencies./// &lt;/summary&gt;/// &lt;param name="serviceType"&gt;Type of service requested.&lt;/param&gt;/// &lt;returns&gt;Service implementations.&lt;/returns&gt;public IEnumerable&lt;object&gt; GetServices(Type serviceType){if (serviceType == null) throw new ArgumentNullException(nameof(serviceType));var serviceExports = container.GetExports(serviceType null null);if (!serviceExports.Any()) return Enumerable.Empty&lt;object&gt;();lock (this.syncRoot){exports.AddRange(serviceExports);}return serviceExports.Select(x =&gt; x.Value);}public void Dispose(){lock (this.syncRoot){foreach (var e in exports){this.container.ReleaseExport(e);}exports.Clear();}}}
mobile display modes asp.net mvc 4 stop serving correct views after about hour uptime despite browser overrides correctly detecting overridden mobile device.recycling application pool temporarily solves problem.the new browser override feature correctly allows mobile devices view desktop version site vice versa after about hour uptime mobile views longer rendered mobile device only default desktop razor templates rendered only fix recycle application pool.strangely browser override cookie continues function master layout.cshtml template correctly shows mobile desktop text depending value viewcontext.httpcontext.getoverriddenbrowser ismobiledevice wrong views still being rendered leads me believe problem lies displaymodes.the action question being cached outputcache nostore true duration 0 varybyparam i am using 51degrees mobile detection i don't think should affect overridden mobile detection bug displaymodes feature asp.net mvc 4 beta amp developer preview am i doing something else wrong here my displaymodes setup application start displaymodeprovider.instance.modes.insert 0 new defaultdisplaymode iphone contextcondition context gt context.getoverriddenbrowser ismobiledevice&amp amp context.request.useragent.indexof iphone stringcomparison.ordinalignorecase gt 0 context.request.useragent.indexof android stringcomparison.ordinalignorecase gt 0 context.request.browser.ismobiledevice looks complicated renders home.iphone.cshtml overriding browser ismobile real browser iphone android falls throughto next instance home.mobile.cshtml more basic phones like blackberry displaymodeprovider.instance.modes.insert 1 new defaultdisplaymode mobile contextcondition context gt context.getoverriddenbrowser ismobiledevice,So guys here is the answer to all of your worries..... :)To avoid the problem you can instruct ASP.NET to vary the cache entry according to whether the visitor is using a mobile device. Add a VaryByCustom parameter to your page’s OutputCache declaration as follows:&lt;%@ OutputCache VaryByParam="*" Duration="60" VaryByCustom="isMobileDevice" %&gt;Next define isMobileDevice as a custom cache parameter by adding the following method override to your Global.asax.cs file:public override string GetVaryByCustomString(HttpContext context string custom){if (string.Equals(custom "isMobileDevice" StringComparison.OrdinalIgnoreCase))return context.Request.Browser.IsMobileDevice.ToString();return base.GetVaryByCustomString(context custom);}This will ensure that mobile visitors to the page don’t receive output previously put into the cache by a desktop visitor.please see this white paper published by microsoft. :)http://www.asp.net/whitepapers/add-mobile-pages-to-your-aspnet-web-forms-mvc-applicationThanks and Keep coding.....
default mvc bundle cached client 1 year possible set client headers manually 1 specific bundle what i need set custom expire headers one my bundles i can't rely v hash querystring because bundle external website won't change url pointing my bundle each time i change it.what i've tried create custom bundle class inherit bundle overridde generatebundleresponse method way i can control server caching only way customizing client caching set bundleresponse.cacheability public private nocache etc i can't set headers manually i have access bundlecontext httpcontext when i set headers context have effect all other requests well,This is a modification of Adilson's answer but without having to create an HttpModule:In the global.asax.cs of the MVC project:protected void Application_EndRequest(object sender EventArgs e) {if (Request.RawUrl.Contains("/bundles/")) {// My bundles all have a /bundles/ prefix in the URLResponse.Cache.SetExpires(DateTime.Now.AddHours(2));}}
overviewwe have multinational website which has localised content various countries serves localisation implemented using standard net resource files.when our web application starts up recycles under load production environment sometimes display wrong resources particular country eg uk site may show french content continues happen until application restarted.detailthe production environment iis 8 windows server 2012.the application implemented asp.net mvc 4.the application decides which locale serving incoming url so www.mysite.com uk english www.mysite.fr french etc.we have implementation ihttpmodule which registered via web.config.in init method module attaches handler beginrequest event.in method incoming url examined thread currentuiculture set appropriate value en gb www.mysite.com fr fr www.mysite.fr etc.this system works well most part however sometimes when application starts up while receiving requests consistently serve wrong content some resource files.it continues do until application restarted may again restart serving incorrect content we have keep restarting until serving correct content which point remain stable.analysiswe have been able reproduce locally development pc throwing requests application during startup using fiddler site showing german content some resource files uk version site.having checked obvious culprits our code currentuiculture set correctly http module remains correct throughout processing request we started look resource manager.with application started incorrect state we examined contents resourcesets property resourcemanager class.this dictionary keyed iso culture code.examining contents en gb we found did actually contain resource strings from german version resource file.it seems sometimes when site starting up while receiving requests resourcemanager class loading wrong resource file culture incorrectly classifying file its dictionary.has anyone else experienced kind behavior anyone aware any workarounds thanks,I read this answer from other resources. And would like to wrap the ResourceManager as follows so the new RexourceManager() is not being raced under loaded multi-thread call:public sealed class LocalizationHandler{   [ThreadStatic]   private static ResourceManager _manager   private readonly ConcurrentBag&lt;ResourceManager&gt;_localizationIdentityCollection = new ConcurrentBag&lt;ResourceManager&gt;();   private LocalizationHandler(){}   public static LocalizationHandler Load(ResourceType source)   {  switch (source)  {  case typeA:  //check if resource exist in the concurrent bag or create a new one   _manager = getManager();   break;  }  return this;   }   public string Get(string key)   {   return _manager.Get(key)   }}Then you can call like:LocalizationHandler.Load(ResourceType.TypeA).Get("your resource Key String")Further more you can use type safe enum for the resource type with name for resource name and wrap the resource manager together with the culture info into a private class the save it in the concurrent bag.
i've added service reference my mvc4 web project left default namespace servicereference1 when i wanna use namespace visual studio can't find like doesn't exist webservice up working fine what exactly am i doing wrong,Another commonly overlooked issue is that the service reference appends the root namespace of your project to the namespace you provide in the service configuration. In other words if the namespace of your service is ServiceReference1 the actual namespace that will be created will be [RootNameSpace].ServiceReference1. RootNameSpace is usually the name of your project so in most cases you can fix it simply by appending your service reference with your [projectname.]. If the name of your project is MyProject then the namespace will be MyProject.ServiceReference1It is also fairly simple to open the csproj (assuming C# project) file in notepad and search for "RootNamespace" to find the root namespace for the project.
i am working automapper some values entity being mapped variables my current method i have tried google avail can i pass set keyvalue pairs object something my mapping have use those values sample post mapping modification comment variable comment class instancevar imagecomment automapper.mapper.map lt data.imagecomment gt comment i want pass imageid so i dont have manually add after mappingimagecomment.imageid imageid,Suppose you have these two objects:public class ObjectA { public string Property1 { get; set; } public int Property2 { get; set; }}public class ObjectB { public string Property1 { get; set; } public int Property2 { get; set; }}And you want to copy an existing object of type ObjectA into a new object of type ObjectB using AutoMapper you have to do this:var objectA = new ObjectA { Property1 = "Hello World!" Property2 = 1 }var objectB = new ObjectB();// Copy data from a to bAutoMapper.Mapper  .CreateMap&lt;ObjectA ObjectB&gt;()  .BeforeMap((source dest) =&gt; { dest.ImageId = imageId });AutoMapper.Mapper.Map(objectA objectB); // source destination;// Or:var objectB = AutoMapper.Mapper.Map&lt;ObjectB&gt;(objectA);
i build my own cms using asp.net mvc 4 c i want cache some database data likes localization search categories long tail each category have own sub sub sub categories etc overkill query database all time because can more than 30-100 queries each page request however users update those database rarelyso what best way performance convenience do i know how use outputcache action what i need situation cache html what i need example my own helper html.localization newsletter.tite take value language any another helper interact data etc.i think really sure i need cache data i want only when application invoke first time work cache location i don't have any experience even about,There are several things to consider here before choosing your implementation of caching but one of the main things you have to decide is at what point do you want the caching to occur - at data access the model creation or UI generation? One or all of these places?You have several options but for general data caching you can use the System.Runtime.Caching.MemoryCache or for something much more flexible and rewarding you can look at an implementation using NoSQL like Redis.You could use MemoryCache for data caching but use Redis for caching aggregates making up your view models. If you went with Redis you could of course handle all your caching using this. The benefit being that all your data would become persistent across application restarts. The disadvantage being that it becomes an additional requirement for running your CMS.Other things to factor in are consistency (using some IoC would help) and allowing data to be voided once it updates. Therefore having some means of updating the cache.With regards to the best approach in your case if you are creating a new CMS application start small/simple and build up in steps. You may not get it perfect first time but as long as you are consistent and clear in your approach it should be easy to build upon what you  have done or swap out and try something different/better.
any way using data annotations compare two form field eg confirm email address same before allowing form posted eg can regular expression data annotation use match function reference another property viewmodel,As one possibe option self-validation:Implement an interface IValidatableObject with method Validate where you can put your validation code.public class TestModel : IValidatableObject{public string Email{ get; set; }public string ConfirmEmail { get; set; }public IEnumerable&lt;ValidationResult&gt; Validate(ValidationContext validationContext){if (Email != ConfirmEmail){yield return new ValidationResult("Emails mismatch" new [] { "ConfirmEmail" });}}}Please notice: this is only server-side validation.
i have webapi controller method looks like httpget acceptverbs get public httpresponsemessage run string reportname int someid string sometext datetime asofdate string username i have custom route configured specifically action when i navigate my browser web service everything works fine appropriate action executed http localhost xxxx controllername run asdf/1/asdf/07-01-2012/user domain.comhowever when i attempt programatically call web service using httpclient executing get i get 404 error i don't get error when username parameter email address example when username just user everything works fine here sample code var url http localhost xxxx controllername run asdf/1/asdf/07-01-2012/user domain.com var client new system.net.http.httpclient var response client.get url fails here 404 errorresponse.ensuresuccessstatuscode i have tried urlencoding email address luck any advice appreciated,Adding the following to the web.config should not fix the complete issue:&lt;system.webServer&gt;   &lt;modules runAllManagedModulesForAllRequests="true" /&gt;&lt;/system.webServer&gt;The solution no longer works as an extra path segment is used in the uri for me.https://localhost:xxxx/user@domain.com does workhttps://localhost:xxxx/path/user@domain.com does not workI google around and around and i understood that it is an extension. (.cs gives a different error as .com) and finaly find this: ASP.net MVC4 WebApi route with file-name in itMy solution was to add or change the following handler in the &lt;handlers&gt; section of your &lt;system.webServer&gt;:&lt;remove name="ExtensionlessUrlHandler-Integrated-4.0" /&gt;&lt;add name="ExtensionlessUrlHandler-Integrated-4.0"path="*.*"verb="*"type="System.Web.Handlers.TransferRequestHandler"preCondition="integratedModeruntimeVersionv4.0" /&gt;or change the path to path=*@*.*
i have internal web app being built asp.net 4 we stuck using authentication api built another team user site authenticated successfully site i would like give them access entire site.in asp.net webform days i just used keep custom user object session object null i knew user wasn't authenticated similar improved method mvc i don't want have build my own provider asp.net membership model possible what simplest way doing,You can do the Session Authentication by simply putting a session variable value when the login is successful. Eg public ActionResult Index(Models.Login login){if (ModelState.IsValid){Dal.Login dLogin = new Dal.Login();string result = dLogin.LoginUser(login);if (result == "Success")Session["AuthState"] = "Authenticated";}return View();}Now the trick is that you should have a common layout page of all the views to which you have to check for authentication. And in this layout page just do a razor check like this - &lt;body&gt;@if (Session["AuthState"] != "Authenticated"){Response.Redirect("~/login");}// other html&lt;/body&gt;I have been using this method in my application admin panel.
i have mvc 4 project i want add assembly web.config file i don't know where should i put i try any ways i cant find solution.every time i got error you must add reference assembly system.data.entity version 4.0.0.0 culture neutral publickeytoken b77a5c561934e089 my web.config file lt xml version 1.0 encoding utf-8 gt lt more information how configure your asp.net application please visit http go.microsoft.com fwlink linkid 152368 gt lt configuration&gt lt connectionstrings&gt lt add name parsgraphicentities connectionstring metadata res entities.parsgraphic.csdl res entities.parsgraphic.ssdl res entities.parsgraphic.msl provider system.data.sqlclient provider connection string amp quot data source initial catalog parsgraphic integrated security true multipleactiveresultsets true app entityframework&amp quot providername system.data.entityclient gt lt add name defaultconnection connectionstring data source sqlexpress initial catalog aspnet ui.mvc.internetapplication 2012317193118 integrated security true providername system.data.sqlclient gt lt connectionstrings&gt lt appsettings&gt lt add key webpages version value 2.0.0.0 gt lt add key webpages enabled value true gt lt add key preserveloginurl value true gt lt add key clientvalidationenabled value true gt lt add key unobtrusivejavascriptenabled value true gt lt appsettings&gt lt system.web gt lt compilation debug true targetframework 4.0 gt lt authentication mode forms gt lt forms loginurl account login timeout 2880 gt lt authentication&gt lt pages&gt lt namespaces&gt lt add namespace system.web.helpers gt lt add namespace system.web.mvc gt lt add namespace system.web.mvc.ajax gt lt add namespace system.web.mvc.html gt lt add namespace system.web.routing gt lt add namespace system.web.webpages gt lt namespaces&gt lt pages&gt lt profile defaultprovider defaultprofileprovider gt lt providers&gt lt add name defaultprofileprovider type system.web.providers.defaultprofileprovider system.web.providers version 1.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 connectionstringname defaultconnection applicationname gt lt providers&gt lt profile&gt lt membership defaultprovider defaultmembershipprovider gt lt providers&gt lt add name defaultmembershipprovider type system.web.providers.defaultmembershipprovider system.web.providers version 1.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 connectionstringname defaultconnection enablepasswordretrieval false enablepasswordreset true requiresquestionandanswer false requiresuniqueemail false maxinvalidpasswordattempts 5 minrequiredpasswordlength 6 minrequirednonalphanumericcharacters 0 passwordattemptwindow 10 applicationname gt lt providers&gt lt membership&gt lt rolemanager defaultprovider defaultroleprovider gt lt providers&gt lt add name defaultroleprovider type system.web.providers.defaultroleprovider system.web.providers version 1.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 connectionstringname defaultconnection applicationname gt lt providers&gt lt rolemanager&gt lt sessionstate mode inproc customprovider defaultsessionprovider gt lt providers&gt lt add name defaultsessionprovider type system.web.providers.defaultsessionstateprovider system.web.providers version 1.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 connectionstringname defaultconnection applicationname gt lt providers&gt lt sessionstate&gt lt system.web gt lt system.webserver gt lt validation validateintegratedmodeconfiguration false gt lt modules runallmanagedmodulesforallrequests true gt lt system.webserver gt lt runtime&gt lt assemblybinding xmlns urn schemas microsoft com asm.v1 gt lt dependentassembly&gt lt assemblyidentity name system.web.helpers publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.mvc publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-4.0.0.0 newversion 4.0.0.0 gt lt dependentassembly&gt lt dependentassembly&gt lt assemblyidentity name system.web.webpages publickeytoken 31bf3856ad364e35 gt lt bindingredirect oldversion 1.0.0.0-2.0.0.0 newversion 2.0.0.0 gt lt dependentassembly&gt lt assemblybinding&gt lt runtime&gt lt configuration&gt please help methanks,I just experienced the same issue with MVC 4 in VS Express 2012 for Web but while Alfonso's answer was much more helpful than anything else I found on the Web it unfortunately did not clear up the error in my project. After doing some research on the Internet (to no avail) and then just poking around Visual Studio I found the following solution.In addition to adding EntityFramework to my project's references and adding the  tag to my Web.config I also had to take the following steps to satisfy the compiler:Right-click the References folder > Add Reference...Expand Assemblies on the left side of the window and select Framework.Scroll to and select System.Data.Entity in the list of assemblies.Make sure the box next to System.Data.Entity is checked then click 'OK'.Rebuild the project.
i have two tables customers country use entity framework vs 2012 model class using system using system.collections.generic public partial class customer public int id get set public string firstname get set public string lastname get set public string address get set public string email get set public string phone get set public nullable&lt int&gt countrryid get set public string note get set public virtual country country get set i try build select query get all customers country name i always get below error message,there is one more solution using ViewBagusing(var db = new jQGridEntities()){var customers = db.Customers.Where(c=&gt;c.Country!=null).ToList();ViewBag.customerlist= customers;}
way customize way asp.net mvc4 bundling&amp minification feature minifies js files meaning i don't want completely turn off minification just breaks angularjs.since angularjs uses di ioc approach injecting services controllers following function mycontroller scope once minified becomes function mycontroller n normally wouldn't problem angularjs uses parameter names understand which service inject so scope should remain scope well any other parameter angular controllers everything else like local variables etc should minified normally.i can't find any clear documentation how configure mvc4 minification seems rather dumb all nothing so i think i'm missing somethingthanks,For those of you who don't want/can't be arsed to write the "minification-safe" angular-DI syntax and don't care about variable names being obfuscated I used BundleTransfomer along with Yui Js minifier - available via nuget: Install-Package BundleTransformer.Core Install-Package BundleTransformer.YuiGives VERY fine-grained control over minification/obfuscation.  In the angular world just set the obfuscateJavascript within the yui web.config section to false.
non microsoft nuget package allows upgrading mvc3 mvc4.there microsoft article explains how manually migrate from mvc3 mvc4 we can read from article ex locate projecttypeguids element replace e53f8fea-eae0-44a6-8774-ffd645390401 e3e379df-f4c6-4180-9b81-6769533abe47 now something similar allows migrating from mvc3 mvc5 sufficient migrate first from 3 4 re target framework version 4.5 install official mvc nu get,Due to the installation of VS2015 I had to convert my applications from MVC3 on MVC5. I've done this with success :). I hope that the following description will help someone in a similar issue:1) Change .Net Framework to 4.5Project -&gt; Properties -&gt; Application -&gt; Target Framework -&gt; 4.52) Install from Package Manager Console:Install-Package Microsoft.AspNet.Mvc -Version 5.2.33) There is a line in web.config that is:&lt;add key="webpages:Version" value="1.0.0.0" /&gt;Changed it to the version of system.web.webpages.dll in your bin folder:&lt;add key="webpages:Version" value="3.0.0.0" /&gt;4) If your project uses the EntityFramework you have to upgrade it to version 5.x or higher and set dll references to....\net45\EntityFramework.dll....\net45\EntityFramework.SqlServer.dll5) To solve problems like:Error   CS0104  'Compare' is an ambiguous reference between 'System.ComponentModel.DataAnnotations.CompareAttribute' and 'System.Web.Mvc.CompareAttribute'you can add:using CompareAttribute = System.Web.Mvc.CompareAttribute;6) You will probably have to change additional definitions in the web.config and the Views\web.config and find and replace text as shown below:System.Web.Mvc System.Web.Mvc.* System.Web.Razor System.Web.WebPages.Razor change from 3.0.0.0 to 5.0.0.0System.Web.WebPages System.Web.WebPages.* change from 1.0.0.0 to 3.0.0.0That's all :)
opening visual studio 2012file new project asp.net mvc 4 web application razor view engineerror number 0x80070002visual studio ultimate 2012 amp up dateedit http forums.asp.net post/5373941.aspxdidn t work.any ideas thanks advance,I run into this problem after installing ASP.NET and Web Tools 2012.2. I solved it running repair mode from Visual Studio 2012 installation setup.
i'm using asp.net mvc 4 bundling minifying features microsoft.aspnet.web.optimization namespace eg styles.render content static css i'd like use combination windows azure cdn.i looked writing custom bundletransform content optimized yet.i also looked parsing uploading optimized stream runtime feels like hack me i don't really like stylescdn.render url.absolutecontent styles.url content static css tostring public static ihtmlstring render string absolutepath get version hashstring versionhash httputility.parsequerystring new uri absolutepath query get v only parse upload cdn version hash differentif versionhash versionhash versionhash versionhash webclient client new webclient stream stream client.openread absolutepath uploadstreamtoazurecdn stream var stylesheetlink string.format lt link href 0 1 2 3 v 4 rel stylesheet type text css gt cdnendpointprotocol cdnendpointurl cdncontainer cdncssfilename versionhash return new htmlstring stylesheetlink how can i upload bundled minified versions automatically my windows azure cdn,For @manishKungwani requested in previous comment. Just set UseCdn and then use the cdnHost overload to crate the bundle. I used this to put in an AWS CloudFront domain (xxx.cloudfront.net) but in hindsight it should have been named more generically to use with any other CDN provider.public class CloudFrontScriptBundle : Bundle{public CloudFrontScriptBundle(string virtualPath string cdnHost = ""): base(virtualPath null new IBundleTransform[] { new JsMinify() new CloudFrontBundleTransformer { CdnHost = cdnHost } }){ConcatenationToken = ";";}}public class CloudFrontStyleBundle : Bundle{public CloudFrontStyleBundle(string virtualPath string cdnHost = ""): base(virtualPath null new IBundleTransform[] { new CssMinify() new CloudFrontBundleTransformer { CdnHost = cdnHost } }){}}public class CloudFrontBundleTransformer : IBundleTransform{public string CdnHost { get; set; }static CloudFrontBundleTransformer(){}public virtual void Process(BundleContext context BundleResponse response){if (context.BundleCollection.UseCdn &amp;&amp; !String.IsNullOrWhiteSpace(CdnHost)){var virtualFileName = VirtualPathUtility.GetFileName(context.BundleVirtualPath);var virtualDirectory = VirtualPathUtility.GetDirectory(context.BundleVirtualPath);if (!String.IsNullOrEmpty(virtualDirectory))virtualDirectory = virtualDirectory.Trim('~');var uri = string.Format("//{0}{1}{2}" CdnHost virtualDirectory virtualFileName);using (var hashAlgorithm = CreateHashAlgorithm()){var hash = HttpServerUtility.UrlTokenEncode(hashAlgorithm.ComputeHash(Encoding.Unicode.GetBytes(response.Content)));context.BundleCollection.GetBundleFor(context.BundleVirtualPath).CdnPath = string.Format("{0}?v={1}" uri hash);}}}private static SHA256 CreateHashAlgorithm(){if (CryptoConfig.AllowOnlyFipsAlgorithms){return new SHA256CryptoServiceProvider();}return new SHA256Managed();}}
i have followed some articles tutorials over internet order create custom validation attribute also supports client side validation asp.net mvc 4 website what i have until now requiredifattribute.cs attributeusage attributetargets.property allowmultiple true addedpublic class requiredifattribute validationattribute iclientvalidatable private readonly string condition private string propertyname addedpublic requiredifattribute string condition this.condition condition this.propertyname propertyname added protected override validationresult isvalid object value validationcontext validationcontext propertyinfo propertyinfo validationcontext.objecttype.getproperty this.propertyname addeddelegate conditionfunction createexpression validationcontext.objecttype condition bool conditionmet bool conditionfunction.dynamicinvoke validationcontext.objectinstance conditionmet value null return new validationresult formaterrormessage null return validationresult.success private delegate createexpression type objecttype string expression lambdaexpression lambdaexpression system.linq.dynamic.dynamicexpression.parselambda objecttype typeof bool expression addeddelegate function lambdaexpression.compile return function public ienumerable&lt modelclientvalidationrule&gt getclientvalidationrules modelmetadata metadata controllercontext context var modelclientvalidationrule new modelclientvalidationrule validationtype requiredif errormessage errormessage added modelclientvalidationrule.validationparameters.add param this.propertyname addedreturn new list&lt modelclientvalidationrule&gt modelclientvalidationrule i applied attribute property class like requiredif inapppurchase true inapppurchase errormessage please enter app purchase promotional price added inapppurchase public string inapppurchasepromotionalprice get set public bool inapppurchase get set so what i want do display error message field inapppurchasepromotionalprice required when inapppurchase field true means checked form following relevant code form view lt div class control group gt lt label class control label inapppurchase gt does your app include app purchase lt label&gt lt div class controls gt html.checkboxfor o gt o.inapppurchase html.labelfor o gt o.inapppurchase yes lt div&gt lt div&gt lt div class control group id inapppurchasepromotionalpricediv model.inapppurchase true html.raw style display block html.raw style display none gt lt label class control label inapppurchasepromotionalprice gt app friday promotional price app purchase lt label&gt lt div class controls gt html.textboxfor o gt o.inapppurchasepromotionalprice new title should lowest price tier free 99 just your app friday date lt span class help inline gt html.validationmessagefor o gt o.inapppurchasepromotionalprice lt span&gt lt div&gt lt div&gt code works perfectly when i submit form full post requested server order display message so i created javascript code enable client side validation requiredif.js function validator.addmethod requiredif function value element params var inapppurchase inapppurchase checked inapppurchase return true return false var ischecked param checked ischecked return false return true validator.unobtrusive.adapters.add requiredif param function options options.rules requiredif options.params.param options.messages requiredif options.message jquery proposed way msdn tutorials i have foundof course i have also inserted needed scripts form jquery.unobtrusive ajaxminjsjqueryvalidateminjsjqueryvalidateunobtrusiveminjsrequiredifjsbut client side validation still does work so could you please help me find what am i missing thanks advance,It's worth noting that the [RequiredIf] attribute needs to be added to the second form field in the view model in order for client validation to work.
when opening mvc4 c web project visual studio 2013 ide reports error type namespace name could found you missing using directive assembly reference project builds runs without any errors furthermore intellisense does include project namespace.the missing reference files within same project.for example web project namespace webproject.com references controller files webproject.com.models underlined red error above.i have checked following all solution projects configured use same target framework net 4 web.config views folder contains namespace system.web.webpages.razor sectioncleaned rebuilt solutiondeleted all bin obj contentdeleted suo csproj.user files were created vs2010the only way i can get rid errors being reported vs2013 unload reload project.when opened visual studio 2010 i do get problems,Microsoft just released a new security update to be automatically applied to machines configured to use Microsoft Update.  Unfortunately some ASP.NET MVC 3 and 4 VS projects can no longer build after the update is applied. These projects will fail with the following error:"Could not locate the assembly "System.Web.MvcVersion=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35processorArchitecture=MSIL"My project also had the error "The type or namespace name 'System.Web.Mvc' could not be found (are you missing a using directive or an assembly reference)". Installing the latest version of Microsoft.AspNet.Mvc solved my problem. See the following article from Microsoft for more info:http://blogs.msdn.com/b/webdev/archive/2014/10/16/microsoft-asp-net-mvc-security-update-broke-my-build.aspx
new mvc4 rtm internet application templates use simplemembership providers descibed here simplemembershipmy existing mvc website uses asp.membership framework ideally i would like migrate user data tables new simplemembership tables my reasons wanting do cleaner integration rest my database which uses efsupport azure oauth out boxuse latest mvc4 rtm controllers views without needing modifyi've always felt existing membership implementation little bloated what i neededso i wrote sql script today migrate data existing asp.net membership tables new simple membership tables can found heretesting login my mvc 4 website password verification failing i believe simplemembership uses different password algo than old membership framework new passwords created under simplemembership framework look lot longer.so my question since i using hashed password format old asp.net membership providers users original password irretrievable what options do i have get simplemembership provider working.i guessing some options get my users reset passwordsgetting simplemembership provider use same password algo old asp.net membership providers.revert new mvc 4 rtm internet application templates use old asp.net membership providers least desirable options me i would like use simplemembership framework.i would suspect many people also looking migrate existing membership databases new simplemembership provider.any help greatly appreciated.cheersjim,I had a similar issue I should have written a tutorial / blog post on doing this but my solution was to add the following to my web.config (this corresponds to option #2):&lt;system.web&gt;&lt;membership hashAlgorithmType="SHA1" defaultProvider="DefaultMembershipProvider"&gt;  &lt;providers&gt;&lt;add name="DefaultMembershipProvider" etc.../&gt;  &lt;/providers&gt;&lt;/membership&gt;&lt;machineKey validation="SHA1" /&gt;...&lt;/system.web&gt;The interesting part of the code above is the "hashAlgorithmType".  Setting that to SHA1 will use the old asp.net memberships hashing algorithm.  I'm also in a similar position -- I either have to ask my users to update their passwords or keep with the specific hash algorithm. Hope this helps!-Sig
questionin which context i can use redirecttoaction where use redirecttorouteresult i have two action methods like below.approach 1public class actionresulttypescontroller controller public actionresult content return new redirecttorouteresult new routevaluedictionary new action fileresult controller actionresulttypes public actionresult fileresult return view approach 2i could write same code like below well only difference time i used redirecttoaction place redirecttorouteresultpublic class actionresulttypescontroller controller public actionresult content return redirecttoaction fileresult actionresulttypes public actionresult fileresult return view both piece code have common resultant,It's almost the same but...what happens when you work with a few custom routes? is an alternative that supports routeswith the second approach you work with the default route but when you need use a specific route with 3 or 4 parameters you can use the first approach and specified route name and with all parameters.this kind of options you can find in helpers too for example a news paper site:your project has two routesroutes.MapRoute("Default" // Route name"{controller}/{action}/{id}" new { controller = "Home" action = "Index" id = UrlParameter.Optional } );routes.MapRoute("NewsRoute" // Route name"News/{action}/{year}/{month}/{day}/{news}" new { controller = "News" action = "show" year = 2013 month = 6 news = "start-new" } );the default route it's used for contents and special pages and the NewsRoute it's used for show and edit newsif you need build some url you must do it like this@Url.Action("Home""Contact")@Url.RouteUrl("NewsRoute" new RouteValueDictionary(new {action = "show" year = 2013 month = 6 news = "title news" }));and the redirect it's the same way
i'm using asp.net mvc 4 entity framework 5 i have model classes entity maps map existing tables those model classes all setup fine works great.now i want mock i created unit work takes datacontext uses generic repository upon i built services able get data from many repositories once only needing have one instance datacontext also works great.now problem i want test services mock data when i create unit work instance i want able insert datacontext mocked instead real datacontext.i tried create icontext interface let real mocked datacontext implement ran problems dbset i tried use idbset creating fakedbset without success i also read internet mocking context idbset using fakedbset bad approach.do you have any idea what would best way achieve what i have now behavior i would like keep would really like able mock data from model classes datacontext.i m aware entity framework already comes unit work behavior you don't need add extra behavior top i wanted wrap inside another class keeps track all repositories called unitofwork class edit i wrote two articles explaining my solution both linq entity framework.http gaui.is how mock datacontext linq http gaui.is how mock datacontext entity framework here my code irepository.cspublic interface irepository&lt t&gt where t class void add t entity void delete t entity void update t entity t getbyid long id ienumerable&lt t&gt all ienumerable&lt t&gt find expression&lt func&lt t bool&gt gt predicate iunitofwork.cspublic interface iunitofwork idisposable irepository&lt tentity&gt getrepository&lt tentity&gt where tentity class void save repository.cspublic class repository&lt t&gt irepository&lt t&gt where t class private readonly idbcontext context private readonly idbset&lt t&gt dbset public repository idbcontext context context context dbset context.set lt t&gt public virtual void add t entity dbset.add entity public virtual void delete t entity var entry context.entry entity entry.state system.data.entitystate.deleted public virtual void update t entity var entry context.entry entity dbset.attach entity entry.state system.data.entitystate.modified public virtual t getbyid long id return dbset.find id public virtual ienumerable&lt t&gt all return dbset public ienumerable&lt t&gt find expression&lt func&lt t bool&gt gt predicate return dbset.where predicate unitofwork.cspublic class unitofwork&lt tcontext&gt iunitofwork where tcontext idbcontext new private readonly idbcontext ctx private dictionary&lt type object&gt repositories private bool disposed public unitofwork ctx new tcontext repositories new dictionary&lt type object&gt disposed false public irepository&lt tentity&gt getrepository&lt tentity&gt where tentity class repositories.keys.contains typeof tentity return repositories typeof tentity irepository&lt tentity&gt var repository new repository&lt tentity&gt ctx repositories.add typeof tentity repository return repository public void save ctx.savechanges public void dispose dispose true gc.suppressfinalize protected virtual void dispose bool disposing disposed disposing ctx.dispose disposed true exampleservice.cspublic class exampleservice private irepository&lt example&gt m repo public exampleservice iunitofwork uow m repo uow.getrepository lt example&gt public void add example example m repo.add example public ienumerable&lt example&gt getall return m repo.all examplecontroller.cspublic ienumerable&lt example&gt getall create unit work objectiunitofwork uow new unitofwork&lt appdatacontext&gt create service unit work attached datacontextexampleservice service new exampleservice uow return service.getall,You can follow the following link it is very helpful.Generic Repository Pattern in MVC3 Application with Entity FrameworkEntity Framework and Data Patterns
i have accidentally removed part my project thinking i temp folder.it asp.net mvc 4 application.i don t have tfs any other program monitoring my filesystem.i had just publish my application all i have left bunch compiled files js css images.is any tool from microsoft i could perform reverse engineering does vs2012 keep track files so i could restore,Just go to Recycle Bin and press the restore.you will find the deleted file in the file explorer in the software file.
i want build kendo ui grid format date dd mm yyyy however all questions i found about were resolved code format 0 d so i have tried like code below gridboundcolumnbuilder&lt tmodel&gt builder par.bound field.name switch field.type.type case ctype.boolean builder builder.clienttemplate string.format lt input type checkbox 0 checked checked disabled disabled gt lt input&gt field.name break case ctype.datetime builder builder.format 0 d break case ctype.decimal case ctype.double builder builder.format 0 0.00 break another formats works fine just datetime do works i had result datetime date 1377020142000,The core issue is documented really well here. Combining the answers there with other stuff I found here's what I had to do to get it to work on my project. In the C# code:.Template("#= kendo.toString(parseDate(" + field.Name + ") 'dd/MM/yyyy') #");Then create a javascript function:function parseDate(d) {  d = new Date(parseInt(d.replace(/\/Date\((-?\d+)\)\//gi "$1") 10));  return d;}It's a bit of a kluge but works.
question already has answer here jquery datepicker chrome6 answersi'm doing simple mvc4 internet application which allows add some items categories.here what i've done so far.i ve datepicker mvc view script datepicker like lt script src url.content scripts jquery-1.7.1.min js type text javascript gt lt script&gt lt script src url.content scripts jquery ui-1.8.20.min js type text javascript gt lt script&gt scripts.render bundles jqueryval lt script type text javascript gt function dtitemduedate datepicker dateformat dd mm yy'mindate 0 lt script&gt my model property displayname item duedate required displayformat dataformatstring 0 dd mm yyyy applyformatineditmode true datatype datatype.datetime public datetime dtitemduedate get set public char charcompleted get set my view i've done html.textboxfor m gt m.dtitemduedate html.validationmessagefor m gt m.dtitemduedate error like field item duedate must date.the strange does work ie mozilla doesnot work chrome.i found many posts so none them helpany ideas suggestions,I solved this issue by changing from DateTime to String.This is the best solution for a good maintance that I can think at the moment.
i want go http myserver able get help pages default home page so first thing guest http myserver should see help page.i have default route set up like public static void registerroutes routecollection routes routes.ignoreroute resource axd pathinfo routes.maproute name default url controller action id defaults new controller home action index id urlparameter.optional i have my help page area registration set up like public override void registerarea arearegistrationcontext context context.maproute helppage default doc action apiid new controller help action index apiid urlparameter.optional helppageconfig.register globalconfiguration.configuration when i change routeconfig controller help i get view index its master found view engine supports searched locationswhen i change help page route controller action apiid my attributeroutes stop working.is some easy way make asp.net help pages default home page,For those who search where to add the route with the current version of the WebApi and of the NuGet package you have to search for the file named "HelpPageAreaRegistration" in the Area folder added by NuGet.Here is mine once it was coded to have the help page with WebApi has default web page.public class HelpPageAreaRegistration : AreaRegistration{public override string AreaName{get{return "HelpPage";}}public override void RegisterArea(AreaRegistrationContext context){context.MapRoute("HelpPage_Default""Help/{action}/{apiId}"new { controller = "Help" action = "Index" apiId = UrlParameter.Optional });context.MapRoute("Help Area"""new { controller = "Help" action = "Index" });HelpPageConfig.Register(GlobalConfiguration.Configuration);}}
visual studio 2012 i created asp.net mvc 4 project where target framework net framework 45 when i deployed my project web server gave following error could load file assembly system.web.http.webhost version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies system cannot find file specified.description unhandled exception occurred during execution current web request please review stack trace more information about error whereit originated code exception details system.io.filenotfoundexception could load file assembly system.web.http.webhost version 4.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies system cannot find file specified.source error version information microsoft net framework version 4.0.30319 asp.net version 4.0.30319.34237,Important: This error message can be caused because you are deploying a 4.5 project to a server that doesn't have 4.0 installed. Make sure you have the .NET Framework version installed in IIS for the project you need. Some of these DLLs by default won't copy up because it uses the core project DLL normally. Check to make sure your production server has the .NET version you're going with. I experienced this myself with a 4.5 project on a 4.0 server.
pattern bind ilist items view i seem having issues httppost i know phil haack wrote nice article dated he said might have fix mvc 4,~Controllernamespace ListBindingTest.Controllers{public class HomeController : Controller{//// GET: /Home/public ActionResult Index(){List&lt;String&gt; tmp = new List&lt;String&gt;();tmp.Add("one");tmp.Add("two");tmp.Add("Three");return View(tmp);}[HttpPost]public ActionResult Send(IList&lt;String&gt; input){return View(input);}}}~ Strongly Typed Index View@model IList&lt;String&gt;@{Layout = null;}&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta name="viewport" content="width=device-width" /&gt;&lt;title&gt;Index&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;@using(Html.BeginForm("Send" "Home" "POST")){@Html.EditorFor(x =&gt; x)&lt;br /&gt;&lt;input type="submit" value="Send" /&gt;}&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;~ Strongly Typed Send View@model IList&lt;String&gt;@{Layout = null;}&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta name="viewport" content="width=device-width" /&gt;&lt;title&gt;Send&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;@foreach(var element in @Model){@element&lt;br /&gt;}&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;This is all that you had to do man change his MyViewModel model to IList.
i have base controller class all my other controller inherits baseclass like thisall works great mvc3 test again today really works seems executecore basecontroller fired any more mvc 4 beta.any idea anything huge has changed under hood thanks very much.public class basecontroller controller private string mydata public string mydata get return mydata protected override void executecore mydata i am doing something base.executecore public class homecontroller basecontroller public actionresult index viewbag.mydata mydata doing something value baseclassreturn view,You can also use BeginExecuteCoreprotected override IAsyncResult BeginExecuteCore(AsyncCallback callback object state){return base.BeginExecuteCore(callback state);}
i have drop down list box which lists roles i want get list users having role i mean list users administrator role canedit role here my code public iqueryable&lt microsoft.aspnet.identity.entityframework.identityuser gt getrolestousers control string ddlrole ddlrole returns role id based id i want list users var db new applicationdbcontext iqueryable&lt microsoft.aspnet.identity.entityframework.identityuser gt query db.users ddlrole null query query.where e gt e.claims ddlrole.value return query please help.updated code still error public list&lt identityuserrole&gt getrolestousers control string ddlrole var rolemanager new rolemanager&lt identityrole&gt new rolestore&lt identityrole&gt new applicationdbcontext var users rolemanager.findbyname administrator users.tolist return users error select method must return one iqueryable ienumerable microsoft.aspnet.identity.entityframework.identityuser when itemtype set microsoft.aspnet.identity.entityframework.identityuser i tried various castings none them helped.update working solution thanks chris544 his idea helped me fix here working method public list&lt applicationuser&gt getrolestousers control string ddlrole var context new applicationdbcontext var users context.users.where x gt x.roles.select y gt y.roleid contains ddlrole tolist return users,Since bits like this tend to impact performance I tried the other answers posted here and looked at the SQL they generated. This seems to be the most performant way of getting all the user's email addresses currently.public void SendEmailToUsersInRole(string roleName){MailMessage message = new MailMessage();...using (var usersDB = new ApplicationDbContext()){var roleId = usersDB.Roles.First(x =&gt; x.Name == roleName).Id;IQueryable&lt;string&gt; emailQuery =usersDB.Users.Where(x =&gt; x.Roles.Any(y =&gt; y.RoleId == roleId)) .Select(x =&gt; x.Email);foreach (string email in emailQuery){message.Bcc.Add(new MailAddress(email));}}...}The SQL that it executes is shown below:SELECT TOP (1) [Extent1].[Id] AS [Id] [Extent1].[Name] AS [Name]FROM [dbo].[AspNetRoles] AS [Extent1]WHERE N'Reviewer' = [Extent1].[Name]SELECT [Extent1].[Email] AS [Email]FROM [dbo].[AspNetUsers] AS [Extent1]WHERE  EXISTS (SELECT 1 AS [C1]FROM [dbo].[AspNetUserRoles] AS [Extent2]WHERE ([Extent1].[Id] = [Extent2].[UserId]) AND ([Extent2].[RoleId] = @p__linq__0))-- p__linq__0: '3' (Type = String Size = 4000)
nb go edited 2 section summary i have asp.nt mvc 4 application i integrated twitter bootstrap it.bootstrap working perfectly icons does show correctly when i publish application.i tried republish application without success.for clarify i put some images here below.when i run my application from vs2013 result which ok booth ie chrome.but when i run published application result which ok chromeie 10 problem has somehow evaluated css i don't know which point could happening.the evaluated css local application which ok chromeiebut published application i have which ok chrome ie some has experienced behavior what can i do solve weird problem edited i get font files eot svg ttf woff included when publishing my application.when i access default page application root http localhost which page showing icons files being showed chrome developper tools network tab before including files i getting 404 errors files so i could guess continue requested even showed network tab.though icons showed correctly edited 2 well i restart my site iis 7 request start triggered file requests showed chrome developper tools network tab resquest looking files content themes fonts content themes base fonts base folder containt bootstrap folder which containt bootstrap.css file css file class referening fonts files font face font family glyphicons halflings src url fonts glyphicons halflings regular.eot src url fonts glyphicons halflings regular.eot iefix format embedded opentype url fonts glyphicons halflings regular.woff format woff url fonts glyphicons halflings regular.ttf format truetype url fonts glyphicons halflings regular.svg glyphicons halflingsregular format svg seems references fonts files good files tree i could change class font face font family glyphicons halflings src url base fonts glyphicons halflings regular.eot src url base fonts glyphicons halflings regular.eot iefix format embedded opentype url base fonts glyphicons halflings regular.woff format woff url base fonts glyphicons halflings regular.ttf format truetype url base fonts glyphicons halflings regular.svg glyphicons halflingsregular format svg i would actually know what happening how solve besides icons showed published site local site running from vs2013 iisexpress thank you advance your help,Anyone still looking for an alternate answer this method suggested on another StackOverflow answer resolves the issue. Change the Build action on the .eot .ttf &amp; .woff files to "Content" instead of the default value of "None". Doing this solved my issue.
i renamed my project would compile before when i made some changes stopped working some reasonthe error iscompiler error message cs0246 type namespace name lab4 could found you missing using directive assembly reference i made new project from template lab4 renamed lab5 following steps herehttp petermcintyre.com topics using app template asp net mvc i found source fileline 28 using lab4 line 29 line 30 source file c users albert appdata local temp temporary asp.net files root 4b806faf de1f1e7 app web index.cshtml.a8d08dba.c hu0onk.0.csline 28 when i try change using lab4 lab5 recompile same error happens file gets deleted new one gets made same lab4 issue does anyone know answer,If you renamed your project using F2/Rename in Visual Studio and you're using .NET Core also check:/Views/_ViewImports.cshtmlPerform a deep search: (Ctrl + Shift + F) and in Find what add your old namespace. Inside Look in select Current Project (Including External Items). This should show you more files that were not automatically renamed by Visual Studio. Manually rename the old namespace with the new one.Careful on blindly renaming everything!!! Not because you renamed the project it means that it also renamed the folder structure!!! There are many references with old folder structures. I strongly recommend doing the renaming gradually
i received prototype application built asp.net mvc4 currently replacing default controller factory custom one using ninject servicelocator all.the problem replacing default controller factory requests js files being treated legit request controller action.so looking default template create visual studio route configuration looks like public static void registerroutes routecollection routes routes.ignoreroute resource axd pathinfo routes.maproute name default url controller action id defaults new controller home action index id urlparameter.optional after looking i'm asking myself how come request scripts jquery.js does get interpreted asp.net mvc i mean why doesn't think script controller jquery.js action because project works i disable controller factory override i can only assume default factory responsible kind check would mean scripts jquery.js indeed passed controller factory which something i didn't really know.could anyone shed some light what kind treatment should one do when overriding controller factory avoid problems,It's not because of how MVC handles the request to jquery.js it's because of the way IIS handles the request to jquery.js. IIS assumes that resources such as .js .jpg etc are all static resources and thus doesn't need to pass them through the ASP.NET engine. In order to to prevent this from occurring you can add a line to the web.config for a path that you want IIS to leave alone. &lt;system.webserver&gt;&lt;handlers&gt;&lt;add name="scripts" path="/Scripts/*" verb="GET" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedModeruntimeVersionv4.0"/&gt;&lt;/handlers&gt;&lt;/system.webserver&gt;Adding something like that should allow your JS files to be served via ASP.NET and not directly through IIS.
i have problem using mvc4 bundling together tinymce i get error get http localhost 54717/admin edittext langs da.js 404 found site 1get http localhost 54717/admin edittext plugins lists editor plugin.js 404 found site 1get http localhost 54717/admin edittext plugins autolink editor plugin.js 404 found site 1get http localhost 54717/admin edittext themes advanced editor template.js 404 found site 1get http localhost 54717/admin edittext plugins spellchecker editor plugin.js 404 found site 1get http localhost 54717/admin edittext plugins pagebreak editor plugin.js 404 found site 1get http localhost 54717/admin edittext plugins style editor plugin.js 404 found site 1get http localhost 54717/admin edittext plugins table editor plugin.js 404 found site 1get http localhost 54717/admin edittext plugins layer editor plugin.js 404 found site 1get http localhost 54717/admin edittext plugins save editor plugin.js 404 found failed load http localhost 54717/admin edittext langs da.js code looks like bundleconfig.cs bundles.add new scriptbundle scripts site include scripts jquery-1.9.1.js scripts tinymce tiny mce.js scripts jquery ui-1.10.1.js scripts jquery.ui.slider.js scripts oline.base.js scripts validate language jquery.validationengine da.js scripts validate jquery.validationengine.js scripts jquery.ui.effect blind.js scripts jquery.placeholder.min.js bundletable.enableoptimizations true layout scripts.render scripts site i remove tiny mce.js form bundling place like so lt script src scripts tinymce tiny mce.js gt lt script&gt works just fine because i need override automatic loading tinymce place do manually,In my case i do the following to resolve :Ignore the bundling and reference directely the minified version of the plugin.@section scripts{@Scripts.Render("~/bundles/ajax")@Scripts.Render("~/bundles/jqueryval")&lt;script src="~/Scripts/tinymce/tinymce.min.js"&gt;&lt;/script&gt;}
i have property my view model follows editable false display name date displayformat dataformatstring 0 yyyy mm dd applyformatineditmode true public datetime movementdate get set yet markup&lt td&gt html.displayfor modelitem gt item.movementdate lt td&gt renders date value 2013/05/15 12 00 00 am.what am i doing wrong my model public class withdatemodel displayformat dataformatstring 0 yyyy mm dd public datetime thedate get set public withdatemodel thedate datetime.now my view model parkpay.webtests.models.withdatemodel@html.displayfor m gt m.thedate section scripts scripts.render bundles jqueryval what gets rendered 2013/05/25 02 23 37 am,In my case a teammate had defined a global display template (aka ~\Views\Shared\DisplayTemplates\DateTime.cshtml) that I didn't realize took precedence over my [DisplayFormat(DataFormatString = "{0:yyyy-MM-dd}")] on my model property.The solution was to move my format string to new shared template so the attribute changes to:// see ~\Views\Shared\DisplayTemplates\DateMyFormat.cshtml for formatting[UIHint("DateMyFormat")]public DateTime MovementDate { get; set; }
i have css statements like margin left calc 50 480px which work fine unminified soon i begin minifying statement gets changed margin left calc 50 480px rendering all calc statements broken similar things happen width max width min width etc any way i can change behavior bundle leave those css properties alone currently i'm just using bundles.add new bundle prevent minification entirely would nice i could minify correctly,Beware of using variables in calc. You can end up with another CssMinify() bug:@myVariable: 0em;margin-left: calc((50%) - @myVariable);is compressed and unit is cut off:margin-left: calc((50%) - 0);and it is not valid calc() call too!
i've decided use web api middle tier app i'm developing can't seem figure out how tie front end front end being asp.net mvc4 project normally i would just right click services front end choose add service reference put url my service web api i can't do what some options creating client proxy class off my web api used my front end why doesn't web api support being added reference same way wcf asmx added,There's a generic WebAPI client to be found here:https://github.com/CamSoper/CamTheGeekIt's not a proxy as requested but it does fill the gap.Here's the source code:using System;using System.Collections.Generic;using System.Configuration;using System.Linq;using System.Net;using System.Net.Http;using System.Web;namespace CamTheGeek{public class GenericWebApiClient&lt;T&gt; : IDisposable where T : class{HttpClient client = new HttpClient();Uri ServiceBaseUri;public GenericWebApiClient(Uri ServiceUri){if(ServiceUri == null){throw new UriFormatException("A valid URI is required.");}ServiceBaseUri = ServiceUri;}public List&lt;T&gt; GetAll(){var response = client.GetAsync(ServiceBaseUri).Result;if(response.IsSuccessStatusCode){return response.Content.ReadAsAsync&lt;List&lt;T&gt;&gt;().Result as List&lt;T&gt;;}else if (response.StatusCode != HttpStatusCode.NotFound){throw new InvalidOperationException("Get failed with " + response.StatusCode.ToString());}return null;}public T GetById&lt;I&gt;(I Id){if (Id == null)return default(T);var response = client.GetAsync(ServiceBaseUri.AddSegment(Id.ToString())).Result;if (response.IsSuccessStatusCode){return response.Content.ReadAsAsync&lt;T&gt;().Result as T;}else if (response.StatusCode != HttpStatusCode.NotFound){throw new InvalidOperationException("Get failed with " + response.StatusCode.ToString());}return null;}public void Edit&lt;I&gt;(T t I Id){var response = client.PutAsJsonAsync(ServiceBaseUri.AddSegment(Id.ToString()) t).Result;if (!response.IsSuccessStatusCode)throw new InvalidOperationException("Edit failed with " + response.StatusCode.ToString());}public void Delete&lt;I&gt;(I Id){var response = client.DeleteAsync(ServiceBaseUri.AddSegment(Id.ToString())).Result;if (!response.IsSuccessStatusCode)throw new InvalidOperationException("Delete failed with " + response.StatusCode.ToString());}public void Create(T t){var response = client.PostAsJsonAsync(ServiceBaseUri t).Result;if (!response.IsSuccessStatusCode)throw new InvalidOperationException("Create failed with " + response.StatusCode.ToString());}public void Dispose(bool disposing){if (disposing){client = null;ServiceBaseUri = null;}}public void Dispose(){this.Dispose(false);GC.SuppressFinalize(this);}~GenericWebApiClient(){this.Dispose(false);}}static class UriExtensions{public static Uri AddSegment(this Uri OriginalUri string Segment){UriBuilder ub = new UriBuilder(OriginalUri);ub.Path = ub.Path + ((ub.Path.EndsWith("/")) ? "" : "/") + Segment;return ub.Uri;}}}
i'm implementing web api 2 service architecture my net web application client consuming requests pure javascript mvc aspnet i'm using owin try enable token authentication per article owin bearer token authentication web api sample i seem missing something authentication step after its authorized.my login looks like httppost allowanonymous route api account login public httpresponsemessage login loginbindingmodel login todo add authif login.username a@a.com amp amp login.password var identity new claimsidentity startup.oauthbeareroptions.authenticationtype identity.addclaim new claim claimtypes.name login.username authenticationticket ticket new authenticationticket identity new authenticationproperties var currentutc new systemclock utcnow ticket.properties.issuedutc currentutc ticket.properties.expiresutc currentutc.add timespan.fromminutes 30 defaultrequestheaders.authorization new authenticationheadervalue bearer accesstoken return new httpresponsemessage httpstatuscode.ok content new objectcontent&lt object&gt new username login.usernameaccesstoken startup.oauthbeareroptions.accesstokenformat.protect ticket configuration.formatters.jsonformatter return new httpresponsemessage httpstatuscode.badrequest returns accesstoken tsjw9rh1zgu9cjvwzd_3a855gmjy6vbkit4yq8ecbnu1-pszna ilukp3uw88rsumjq7hotklc78adh3uha3o7zd2ne2pzilg4t3kdldjjo41gequbg2nsm3zbhw7uzi8vmdsgece8ryuqj1xqbzzvv90zjos4nfngchhen3powr6cdud8yr3vbldznxoyjiiucf3_xlhggrxuogkbsq username a@a.com i try set http header bearer further requests angularjs like http.defaults.headers.common.bearer response.accesstoken api like httpget route api account profile authorize public httpresponsemessage profile return new httpresponsemessage httpstatuscode.ok content new objectcontent&lt object&gt new username user.identity.name configuration.formatters.jsonformatter matter what i do service unauthorized am i missing something here,You can configure it with your angular application module. So authorization token will be set as header for every http request.var app = angular.module("app" ["ngRoute"]);app.run(function ($http) { $http.defaults.headers.common.Authorization = 'Bearer ' + token.accessToken;});
we developed asp.net mvc 4 application vs 2012 work fine we publish web application putting iis 7.5 when we want browse web application through iis error message show http error 403.14 forbiddenthe web server configured list contents directory.we think error may from web application we create another asp.net mvc 4 application without any change internet template putting iis again top error show us.we search internet see more poeples problem happened their.for example 403 forbidden basic mvc 3 deploy iis7.5 link introduce idea solve problem assume problem solved poeple solution work me.another links we say includes https stackoverflow.com questions/6885509/http error-403-14 forbiddenand http yassershaikh.com http error-403-14 forbidden web server configured list contents directory solutions work meany idea solve problem,In my case Default Web Site was mapped to a different application. When I was trying to access my app inside Default Web Site I got the 403.14 error.The solution was to remap Default Web Site to default C:\inetpub\wwwroot.
i would like use custom html.actionlinki am trying use following code public static class linkextensions public static mvchtmlstring myactionlink htmlhelper htmlhelper string linktext string action string controller var currentaction htmlhelper.viewcontext.routedata.getrequiredstring action var currentcontroller mlhelper.viewcontext.routedata.getrequiredstring controller action currentaction amp amp controller currentcontroller var anchor new tagbuilder anchor.attributes href anchor.addcssclass currentpagecss anchor.setinnertext linktext return mvchtmlstring.create anchor.tostring return htmlhelper.actionlink linktext action controller from custom actionlink helper knows what page you 39 re onbut i am getting system.web.mvc.htmlhelper does contain definition actionlink extension method actionlink accepting first argument type system.web.mvc.htmlhelper could found you missing using directive assembly reference,If your using nopcommerce add this using statement at the top of your view file.@using Nop.Web.Framework.UI
i have mvc 4 view where i render following actions html.renderaction index logo html.renderaction index mainmenu i have form my view which filled out posted controller controller i perform some tasks send model back my view httppost public actionresult index manageadministratormodel manageadministratormodel i save some fields database here return view manageadministratormodel when i'm redirected view i receive following error error executing child request handler system.web.mvc.httphandlerutil serverexecutehttphandlerasyncwrapper linehtml.renderaction index logo any idea why happening,This happened to me because I was calling the view from different areas.The view I wanted to call was not within an area so when calling it from outside of all areas a call like@Html.RenderAction("Index" "Logo");would work without problems.But when I wanted that same view called from another view that was inside an area I would have to add some additional information to the call to make it explicit:@Html.RenderAction("Index" "Logo" new { area = "" });
i can't make websecurity object work anywhere except what already been generated accountcontroller.cs file account controller has initializesimplemembership attribute set top login functions don't complain about calling websecurity.login example i added child action accountcontroller childactiononly allowanonymous public actionresult navbar navbarviewmodel viewmodel new navbarviewmodel viewmodel.linkitems new list&lt navbarlinkitem&gt request.isauthenticated simpleroleprovider roleprovider new simpleroleprovider roleprovider.isuserinrole user.identity.name user viewmodel.linkitems.add new navbarlinkitem title create project action create controller project viewmodel.linkitems.add new navbarlinkitem title help action index controller help return partialview navbar viewmodel left code crashes roleprovider.isuserinrole user.identity.name user line subject error message so i go initialzesimplemembershipattribute.cs file copy paste line top my function websecurity.initializedatabaseconnection defaultconnection userprofile userid username autocreatetables true get error message websecurity.initializedatabaseconnection should only called once makes sense because attribute top controller definition should've called function already seems does just fine so safe i change above call websecurity.initialized websecurity.initializedatabaseconnection defaultconnection userprofile userid username autocreatetables true get back original error message websecurity.initializedatabaseconnection should called before blah blah blah any insight madness would greatly appreciated,In my case I had to disable Anonymous Authentication within the IIS Authentication setting.Then I had to enable Forms and Windows Authentication. This will of course depend on whichever authentication you require for your app.Once I did that the error went away and the app worked as expected.
my web application i am validating url from glabal.asax i want validate url need redirect action needed i am using application beginrequest catch request event protected void application beginrequest object sender eventargs e product registered redirect user product registraion page.if application applicationvarinfo.productnotregistered null how redirect action action registercontroller product any other way validate each url while getting requests mvc redirect action needed,I had an old web forms application I had to convert to MVC 5 and one of the requirements was supporting possible {old_form}.aspx links.  In Global.asax Application_BeginRequest I set up a switch statement to handle old pages to redirect to the new ones and to avoid the possible undesired looping to the home/default route check for ".aspx" in the request's raw URL.protected void Application_BeginRequest(object sender EventArgs e){OldPageToNewPageRoutes();}/// &lt;summary&gt;/// Provide redirects to new view in case someone has outdated link to .aspx pages/// &lt;/summary&gt;private void OldPageToNewPageRoutes(){// Ignore if not Web Form:if (!Request.RawUrl.ToLower().Contains(".aspx"))return;// Clean up any ending slasshes to get to the old web forms file name in switch's last index of "/":var removeTrailingSlash = VirtualPathUtility.RemoveTrailingSlash(Request.RawUrl);var sFullPath = !string.IsNullOrEmpty(removeTrailingSlash)? removeTrailingSlash.ToLower(): Request.RawUrl.ToLower();var sSlashPath = sFullPath;switch (sSlashPath.Split(Convert.ToChar("/")).Last().ToLower()){case "default.aspx":Response.RedirectToRoute(new RouteValueDictionary{{"Controller" "Home"}{"Action" "Index"}});break;default:// Redirect to 404:Response.RedirectToRoute(new RouteValueDictionary{{"Controller" "Error"}{"Action" "NotFound"}});break;}}
i need know how create custom imodelbinder mvc 4 has been changed.the new method has implemented bool bindmodel httpactioncontext actioncontext modelbindingcontext bindingcontext,A post RC update to Todd's post:Adding your model binder provider has been simplified:var configuration = GlobalConfiguration.Configuration;configuration.Services.Add(typeof(ModelBinderProvider) new YourModelBinderProvider());
i have couple properties my view model display only i need retrieve values using jquery perform calculation page standard html.displayfor method just writes value page i want create razor template allow me render each element lt span id elementsid gt element value&lt span&gt i know i can specify template html.displayfor use particular template rendering property within template how do i identify id attribute write span tag html.displayfor model gt model.element mytemplate,The best way to build a display template that will output the following:&lt;span id="ElementsId"&gt;Element's value&lt;/span&gt;Would be this:&lt;span id="@Html.IdForModel()"&gt;@Html.DisplayTextFor(m =&gt; m)&lt;/span&gt;These helpers may not have existed when this question was first posted but this builds on David's answer in two ways:Using @Html.DisplayTextFor(m =&gt; m) instead of @Model will still utilize data annotations while rendering the value instead of just essentially running ToString() on it.Using @Html.IdForModel() instead of @ViewData.ModelMetadata.PropertyName would be preferable in cases where the model is nested or repeated and the ID is not going to simply be the property name.
i have added button my view when button clicked partial view added my form i can add much partial view i can when submitting form data i am unable send all partial view data controller i have made different model having all attributes i have made list model my main model can anyone please give me some trick so i can send all partial view content my controller my view&lt div id csqgroup gt lt div&gt lt div&gt lt input type button value add field id addfield onclick addfieldss gt lt div&gt function addfieldss ajax url url.content adminproduct getcolorsizeqty type get'success function result var newdiv document.createelement div attr id csq mycounter newdiv.html result newdiv.appendto csqgroup mycounter error function result alert failure my controllerpublic actionresult getcolorsizeqty var data new adminproductdetailmodel data.colorlist commoncore.getalltypeoflist color data.sizelist commoncore.getalltypeoflist size return partialview data httppost public actionresult adddetail adminproductdetailmodel model my partial view@model ikle.model.productmodel.adminproductdetailmodel lt div class editor field gt html.labelfor model gt model.fkconfigchoicecategorysizeid html.dropdownlistfor model gt model.fkconfigchoicecategorysizeid model.sizelist select size html.validationmessagefor model gt model.fkconfigchoicecategorysizeid lt div&gt lt div class editor field gt html.labelfor model gt model.fkconfigchoicecategorycolorid html.dropdownlistfor model gt model.fkconfigchoicecategorycolorid model.colorlist select color html.validationmessagefor model gt model.fkconfigchoicecategorycolorid lt div&gt lt div class editor field gt html.labelfor model gt model.producttotalquantity html.textboxfor model gt model.producttotalquantity html.validationmessagefor model gt model.producttotalquantity lt div&gt,Your problem is that the partial renders html based on a single AdminProductDetailModel object yet you are trying to post back a collection. When you dynamically add a new object you continue to add duplicate controls that look like &lt;input name="productTotalQuantity" ..&gt; (this is also creating invalid html because of the duplicate id attributes) where as they need to be &lt;input name="[0].productTotalQuantity" ..&gt; &lt;input name="[1].productTotalQuantity" ..&gt; etc. in order to bind to a collection on post back.The DefaultModelBinder required that the indexer for collection items start at zero and be consecutive or that the form values include a Index=someValue where the indexer is someValue (for example &lt;input name="[ABC].productTotalQuantity" ..&gt;&lt;input name="Index" value="ABC"&gt;. This is explained in detail in Phil Haack's article Model Binding To A List. Using the Index approach is generally better because it also allows you to delete items from the list (otherwise it would be necessary to rename all existing controls so the indexer is consecutive).Two possible approaches to your issue.Option 1Use the BeginItemCollection helper for your partial view. This helper will render a hidden input for the Index value based on a GUID. You need this in both the partial view and the loop where you render existing items. Your partial would look something like@model IKLE.Model.ProductModel.AdminProductDetailModel@using(Html.BeginCollectionItem()) {  &lt;div class="editor-field"&gt;@Html.LabelFor(model =&gt; model.fkConfigChoiceCategorySizeId)@Html.DropDownListFor(model =&gt; model.fkConfigChoiceCategorySizeId Model.sizeList "--Select Size--")@Html.ValidationMessageFor(model =&gt; model.fkConfigChoiceCategorySizeId)  &lt;/div&gt;  ....}Option 2Manually create the html elements representing a new object with a 'fake' indexer place them in a hidden container then in the Add button event clone the html update the indexers and Index value and append the cloned elements to the DOM. To make sure the html is correct create one default object in a for loop and inspect the html it generates. An example of this approach is shown in this answer&lt;div id="newItem" style="display:none"&gt;  &lt;div class="editor-field"&gt;&lt;label for="_#__productTotalQuantity"&gt;Quantity&lt;/label&gt;&lt;input type="text" id="_#__productTotalQuantity" name="[#].productTotalQuantity" value /&gt;....  &lt;/div&gt;  // more properties of your model&lt;/div&gt;Note the use of a 'fake' indexer to prevent this one being bound on post back ('#' and '%' wont match up so they are ignored by the DefaultModelBinder)$('#addField').click(function() {  var index = (new Date()).getTime();   var clone = $('#NewItem').clone();  // Update the indexer and Index value of the clone  clone.html($(clone).html().replace(/\[#\]/g '[' + index + ']'));  clone.html($(clone).html().replace(/"%"/g '"' + index  + '"'));  $('#yourContainer').append(clone.html());}The advantage of option 1 is that you are strongly typing the view to your model but it means making a call to the server each time you add a new item. The advantage of option 2 is that its all done client side but if you make any changes to you model (e.g. add a validation attribute to a property) then you also need to manually update the html making maintenance a bit harder.Finally if you are using client side validation (jquery-validate-unobtrusive.js) then you need re-parse the validator each time you add new elements to the DOM as explained in this answer.$('form').data('validator' null);$.validator.unobtrusive.parse($('form'));And of course you need to change you POST method to accept a collection[HttpPost]public ActionResult AddDetail(IEnumerable&lt;AdminProductDetailModel&gt; model){  ....}
i have web.config file compilation option set belowweb.config lt configuration&gt lt system.web gt lt compilation debug true targetframework 4.5 gt lt system.web gt lt configuration&gt here what visual studio puts release mode default.web.release.config lt configuration xmlns xdt http schemas.microsoft.com xml document transform gt lt system.web gt lt compilation xdt transform removeattributes debug gt lt system.web gt lt configuration&gt i am using mvc4 project based tutorial i expecting minified versions js css would served when application run under release mode doesn't seem working non minified versions js css being served other hand i explicitly set debug false web.config min versions served correctly seems like compilation tag transform issue when application run under release mode i don't understand what wrong same web.release.config.in short i am unable get bundling minification working running application under release mode,Removing debug attribute is sufficient RemoveAttributes(debug).  It will work similar to debug=false.
i am using data annotations model validation mvc4 am currently using stringlengthattribute however i do want specify maximum value currently set 50 do want specify minimum string length value.is way only specify only minimum length perhaps another attribute i can use my current code required datatype datatype.password display name confirm new password stringlength 50 minimumlength 7 compareattribute newpassword errormessage new password confirm new password fields did match public string confirmnewpassword get set any help much appreciated,Nice work FrancoisIt seems you cannot use data annotations to emit a maxlength attribute on the input field. It just provides client-side validation.Using maxlength with HTML attributes created the input field with the maxlength set correctly.@Html.EditorFor(model =&gt; model.Audit_Document_Action new { htmlAttributes = new { @class = "form-control" @maxlength = "10" } })
i am having trouble getting asp.net mvc 4 running iis 6.first i got directory listing denied already solved after i setup extensionless urls based phil haack blog post asp.net mvc iis 6 walkthrough now i'm getting page cannot found 404 page.it s simple asp.net web api project mvc 4 beta,Most of the time the usual configuration worked for me (wildcard map uncheck verify...) but it stopped working recently on one Windows 2003 server. I discovered that the previous "Publish..." was done with "precompile" option which resulted in the App_global.asax.dll and .compiled files in /bin. They were later deleted by mistake during some incremental manual deployment and the Web Api routes were no longer being registered. I copied the old bin/App_global.* files to server and it worked again.I also found that to achieve the same effect you can delete the /PrecompiledApp.config file and make sure the /global.asax exists
i can use package manager run update database verbose locally.probably stupid question i can't find online once my website deployed how can i run manually server secondarily what other strategies would you recommend deploying database migrations production how would preferable thanks,just to give everyone the simple answer.This is the "Update-Database"In your Migrations folder Configuration.cs:internal sealed class Configuration : DbMigrationsConfiguration&lt;projectname.Models.dbContext&gt;{public Configuration(){AutomaticMigrationsEnabled = true;AutomaticMigrationDataLossAllowed = true; // Update-Data -Force (deletes columns etc)}And to "Enable migrations" in the first place on a remote server add this to your Global.asax.cs file:protected void Application_Start(){....System.Data.Entity.Database.SetInitializer(new MigrateDatabaseToLatestVersion&lt;dbContext Migrations.Configuration&gt;());
some reason request.createresponse now red vs2012 when i hover over usage ide says cannot resolve symbol createresponse'here apicontroller class using system using system.collections.generic using system.linq using system.net using system.net.http using system.web.http using system.web.http.filters using gocapi.attributes using gocapi.models using gocapi.models.abstract using attributerouting using attributerouting.web.http namespace gocapi.controllers routeprefix courses public class coursescontroller apicontroller private icoursesrepository coursesrepository get set public coursescontroller icoursesrepository coursesrepository coursesrepository coursesrepository get id public httpresponsemessage get int id var course coursesrepository.getsingle id course null return request.createresponse httpstatuscode.notfound invalid id return request.createresponse httpstatuscode.ok course granted code does compile works just really annoying seeing all red my screen also intellisense doesn't work now when i type requestcreateresponse also used work i started developing other parts my api just came back building controllers so i do know what happened.any thoughts,Add a reference to System.Web.Http to the project. Then add Using System.Web to the top of the cs file.
i'm using following approach upload files through asp.net web api controllers system.web.http.httppost public httpresponsemessage uploadfile httpresponsemessage response try int id 0 int qid null int.tryparse httpcontext.current.request.form id out id qid id var file httpcontext.current.request.files 0 int filepursuitid bl.uploadfile qid file catch exception ex return response my unit tests i've created httpcontext class manually before calling uploadfile action var request new httprequest http localhost var context new httpcontext request new httpresponse new stringwriter httpcontext.current context response controller.uploadfile unfortunately i wasn't able add custom values form collection since read only also i couldn't change files collection.is any way add custom values form files properties request add needed data id file content during unit test,Since you have no control over those classes why not wrap/abstract the functionality behind one do controlIRequestService request;[HttpPost]public HttpResponseMessage UploadFile() {HttpResponseMessage response;try {int id = 0;int? qId = null;if (int.TryParse(request.GetFormValue("id") out id)) {qId = id;}var file = request.GetFile(0);int filePursuitId = bl.UploadFile(qId file);} catch (Exception ex) {//...}return response;}Where request is one of your custom defined types IRequestServicepublic interface IRequestService {string GetFormValue(string key);HttpPostedFileBase GetFile(int index);//...other functionality you may need to abstract}and can be implemented like this to be injected into your controllerpublic class RequestService : IRequestService {public string GetFormValue(string key) {return HttpContext.Current.Request.Form[key];}public HttpPostedFileBase GetFile(int index) {return new HttpPostedFileWrapper(HttpContext.Current.Request.Files[index]);}}in your unit testvar requestMock = new Mock&lt;IRequestService&gt;();//you then setup the mock to return your fake data//...//and then inject it into your controllervar controller = new MyController(requestMock.Object);//Actresponse = controller.UploadFile();
hi i am new mvc even asp i want create form mvc help some examples i am able create textboxes i now i don't understand how create select list i tried searching many examples implementing select list mvc i am able understand.i have form which half coded html half mvc.here my code using system using system.collections.generic using system.linq using system.web namespace medavail.applications.medprovision.web.models public class addressviewmodel public string street1 get set public string street2 get set public string city get set public string province get set public string country get set public string postalcode get set public string phonenumber get set lt form id locationinfo gt lt h1 gt location information&lt h1 gt lt table width 80 id locinfo gt lt colgroup&gt lt col width 20 gt lt col gt lt colgroup&gt lt tr&gt lt th&gt html.label country lt th&gt lt td&gt lt select required gt lt option&gt select country&lt option&gt lt option&gt canada&lt option&gt lt option&gt united states&lt option&gt lt select&gt lt span class required gt lt span&gt lt td&gt lt tr&gt lt tr&gt lt th&gt html.labelfor x gt x.state lt th&gt lt td&gt lt select required gt lt option&gt select state&lt option&gt lt option&gt state 1 lt option&gt lt option&gt state 2 lt option&gt lt option&gt state 3 lt option&gt lt select&gt lt span class required gt lt span&gt lt td&gt lt tr&gt lt tr&gt lt th&gt html.labelfor x gt x.postalcode lt th&gt lt td&gt html.textboxfor x gt x.postalcode lt span class required gt lt span&gt lt td&gt lt tr&gt lt tr&gt lt th&gt html.labelfor x gt x.city lt th&gt lt td&gt html.textboxfor x gt x.city lt span class required gt lt span&gt lt td&gt lt tr&gt lt tr&gt lt th&gt html.labelfor x gt x.streetaddress1 lt th&gt lt td&gt html.textboxfor x gt x.streetaddress1 lt span class required gt lt span&gt lt td&gt lt tr&gt lt tr&gt lt th&gt html.labelfor x gt x.streetaddress2 lt th&gt lt td&gt html.textboxfor x gt x.streetaddress2 lt td&gt lt tr&gt lt tr&gt lt th&gt html.labelfor x gt x.phonenumber lt th&gt lt td&gt html.textboxfor x gt x.phonenumber lt td&gt lt tr&gt lt table&gt lt div role button class margintop50 marginbottom gt lt input type button id step3back value back class active gt lt input type button id step3confirmnext value next class active marginleft50 gt lt div&gt lt form&gt please guide me how create select list kind form,I too liked Jordan's answer and implemented it myself.  I only needed to abbreviations so in case someone else needs the same:public static IEnumerable&lt;SelectListItem&gt; GetStatesList(){IList&lt;SelectListItem&gt; states = new List&lt;SelectListItem&gt;{new SelectListItem() {Text="AL" Value="AL"}new SelectListItem() { Text="AK" Value="AK"}new SelectListItem() { Text="AZ" Value="AZ"}new SelectListItem() { Text="AR" Value="AR"}new SelectListItem() { Text="CA" Value="CA"}new SelectListItem() { Text="CO" Value="CO"}new SelectListItem() { Text="CT" Value="CT"}new SelectListItem() { Text="DC" Value="DC"}new SelectListItem() { Text="DE" Value="DE"}new SelectListItem() { Text="FL" Value="FL"}new SelectListItem() { Text="GA" Value="GA"}new SelectListItem() { Text="HI" Value="HI"}new SelectListItem() { Text="ID" Value="ID"}new SelectListItem() { Text="IL" Value="IL"}new SelectListItem() { Text="IN" Value="IN"}new SelectListItem() { Text="IA" Value="IA"}new SelectListItem() { Text="KS" Value="KS"}new SelectListItem() { Text="KY" Value="KY"}new SelectListItem() { Text="LA" Value="LA"}new SelectListItem() { Text="ME" Value="ME"}new SelectListItem() { Text="MD" Value="MD"}new SelectListItem() { Text="MA" Value="MA"}new SelectListItem() { Text="MI" Value="MI"}new SelectListItem() { Text="MN" Value="MN"}new SelectListItem() { Text="MS" Value="MS"}new SelectListItem() { Text="MO" Value="MO"}new SelectListItem() { Text="MT" Value="MT"}new SelectListItem() { Text="NE" Value="NE"}new SelectListItem() { Text="NV" Value="NV"}new SelectListItem() { Text="NH" Value="NH"}new SelectListItem() { Text="NJ" Value="NJ"}new SelectListItem() { Text="NM" Value="NM"}new SelectListItem() { Text="NY" Value="NY"}new SelectListItem() { Text="NC" Value="NC"}new SelectListItem() { Text="ND" Value="ND"}new SelectListItem() { Text="OH" Value="OH"}new SelectListItem() { Text="OK" Value="OK"}new SelectListItem() { Text="OR" Value="OR"}new SelectListItem() { Text="PA" Value="PA"}new SelectListItem() { Text="PR" Value="PR"}new SelectListItem() { Text="RI" Value="RI"}new SelectListItem() { Text="SC" Value="SC"}new SelectListItem() { Text="SD" Value="SD"}new SelectListItem() { Text="TN" Value="TN"}new SelectListItem() { Text="TX" Value="TX"}new SelectListItem() { Text="UT" Value="UT"}new SelectListItem() { Text="VT" Value="VT"}new SelectListItem() { Text="VA" Value="VA"}new SelectListItem() { Text="WA" Value="WA"}new SelectListItem() { Text="WV" Value="WV"}new SelectListItem() { Text="WI" Value="WI"}new SelectListItem() { Text="WY" Value="WY"}};return states;}
my project global.asax file removed i want add global.asax file my projet.but add new item dialog global.asax exist,Any problem doing this: Create a new empty project and get it from there (drag-and-drop from Windows Explorer to Visual Studio works fine) or Add say aspx page or any item then rename accordingly (to get the code behind file add and rename another item); in this case they'll obviously be empty.
my web.config file i have&lt appsettings&gt lt add key service1url1 value http managementservice.svc gt lt add key service1url2 value http managementsettingsservice.svc hostinstances gt lots keys like above&lt appsettings&gt i want get value key starts service1url pass value string repositoryurls my c class how can i achieve i tried something like couldn't grab values foreach string key configurationmanager.appsettings key.startswith service1url string value configurationmanager.appsettings key string repositoryurls value either i am doing wrong way missing something here any help would really appreciated,I defined a class to hold the variables I am interested in and iterate through the properties and look for something in the app.config to match.Then I can consume the instance as I wish.Thoughts?public static ConfigurationSettings SetConfigurationSettings{ConfigurationSettings configurationsettings = new   ConfigurationSettings();{foreach (var prop in  configurationsettings.GetType().GetProperties()){string property = (prop.Name.ToString());string value = ConfigurationManager.AppSettings[property];PropertyInfo propertyInfo = configurationsettings.GetType().GetProperty(prop.Name);propertyInfo.SetValue(configurationsettings value null);}}return configurationsettings; }
question already has answer here how do i get asp.net web api return json instead xml using chrome 29 answersi read default web api return json data some reason when creating api returns xml instead json.public class currencycontroller apicontroller private companydatabasecontext db new companydatabasecontext get api currencypublic ienumerable&lt currency&gt getcurrencies return db.currencies.asenumerable i haven't modified anything out ordinary so i'm stumped,Web Api looks for the headers of the upcoming request to choose the returning data type. For instance if you set Accept:application/json it will automatically set the returning type to JSON. Besides that setting content-type gives a clue to Web-API about upcoming request data type. So if you want to post JSON data to Web API you should have Content-Type:application/json in header.
i'd like execute piece javascript when certain condition true my view model lt script type text javascript gt model.employees.count gt 1 executejsfunction lt script&gt code doesn't compile how should i do,In case if you don't want to even render the java script based on some condition define a section in your layout html&lt;html&gt; &lt;body&gt; @RenderSection("xyz" required: false) &lt;/body&gt; &lt;/html&gt;in your view @if (Model.Condition){   @section xyz{  &lt;script&gt;$(function () { // Your Javascript });&lt;/script&gt;   }}In my case I don't want to expose my Javascript if that feature is not enabled also it'll reduce the size of the page 
preface feb 2015 you still using entity framework edmx please do yourself favor checkout using entity framework code first instead difference your tables created from your model classes rather than edmx where your model classes created your tables all around easier solution problem question doesn't even exist getting started entity framework 6 code first using mvc 5i have existing sql database i am using ado.net enity data model model i am trying build some crud features my mvc application.in all tutorials i have found subject build model from scratch add attributes model class example required stringlength 10 public string name get set however model classes auto generated so i think changing them bad idea get written over anyway database model refreshed how would i add validation attributes,There is a variation of the suggested answers here that allows you to use classes in different assemblies and namespaces. I haven't actually tested it with EF but I am using this for Swagger codegen API model classes.In a nutshell: inherit from the model class and add metadata on the inherited class. An added benefit is that with Swagger codegen you can use the API model directly without mapping and for initial forms you can use the protected default ctor.[MetadataType(typeof(LocalAssemblyModelMetadata))]public class LocalAssemblyModel : IO.Swagger.Model.OtherAssemblyModel {public LocalAssemblyModel() : base () { }}public sealed class LocalAssemblyModelMetadata{[Required(ErrorMessage = "BaseclassProperty is mandatory.")]public string BaseclassProperty { get; set; }}
i have basic form which i want handle buttons inside form calling actionresult method view associated controller class here following html5 code form lt h2 gt welcome&lt h2 gt lt div&gt lt h3 gt login&lt h3 gt lt form method post action lt what goes here gt gt username lt input type text name username gt lt br gt password lt input type text name password gt lt br gt lt input type submit value login gt lt input type submit value create account gt lt form&gt lt div&gt lt more code gt corresponding controller code following httppost public actionresult myaction string input formcollection collection switch input case login do some stuff break case create account do some other stuff break return view,Here I'm basically wrapping a button in a link. The advantage is that you can post to different action methods in the same form. &lt;a href="Controller/ActionMethod"&gt;&lt;input type="button" value="Click Me" /&gt;&lt;/a&gt;Adding parameters:&lt;a href="Controller/ActionMethod?userName=ted"&gt;&lt;input type="button" value="Click Me" /&gt;&lt;/a&gt;Adding parameters from a non-enumerated Model:&lt;a href="Controller/ActionMethod?userName=@Model.UserName"&gt;&lt;input type="button" value="Click Me" /&gt;&lt;/a&gt;You can do the same for an enumerated Model too. You would just have to reference a single entity first. Happy Coding!
how minify javascript inside view page script block minimal effort i have some page specific scripts would like put specific view pages asp.net mvc4 bundling minification only works script files script code inside view page.updatei took sohnee advice extract scripts files i need use them specific pages so what i end up doing layout page i created optional section page specific javascript block rendersection js required false lt body&gt view page let say index.cshtml i render script section like section js scripts.render bundles js path.getfilenamewithoutextension this.virtualpath you can see assumes javascript filename index.js same view page name index.cshtml bundle config i have var jsfiles directory.getfiles httpcontext.current.server.mappath scripts pages js foreach var jsfile jsfiles var bundlename path.getfilenamewithoutextension jsfile bundles.add new scriptbundle bundles js bundlename include scripts pages path.getfilename jsfile you index page html output lt script src bundles js index v ydlmxiub9gtrm508o0saicc8ljwgpvk-v9iuqwxzgcg1 gt lt script&gt lt body&gt you products page html output lt script src bundles js products v ydlmxiub9gtrm508o0saicc8ljwgpvk-v9iuqwxzgcg1 gt lt script&gt lt body&gt,Adding in an answer for ASP.NET MVC Core. The solution I used to minify inline JS and razor generated html was WebMarkupMin.It ultimately boiled down to adding these two minuscule changes to my project:public void Configure(IApplicationBuilder app)  {app.UseStaticFiles();//addedapp.UseWebMarkupMin();app.UseMvc(.....}public void ConfigureServices(IServiceCollection services)  {services.AddMvc();//addedservices.AddWebMarkupMin(options =&gt;{//i comment these two lines out after testing locallyoptions.AllowMinificationInDevelopmentEnvironment = true;options.AllowCompressionInDevelopmentEnvironment = true;}).AddHttpCompression();}There's a great blog post by Andrew Lock (author of ASP.NET Core in Action) about using WebMarkupMin https://andrewlock.net/html-minification-using-webmarkupmin-in-asp-net-core/ WebMarkupMin is highly configurable and Andrew's post goes way more indepth highly recommended reading it intently before just copying and pasting.
i want redirect different view depending result dataset i keep getting returned page i am currently can't work out why i drop statement action gets called once i return view new page returns me back current page.cshtml page viewbag.title search results enumerablerowcollection&lt datarow&gt custs viewbag.customers bool anyrows custs.any anyrows false html.action noresults home redirect search results view controller public actionresult noresults return view noresults view i cant get too viewbag.title noresults lt h2 gt noresults&lt h2 gt,You can go to method of same controller..using this line  and if you want to pass some parameters to that action it can be done by writing inside ( new { } )..Note:- you can add as many parameter as required.@Html.ActionLink("MethodName" new { parameter = Model.parameter })
i am currently using several delegation handlers classes derived from delegatinghandler work request before sent things like validating signature etc all very nice because i don't have duplicate signature validation all calls example i would like use same principle response from same web request something similar delegatinghandler response way catch response before has returned method way additional information i am calling web api using httpclient.putasync,Here is an example for intercepting the request and the response.  the overridden method SendAsync is used to capture the original request whereas the method called ResponseHandler is used to capture the response.Example to capture original request and responseusing System.Net.Http;using System.Threading.Tasks;namespace webAPI_Test{public class MessageInterceptor : DelegatingHandler{protected override System.Threading.Tasks.Task&lt;HttpResponseMessage&gt; SendAsync(HttpRequestMessage request System.Threading.CancellationToken cancellationToken){// CATCH THE REQUEST BEFORE SENDING TO THE ROUTING HANDLERvar headers = request.ToString();var body = request.Content.ReadAsStringAsync().Result;var fullRequest = headers + "\n" + body;// SETUP A CALLBACK FOR CATCHING THE RESPONSE - AFTER ROUTING HANDLER AND AFTER CONTROLLER ACTIVITYreturn base.SendAsync(request cancellationToken).ContinueWith(task =&gt;{// GET THE COPY OF THE TASK AND PASS TO A CUSTOM ROUTINEResponseHandler(task);// RETURN THE ORIGINAL RESULTvar response = task.Result;return response;});}public void ResponseHandler(Task&lt;HttpResponseMessage&gt; task){var headers = task.Result.ToString();var body = task.Result.Content.ReadAsStringAsync().Result;var fullResponse = headers + "\n" + body;}}}To use this method the class needs to be identified and registered as a MessageHandler.  I added the following line to my Global.asax file...Example how to register the new MessageInterceptor classGlobalConfiguration.Configuration.MessageHandlers.Add(new MessageInterceptor());Here is my complete Global.asax file.  Notice how the MessageInterceptor is referenced...Full version of Global.asax showing MessageInterceptor integrationusing System.Web.Http;using System.Web.Mvc;using System.Web.Optimization;using System.Web.Routing;namespace webAPI_Test{// Note: For instructions on enabling IIS6 or IIS7 classic mode // visit http://go.microsoft.com/?LinkId=9394801public class WebApiApplication : System.Web.HttpApplication{protected void Application_Start(){AreaRegistration.RegisterAllAreas();WebApiConfig.Register(GlobalConfiguration.Configuration);FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);RouteConfig.RegisterRoutes(RouteTable.Routes);BundleConfig.RegisterBundles(BundleTable.Bundles);GlobalConfiguration.Configuration.MessageHandlers.Add(new MessageInterceptor());}}}
ie11 coming i just installed developer preview version however i run some my web application i got error webform dopostbackwithoptions undefined.the error popped up when i playing autopostback dropdownlist.moreover looks like similar issue ie10 before http www.hanselman.com blog/bugandfixaspnetfailstodetectie10causingdopostbackisundefinedjavascripterrorormaintainff5scrollbarposition.aspx,If you downloaded IE 11 but use the original IE browser that came with Windows the user agent of the browser is little bit different and the most upvoted answer will not work.You just have to change this line:&lt;userAgent match="Trident\/7.0; rv:(?'version'(?'major'\d+)(\.(?'minor'\d+)?)(?'letters'\w*))(?'extra'[^)]*)" /&gt;to this:&lt;userAgent match="Trident\/7.0;(?'someGarbage'[^'rv:']*) rv:(?'version'(?'major'\d+)(\.(?'minor'\d+)?)(?'letters'\w*))(?'extra'[^)]*)" /&gt;
i have problem below details from mvc project.when i am trying use jquery ajax request loading panel like spinning gif even text i am getting error observed from fiddler required anti forgery form field requestverificationtoken present i comment validateantiforgerytoken attribute post action method use loading panel working fine.i want know why i am getting error.i have even used query string serialized requestverificationtoken input name requestverificationtoken val still i am getting error anti forgery token could decrypted application hosted web farm cluster ensure all machines running same version asp.net web pages lt machinekey&gt configuration specifies explicit encryption validation keys autogenerate cannot used clusterwhat should i use here updated question code var token input name requestverificationtoken val submitaddress click function subaddr event event.preventdefault event.stoppropagation addaddress html lt img src img animated overlay.gif gt sending addaddress blur blif jobid val transportjobid val parseint jobid val ajax url transportjobaddress create type post data requestverificationtoken token form action transportjobaddress create serialize success function poste data textstatus jqxhr addaddress html data return false error function err jqxhr textstatus errorthrown alert error address errorthrown else var transportid 2 ajax url transportjob create'type post'data requestverificationtoken token form action transportjob create serialize success function sfn data textstatus jqxhr transportid parseint data jobid val data alert inserted id data transportjobid val transportid ajax url transportjobaddress create type post beforesend function myintserver xhr addaddress html lt div id temp load style text align center gt please wait lt div&gt data requestverificationtoken token form action transportjobaddress create serialize success function poste data textstatus jqxhr addaddress html data error function err jqxhr textstatus errorthrown alert error address errorthrown error function myfunction jqxhr textstatus errorthrown alert error transport jqxhr.textstatus complete function completefunc alert ajax completed all requests return false form tags lt form action transportjob create method post gt lt input name requestverificationtoken type hidden value ydysei0_rfybf619dqrhdwwocm7owwkjqqemnvndakefiffyvrq0mjyyu0zkktnxljk_y1zjo9-yb coap8mqd0cvh8cdyyik4hj0pzxtge1 gt transportjobform tag 2 same page&lt form action transportjobaddress create method post novalidate novalidate gt lt input name requestverificationtoken type hidden value np2vuzjpk1tjlv846opsu6hg4sjmhrcck1cacaqzbphog8wbv4gzv06nordl7f_it9qqf3bixo3n9wgw68su mki7g3-ku bshbdn-g2aakc1 gt,I wanted to secure both Ajax and normal request so here is what I came out with:First using the excellent blog from  haacked.com I Created the ConditionalFilterProvider  as described.Then I created all the classes as described on the blog from codethinked.On my _layout page I added the piece with the $.ajaxPrefilter as described in the blog... This assures that all my Ajax-callback now send the Antiforgery token through header.To glue all together I added this piece of code on my global.asax / Application_Start(c a) =&gt;(c.HttpContext.Request.IsAjaxRequest() &amp;&amp; !string.Equals(c.HttpContext.Request.HttpMethod "GET"))? new AjaxValidateAntiForgeryTokenAttribute(): null(c a) =&gt;(!c.HttpContext.Request.IsAjaxRequest() &amp;&amp; string.Equals(c.HttpContext.Request.HttpMethod "POST" StringComparison.OrdinalIgnoreCase))? new ValidateAntiForgeryTokenAttribute(): nullBasically.. inject the attribute to all my Controllers that are not GET.After that I just had to go to all my (Very few) forms and add the @Html.AntiForgeryToken().To proof that all worked I just try to dens things with a form without the AntiForgeryToken and get the expected exception.And remove the $.ajaxPrefilter and create Ajax requests and the expected exception was received.
i tinkered my asp.net mvc4 packages via nuget now system.web.webpages.razor v3 won't load sometimes other packages won't load either.my coworker runs solution without any trouble so issue definitely configuration my development system opposed anything been checked i have already tried recommendations various sof other fora links including could load file assembly 39 system.web.webpages.razor version 2.0.0.0could load file assembly 39 system.web.webpages.razor version 2.0.0.0could load file assembly 39 system.web.webpages.razor version 3.0.0.0as well suggestions linked from i also checked control panel found installed programs referenced mvc matters i'm running ms win 7 sp 1 i am open any all suggestions.here s my core dump info server error application.could load file assembly system.web.webpages.razor version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies system cannot find file specified.description unhandled exception occurred during execution current web request please review stack trace more information about error where originated code exception details system.io.filenotfoundexception could load file assembly system.web.webpages.razor version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies system cannot find file specified.source error unhandled exception generated during execution current web request information regarding origin location ofthe exception can identified using exception stack trace below.assembly load trace following information can helpful determine why assembly system.web.webpages.razorversion 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 could loaded pre bind state information log user codeswithhammer log displayname system.web.webpages.razor version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 fully specified log appbase file c users codeswithhammer documents visual studio 2012/projects mpp mpp log initial privatepath c users codeswithhammer documents visual studio 2012 projects mpp mpp bin calling assembly microsoft.web.webpages.oauth version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 log bind starts default load context log using application configuration file c users codeswithhammer documents visual studio 2012 projects mpp mpp web.config log using host configuration file c users codeswithhammer documents iisexpress config aspnet.config log using machine configuration file from c windows microsoft.net framework v4.0.30319 config machineconfig log post policy reference system.web.webpages.razor version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 log attempting download new url file c users codeswithhammer appdata local temp temporary asp.net files root/5bf3ca07/f960d9c5 systemwebwebpagesrazordll log attempting download new url file c users codeswithhammer appdata local temp temporary asp.net files root/5bf3ca07/f960d9c5 system.web.webpages.razor systemwebwebpagesrazordll log attempting download new url file c users codeswithhammer documents visual studio 2012/projects mpp mpp bin systemwebwebpagesrazordll log attempting download new url file c users codeswithhammer documents visual studio 2012/projects mpp mpp bin system.web.webpages.razor systemwebwebpagesrazordll log attempting download new url file c users codeswithhammer appdata local temp temporary asp.net files root/5bf3ca07/f960d9c5 systemwebwebpagesrazorexe log attempting download new url file c users codeswithhammer appdata local temp temporary asp.net files root/5bf3ca07/f960d9c5 system.web.webpages.razor systemwebwebpagesrazorexe log attempting download new url file c users codeswithhammer documents visual studio 2012/projects mpp mpp bin systemwebwebpagesrazorexe log attempting download new url file c users codeswithhammer documents visual studio 2012/projects mpp mpp bin system.web.webpages.razor system.web.webpages.razor.exe.stack trace filenotfoundexception could load file assembly system.web.webpages.razor version 3.0.0.0 culture neutralpublickeytoken 31bf3856ad364e35 one its dependencies system cannot find file specified microsoft.web.webpages.oauth.preapplicationstartcode.start 0 invalidoperationexception pre application start initialization method start typemicrosoft.web.webpages.oauth.preapplicationstartcode threw exception following error message could load file assembly system.web.webpages.razor version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies system cannot find file specified system.web.compilation.buildmanager.invokeprestartinitmethodscore icollection1 methods func1 sethostingenvironmentcultures 550 system.web.compilation.buildmanager.invokeprestartinitmethods icollection 1 methods 132 system.web.compilation.buildmanager.callprestartinitmethods string prestartinitlistpath 90 system.web.compilation.buildmanager.executepreappstart 135 system.web.hosting.hostingenvironment.initialize applicationmanager appmanager iapplicationhost apphost iconfigmappathfactory configmappathfactory hostingenvironmentparameters hostingparameters policylevel policylevel exception appdomaincreationexception 516 httpexception 0x80004005 pre application start initialization method start typemicrosoft.web.webpages.oauth.preapplicationstartcode threw exception following error message could load file assembly system.web.webpages.razor version 3.0.0.0 culture neutral publickeytoken 31bf3856ad364e35 one its dependencies system cannot find file specified system.web.httpruntime.firstrequestinit httpcontext context 9874840 system.web.httpruntime.ensurefirstrequestinit httpcontext context 101 system.web.httpruntime.processrequestnotificationprivate iis7workerrequest wr httpcontext context 254version information microsoft net framework version 4.0.30319 asp.net version 4.0.30319.18055 those who read far i don't have enough reputation make tag pulling out my hair appropriate extant tag please include kthx eta when i tried manually updating microsoft.aspnet.mvc version 3 here error i got package manager console install failed rolling back install package updating microsoft.aspnet.mvc 5.0.0 microsoft.aspnet.mvc 3.0.20105.1 failed unable find version microsoft.aspnet.mvc.fixeddisplaymodes compatible wi th microsoft.aspnet.mvc 3.0.20105.1 line 1 char 16 install package lt lt lt lt microsoft.aspnet.mvc version 3.0.20105.1 categoryinfo notspecified install package invalidoperationexception fullyqualifiederrorid nugetcmdletunhandledexceptionnuget.powershell.commands.installpackagecommandeta2 i got packages directory from my coworker have ms.aspnet.mvc v5 they're running just fine also have ms.aspnet.mvc.fixeddisplaymodes v5 so i'm going add both those yes i have backed up my entire solution eta3 so i re upgraded aspnet mvc v5 skipped deprecated mvcfixeddisplaynodes i got problem conflicting versions aspnet.webpages so i used fix conflicting versions asp.net web pages detected specified version quot 1.0.0.0 quot version bin quot 2.0.0.0 quot asp.met mvc 3and now my project runs thanks all help,I had this issue when I upgraded to v3.0.0.preview4 so a downgrade to a stable version fixed this.
i currently have scaffolded view where boolean property my model gets passed html.editorfor helper html.editorfor model gt model.endcurrentdeal all well good what i'm really looking do massage dropdown like lt select&gt lt option value true selected selected gt yes&lt option&gt lt option value false gt no&lt option&gt lt select&gt what easiest way achieve thankschris,I got inspired with the very useful answer from Francois Borgies so I decided to write a custom method that creates SelectList for Boolean value that can be used in  @Html.DropDownList.  When you have a helper method that can be used in every view then it reduces the amount of code needed in razor views.My project has CustomHelpers.cs class in folder: App_Code/Helpersnamespace YourProjectName.App_Code.Helpers{public static class CustomHelpers{public static SelectList SelectListForBoolean(object selectedValue = null){SelectListItem[] selectListItems = new SelectListItem[2];var itemTrue = new SelectListItem();itemTrue.Value = "true";itemTrue.Text = "Yes";selectListItems[0] = itemTrue;var itemFalse = new SelectListItem();itemFalse.Value = "false";itemFalse.Text = "No";selectListItems[1] = itemFalse;var selectList = new SelectList(selectListItems "Value""Text" selectedValue);return selectList;}   }}In the create view you can use it as follows:@model Foo@using YourProjectName.App_Code.Helpers;...@Html.DropDownList("EndCurrentDeal" CustomHelpers.SelectListForBoolean() "-select-")for edit view@model Bar@using YourProjectName.App_Code.Helpers;...@Html.DropDownList("EndCurrentDeal" CustomHelpers.SelectListForBoolean(Model.EndCurrentDeal) "-select-")Although my helper method is not pure HTML Helper because it creates SelectList - it nevertheless follows same functionality that was presented by Rahul Rajat Singh in his excellent article An Absolute Beginner's Tutorial on HTML Helpers and Creating Custom HTML Helpers in ASP.NET MVC
i feel bit absurd asking i can't find way get parameters get request api foo sort name instance.in apicontroller class i gave public string get putting get string sort makes api foo bad request request instance apicontroller type systemnethttphttprequestmessage doesn't have querystring parameters property anything,if we have a proper model for that request for example   public class JustModel {  public int Id {get;set;}  public int Age {gets;set;}}and query like this  /api/foo?id=1&amp;Age=10You could just use  [FromUri] attributeFor example public IHttpActionResult GetAge([FromUri] JustModel model){}
i think my understanding simplemembershipprovider almost 60 rest getting know how internally work.you can quickly found some issue when using initializesimplemembership filter only accountcontroller default template i think anywhere you use memberhsip api webmatrix.websecurity you need make sure filter should called first.later you use user.isinrole my layoutcshtml you need apply filter all controllers you start registering globally.however i just realize lazyinitializer.ensureinitialized which make initialization performed only once per app start.so why simplemembershipinitializer filter directly application start any reason use filter,The reason for the InitializeSimpleMembership filter and its overly complex code is for the case when a developer might decide not to use forms authentication then the template generated code will still work correctly. If you will always use forms authentication you can initialize SimpleMembership in the Application_Start method of the Global.asax. There are detailed instructions on how to do this here.
i'm calling third party library takes systemwebhttpresponse i see i have httpresponsebase httpresponse like web forms.is way get httpresponse using mvc 3 edit i'm trying do controller method also corrected casing,No but your HttpResponseBase is probably an HttpResponseWrapper which contains an HttpResponse inside of it.  All the HttpResponse methods are accessible from the HttpResponseBase.  If you want access to the HttpResponse then you could add a reference to it in HttpContext.Items in your IHttpHandler or somewhere earlier in the ASP.NET lifecycle.  The BeginRequest event would be a good point to do this.Your HttpContext.Items references the same dictionary that HttpContextBase.Items references so you will have access to all those items in MVC3To clarifyIt is an HttpResponseWrapper but there is no public accessor for the HttpResponse.  So there is not a directly accessible reference.  To make a directly accessible reference before the framework decides to start giving you the wrapper instead of the underlying reference create an event handler for HttpApplication.BeginRequest event.  Your handler will have a reference to the HttpContext object.   Set HttpContext.Items["HttpRequest"] = HttpContext.Request.  Then in your controller you will be able to access the HttpRequest reference by RequestContext.HttpContext.Items["HttpRequest"].
i'm using rtm version windows 8 vs 2012 ultimate i have mvc4 project using sqlce 4.0 code first entity framework model.model very simple public class mything public int mythingid get set public int userid get set public string title get set public string address get set public string description get set public datetime date get set when i try create new controller built scaffolding too i get following error unable retrieve metadata mything using same dbcompiledmodel create contexts against different types database servers supported instead create separate dbcompiledmodel each type server being used.how do i get scaffolding work,I had the same error message but it was nothing to do with the connection string.It is a very rare case but hopefully this will help someone.  My model name was the same as one of the segments of my namespace name.For example:namespace blah.blah.Buildingpublic class BuildingI renamed my namespace and fixed all usages and then the t4 scaffolding worked!Her's another possible solution.  You may have to run scaffolding for "dependent" models first.  Then work your way up to complicated models that have many dependencies.
i googled around how pass mvc model knockoutjs seems two ways using html.raw json.encode model using get ajaxwhich ways best practice passing mvc model knockoutjs i know per requirement basis seems using get more cleaner versus html.raw method,Old question but I think I have a nice tidy solution for passing model data to a KO view model in a reusable fashion. Note I'm using require.js as well.Add the HtmlHelper extension method in .NET:using System.Web;using System.Web.Mvc;using System.Web.Script.Serialization;namespace PROJECT.YOUR.EXTENSIONS.NAMESPACE {public static class HtmlHelperJavascriptExtensions {public static IHtmlString Serialize(this HtmlHelper helper object obj) {return helper.Raw(new JavaScriptSerializer().Serialize(obj));}}}Add the partial view KnockoutJsBinderPartial (I've had to use aspx):&lt;%@ Control Language="C#" Inherits="System.Web.Mvc.ViewUserControl&lt;PROJECT.Views.Shared.KnockoutJsBinderViewData&gt;" %&gt;&lt;%@ Import Namespace="PROJECT.YOUR.EXTENSIONS.NAMESPACE" %&gt;&lt;script type="text/javascript"&gt;require(["Path/To/KnockoutJs" "&lt;%= Model.ViewModelPath %&gt;"] function (ko ViewModel) {ko.applyBindings(new ViewModel(&lt;%= Html.Serialize(Model.InnerModel) %&gt;));});&lt;/script&gt;The model referenced by that view is:namespace PROJECT.Views.Shared {public class KnockoutJsBinderViewData {public object InnerModel { get; private set; }public string ViewModelPath { get; private set; }public KnockoutJsBinderViewData(object innerModel string viewModelPath) {InnerModel = innerModel;ViewModelPath = viewModelPath;}}}Now to wire up your .NET model to your knockout view model all you need to do is:&lt;% Html.RenderPartial(   "~/Views/Shared/KnockoutJsBinderPartial.ascx"   new PROJECT.Views.Shared.KnockoutJsBinderViewData(Model // The model from your strongly typed MVC view"Path/To/Knockout/ViewModel")); // The path to the Javascript file containing your view model%&gt;Note the Javascript file containing your view model SHOULD NOT call ko.applyBindings and should return the Constructor function for the view model. The constructor should take one argument - your JSON data for the model.
i doing c project using razor vs2010 mvc 4 i need return error message from controller view show user.what i tried controller httppost public actionresult form edit formmodels model model.error msg model.update content model modelstate.addmodelerror error adfdghdghgdhgdhdgda viewbag.error tempdata error return redirecttoaction form edit form view model mvc cs.models.formmodels using ctrlr mvc cs.controllers.formcontroller using html.beginform form edit form formmethod.post lt table&gt lt tr&gt lt td&gt html.validationsummary error html.validationmessage error lt td&gt lt tr&gt lt tr&gt lt th&gt html.displaynamefor model gt model.content name html.dropdownlistfor x gt x.selectedvalue new selectlist model.countries model.dd value model.dd text select product lt th&gt lt tr&gt lt table&gt lt table&gt lt tr&gt lt td&gt lt input type submit value submit gt lt td&gt lt tr&gt lt table&gt please help me achieve,If you want to do a redirect you can either:ViewBag.Error = "error message";orTempData["Error"] = "error message";
i am building site using mvc4 i couldn't even begin i am having strange error my code using system using system.collections.generic using system.linq using system.web.http namespace myproject public static class webapiconfig public static void register httpconfiguration config config.routes.maphttproute name defaultapi routetemplate api controller id defaults new id routeparameter.optional error message type name assembly httpconfiguration does exist namespace system.web.http you missing using directive assembly reference also doesn't recognize readonly field routeparameter occurs me may have something do version my system.web dll version 4.0.0.0.another additional piece information when i type using systemweb intellisense does recognize http dllhowever code does recognize any its parameters,Yet another scenario. I accept that this is only loosely related to the question as I'm purely Web API. However my search led me here so...I had an existing project in the solution that targeted Framework 4.5.2. When I added a new project it went in as 4.5 as I wasn't paying enough attention. HttpConfiguration duly vanished from the Web API Register method.Changing the target to 4.5.2 resolved the HttpConfiguration issue. Mind you it also caused some other grief with RouteParameter: now I had two definitions one in System.Web.Http and the other in System.Web.UI.WebControls. Easy enough I guess.My feeling is that there is more to this...
i'm trying have less files my web project have mvc 4 bundling functionality call dotless library turn less css minify result give browser.i found example asp.net site under heading less coffeescript scss sass bundling has given me lesstransform class looks like public class lesstransform ibundletransform public void process bundlecontext context bundleresponse response response.content dotless.core.less.parse response.content response.contenttype text css line my bundleconfig class bundles.add new bundle content lesstest new lesstransform new cssminify include content less test.less finally i have following line my layout.cshtml lt head&gt styles.render content lesstest i have site debug mode rendered browser lt link href content less test.less rel stylesheet gt rules less file applied following link shows less has been correctly transformed css.however i put site release mode rendered out lt link href content less v les-hid6xuz3s2qkj35lvnwwq677wtaiiry6fux8gz01 rel stylesheet gt rules less file applied because following link gives 404 error from iis.so seems something going wrong bundling how do i get work release mode how do i find out what exactly going wrong,Already some great answers here's a very simple solution I found for myself when trying to add MVC bundles that regard less files.After creating your less file (for example test.less) right click on it and under Web Compiler (get it here) option select Compile File.This generates the resulting css file from your less one and also its minified version. (test.css and test.min.css).On your bundle just refer to the generated css filestyle = new StyleBundle("~/bundles/myLess-styles").Include("~/Content/css/test.css" new CssRewriteUrlTransform());bundles.Add(style);And on your view reference that bundle:@Styles.Render("~/bundles/myLess-styles")It should just work fine.
i am creating mvc project using mvc 4 razor after building some pages i wondering what difference between mvchtmlstring.create html.raw would nice you could help me here understand thanks advance,There is no practical difference.The MvcHtmlString.Create creates an instance of MvcHtmlString while the Html.Raw method creates an instance of HtmlString but MvcHtmlString just inherits from HtmlString so they work the same.
how can i call web api method from mvc action controller method what i am trying my controller method public actionresult productdetail long id using var client new httpclient var productdetailurl url.routeurl defaultapi new httproute controller productdetails id id request.url.scheme var model client.getasync productdetailurl result.content.readasasync lt productitems&gt result return view model my web api method private productentities products new productentities public ienumerable&lt productitems&gt getproductdetail int id var produc products.executestorequery lt productitems&gt getproductdetail productid new sqlparameter productid id return produc when i am doing i am getting error var model my mvc action method after returning data saying newtonsoft.json.jsonserializationexception cannot deserialize json array ie 123 type productdetails.models.productitems deserialized type must array implement collection interface like ienumerable icollection ilist force json arrays deserialize add jsonarrayattribute type line 1 position 1 can any one help me doing suggest me any other best method correct me i am doing wrong any where i have show returned data my view data should returned my controller,When your ASP.NET web site is hosting together with Web API controller then you can call Web API as ordinary class method to avoid any delays related to HTTP request.And problem is not in Web API call. Problem is in result deserialization that comes from ExecuteStoreQuery make sure you have serializable collection in it. To make sure you can simply try to convert this method result to list before return and return from web api method serializable list then localize problem.UPD: So root of problem is in what ExecuteStoreQuery method returns. It returns ObjectResult. It actually implements IEnumerable but it's returned from EF and in some cases there are e.g. cyclic dependencies between objects that Json deserialzers couldn't resolve. To resolve problem simply convert explicitly ObjectResult to e.g. List:public IEnumerable&lt;ProductItems&gt; GetProductDetail(int ID){var products = products.ExecuteStoreQuery&lt;ProductItems&gt;(  "GetProductDetail @ProductID "   new SqlParameter("@ProductID" ID)); return products.ToList&lt;ProductItems&gt;();}When problem is actually with cycle dependencies in collections of your objects that come from EF you can switch it off in Json.NETAnd also check your client side deserialization:var model = client.GetAsync(productDetailUrl).Result.Content.ReadAsAsync&lt;List&lt;ProductItems&gt;&gt;().Result;But when you are hosting your ASP.NET MVC site and ASP.NET Web API in one project then you do not need all this stuff with HTTP request and serialization/deserialization just call your method as ordinary class method.
i want separate my mvc project several projectsso first all i've created two projects front viewsthe front project web application contains controllers modelsthe views project class library project contains only viewsmy question how can i make controllers call views located views projecti have controllers like one public actionresult default return this.view,You can precompile your views - that way they are included in the dll and you can reference them from another project.How to do it:Move the views to another projectInstall Razor Generator extension in Visual StudioChange Custom Tool to RazorGenerator for thoseviewsAdd RazorGenerator.Mvc NuGet package to the view projectReference view project from your main projectThat's it!Although you'll need to do something with your models either put them together with views or have a third project for them - otherwise you'll have a circular dependency.Another drawback is that everyone who will be working with the views will need that Razor Generator extension.The way this works is basically you make Visual Studio generate .cs files from your views in design time and those are a part of the compiled dll same as any other piece of code.
i want test checkbox checked from my acion methon what i need pass checkbox value from view controllerthis my view@using html.beginform index graphe lt table style width 100 border 1 gt lt tbody&gt lt tr&gt lt td&gt responsable lt td&gt lt td&gt lt select id responsables name responsables gt lt option&gt selectionnez lt option&gt lt select&gt lt td&gt lt td&gt lt input id responsable name checkresp type checkbox gt lt td&gt lt tr&gt lt tr&gt lt td&gt lt input type submit value afficher id buttonsubmit gt lt td&gt lt td&gt lt input class button id buttonreset type button value annuler gt lt td&gt lt tr&gt lt tbody&gt i try public actionresult index string responsables bool checkresp highcharts chart new highcharts chart responsables null checkresp chart global else chart resp responsables elsechart global return view chart i have error le dictionnaire de paramètres contient une entrée null pour le paramètre checkact de type non nullable system.boolean pour la méthode system.web.mvc.actionresult index system.string system.string boolean dans project.controllers.graphecontroller un paramètre facultatif doit être un type référence un type nullable ou être déclaré en tant que paramètre facultatif.nom du paramètre parameterscan you help me please,set value in check box like this : &lt;input id="responsable" name="checkResp" value="true" type="checkbox" /&gt;change checkResp to nullable property in Your model  like this :public Nullable&lt;bool&gt; checkResp{ get; set; }use ? before checkResp like :public ActionResult Index( string responsables bool ? checkResp){ ......}
better way catch exceptions i seem duplicating lot code basically every controller i have catch statement which does try do something might throw exceptions catch exception ex open database connection save exception details connection cannot made database save exception text file i have 4 controllers around 5-6 actions methods each controller which lot code duplication how can i trim down amount line try catch statement above,In ASP .NET MVC you can implement your own HandleErrorAttribute to catch all the exceptions that occur in all controllers:public class CustomHandleErrorAttribute : HandleErrorAttribute{public override void OnException(ExceptionContext filterContext){  var ex = filterContext.Exception;  // Open database connection  // Save exception details.  // If connection cannot be made to the database save exception in a text file.} }Then register this filter:public class FilterConfig{public static void RegisterGlobalFilters(GlobalFilterCollection filters){   filters.Add(new CustomHandleErrorAttribute());} }And of-course call the register method on application start-up:public class MvcApplication : HttpApplication{protected override void OnApplicationStarted(){   // ...   FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);   // ...}}Wouter de Kort has already explained the concept behind this in his answer.
i'm creating web application using asp.net mvc 4 c i want all users logged before using application.i m using asp.net membership custom database.one method check membership.getuser null every function.but isn't any easier way than checking user login state every function maybe checking web.config global.asax etc,Use [Authorize] at the class levelif you want to allow anonymous access to some actions use [AllowAnonymous] 
i need round off 4 digit decimal 2 digits show mvc 3 uisomething like 58.8964 58.90 tried following how should i use editorfor mvc currency money type working i am using textboxfor i removed applyformatineditmode here even i tried applyformatineditmode nothing works still showing me 58.8964.mymodelclass displayformat dataformatstring 0 f2 public decimal totalamount get set html.textboxfor m gt m.totalamount how can i achieve round off i can't use editorfor m m.totalamount here i need pass some htmlattributesedit after debugging mvc source code internally use string valueparameter convert.tostring value cultureinfo.currentculture mvchtmlstring inputhelper method inputextension.cs takes object value parameter converting using any display format how could we fix i managed fix way i have custom helper i can able manage below code string.isnullorempty modelmetadata.displayformatstring string formatstring modelmetadata.displayformatstring string formattedvalue string.format cultureinfo.currentculture formatstring modelmetadata.model string name expressionhelper.getexpressiontext expression string fullname htmlhelper.viewcontext.viewdata.templateinfo.getfullhtmlfieldname name return htmlhelper.textbox fullname formattedvalue htmlattributes else return htmlhelper.textboxfor expression htmlattributes,I solve that issue in this way:@Html.TextBoxFor(model =&gt; model.dtArrivalDate ModelMetadata.FromLambdaExpression(model =&gt; model.dtArrivalDate ViewData).EditFormatString)or create next extension:public static class HtmlExtensions{public static MvcHtmlString TextBoxWithFormatFor&lt;TModel TProperty&gt;(this HtmlHelper&lt;TModel&gt; htmlHelper Expression&lt;Func&lt;TModel TProperty&gt;&gt; expression object htmlAttributes){return htmlHelper.TextBoxFor(expression ModelMetadata.FromLambdaExpression(expression htmlHelper.ViewData).EditFormatString htmlAttributes);}}But you need to set ApplyFormatInEditMode=true in DisplayFormatAttribute on your field.
i have looked through google stackoverflow haven't found answer any built way make bundle execute deffered does someone know extension helper method someone wrote do,You can use BundleTable.Bundles.ResolveBundleUrl :&lt;script src="@(BundleTable.Bundles.ResolveBundleUrl("~/bundles/jquery"))" defer&gt;&lt;/script&gt;
i have asp.net mvc4 application where i am implementing sessiontimeout like lt configuration&gt lt system.web gt lt sessionstate timeout 2 gt lt sessionstate&gt lt system.web gt lt configuration&gt authentication lt configuration&gt lt system.web gt lt authentication mode forms gt lt forms loginurl account logon timeout 1 gt lt authentication&gt lt system.web gt lt configuration&gt after session has expired 2 mins i need redirect logon page redirection doesn't occur how can i change code so redirect,There is a generic solution:Lets say you have a controller named Admin where you put content for authorized users.Then you can override the Initialize or OnAuthorization methods of Admin controller and write redirect to login page logic on session timeout in these methods as described:protected override void OnAuthorization(System.Web.Mvc.AuthorizationContext filterContext){//lets say you set session value to a positive integerAdminLoginType = Convert.ToInt32(filterContext.HttpContext.Session["AdminLoginType"]);if (AdminLoginType == 0){filterContext.HttpContext.Response.Redirect("~/login");}base.OnAuthorization(filterContext);}
i razor view i have line like bleow&lt option value int16 phonetype.work gt phonetype.work lt option&gt option select list dropdownlistin i have enum phonetype.for text filed phonetype.work works finebut value field int16 phonetype.work workingwhat can i do get integer value enum value field,We can use ChangeType function as below. Hope this helps for someone in future.&lt;option value=@Convert.ChangeType(PhoneType.Work PhoneType.Work.GetTypeCode())&gt;@PhoneType.Work&lt;/option&gt;or&lt;option value=@Convert.ChangeType(PhoneType.Work typeof(int))&gt;@PhoneType.Work&lt;/option&gt;
i want know about thing asp.net mvc 4 application can run net 4 server.i am trying deploy my mvc4 application i am got error 500 internal server error problem resource you looking cannot displayed.i target net 4 framework i am still having error i am sure what happen server i am trying look other post i did find any post who can clearify mvc 4 can run net server,  Razor 2 is part of the next wave of the WebPages/MVC framework so it  will require MVC4. There's nothing stopping you from using our  Open-Source code to wedge Razor 2 in to MVC3 but it isn't a supported  scenario.Remember that MVC 4 works on .NET 4.0 and does NOT require .NET 4.5!ASP.net mvc programmer blog
i have very simple model needs get validated from databasepublic class useraddress public string citycode get set citycode can have values only available my database table.i know i can do something like httppost public actionresult address useraddress model var connection create connectionvar cityrepository new cityrepository connection cityrepository.isvalidcitycode model.citycode added model error seems very wet i have use model lot placed adding same logic each place seems like i am using mvc architecture properly.so what best pattern validate model from database note most validation single field lookup from database other validation may include combination field right now i am happy single field lookup validation long dry using too much reflection acceptable.no client side validation anyone who answering terms client side validation i do need any validation most my validation server sided i need same please do answer client side validation methodsps any one can give me hint how do attribute based validation from database extremely greatful,Hi.. I Think this is useful for Your Question. I use that method forcalling single function in various Location. I will detailed explainbelow.In Model:public class UserAddress{public string CityCode {get;set;}}In Controller:First Create Single Function for Validate for single Connection public dynamic GetCity(string cityCode){   var connection = ; // create connection   var cityRepository = new CityRepository(connection);   if (!cityRepository.IsValidCityCode(model.CityCode))   {   // Added Model error   }   return(error);}Function call from another controller like:var error = controllername.GetCity(citycode);Other Method for Many connection public dynamic GetCity(string cityCodestring connection){   var cityRepository = new CityRepository(connection);   if (!cityRepository.IsValidCityCode(model.CityCode))   {   // Added Model error   }   return(error);}Function call from another controller like:var error = controllername.GetCity(citycodeconnection);  
i searching responsive templates asp.net mvc 3/4 which one could use base extend per requirement.after googling while i came across two options.zurb foundation also have nuget package available here detailed procedure explained here.twitter bootstrap have never used looks promisingkickstrapdoes any one know any more compatible better responsive templates one could use asp.net mvc websites would certainly makes lives all mvc developers easier have responsive template begin thanks,Have you tryied Neos-SDI MVC4 Template. It's a good template to start developping in MVC 4. It provides a clean architecture and tools to create a website with good performance.It's very simple to install since you can do it from Visual Studio.
mvc razor syntax i'm trying understand why we need renderbody example code taken from example lt html&gt lt head&gt lt meta charset utf-8 gt lt title&gt my website&lt title&gt lt style&gt container width 700px left float left width 150px content padding 0 210px 0 160px right float right width 200px clear clear both lt style&gt lt head&gt lt body&gt lt div id container gt lt div id left gt rendersection left required false lt div&gt lt div id content gt renderbody lt div&gt lt div id right gt rendersection right required false lt div&gt lt div class clear gt lt div&gt lt div&gt lt body&gt lt html&gt layout 3collayout.cshtml lt h1 gt main content&lt h1 gt section left lt h1 gt left content&lt h1 gt section right lt h1 gt right content&lt h1 gt why can't i simply use rendersection everything like lt div id content gt rendersection body required true lt div&gt section body lt h1 gt body content&lt h1 gt,RenderBody is required as it's what renders each view. RenderSection has an optional parameter that lets you mark the section as not required.
i have pair tables parent child relationship incident incidentdetails i have viewmodel contains information from both tables i have business layer method passed instance viewmodel needs update both tables.so method i'm using ef6 s new transaction mechanism using var transaction this.db.database.begintransaction try various database stuffthis.db.savechanges more database stuffthis.db.savechanges yet more database stuffthis.db.savechanges transaction.commit catch exception ex transaction.rollback this.logger.logexception ex exception caught transaction rolling back throw so my problem how do i test i'm using microsoft unit testing framework moq i have had trouble mocking up dbcontexts dbset&lt s i can't seem figure out how get around transaction stuff.if i don't attempt mock transaction i get invalidoperationexception connecting string named xxx could found application config file which makes perfect sense isn't application config file isn't any database.but i try mock begintransaction i get initialization errors notsupportedexception invalid setup non virtual member m m.database.begintransaction got me chasing weeds looking decompiles net methods trying identify some class might derive from usable interface something where i could somehow inject mocking object.i m trying unit test ms transactional code i just want make sure appropriate changes made appropriate records each tables sits looks like non testable any method uses transactions non testable just pain.i ve googled around found anything use has anyone run issue anyone have ideas how proceed,What you need is something that you can call Commit() and Rollback() on and is shaped like a System.Data.Entity.DbContextTransaction right? So it turns out that you can use a real DbContextTransaction on ANY real database. Then as long as none of your testing code is making any real changes on the database used for the transaction the Commit() or Rollback() will succeed and do nothing.In my application the web api layer needs to do a couple of business logic operations inside a db transaction so that if the second operation gets an error the first operation never happened. I added a method to my business logic interface to return a transaction that the web api layer can use. In my test of that code I mock the method to return a DbContextTransaction on an empty test database.  Here's the setup code I used:var scope = (new PConn.DataAccess.PressConnEntities()).Database.BeginTransaction();var bizl = new Mock&lt;IOrderMgr&gt;();bizl.Setup(m =&gt; m.CreateNewOrder(7 It.IsAny&lt;string&gt;() It.IsAny&lt;string&gt;())).Returns(_testOrder1);// .GetOrdersQuery(channel beginUTC endUTC);bizl.Setup(m =&gt; m.GetOrdersQuery(7 It.IsAny&lt;DateTime&gt;() It.IsAny&lt;DateTime&gt;())).Returns(matchedOrdersList.AsQueryable());bizl.Setup(m =&gt; m.BeginTransaction()).Returns(scope);Only the first line of the code snippet and the last line are important for the problem you are trying to solve.To summarize:Change your code to get a transaction from a method that you can mock in tests.Return a real transaction to a test database when you mock the method that returns the transaction.Make sure your test's App.Config file has legitimate configuration to make the connection to the test database.Commit() and Rollback() to your heart's content. No data changes because you've mocked all the DbSet and DbContext operaions.Here is an example of the code under test where I use the (not so) fake transaction:using (var scope = this.OrderManager.BeginTransaction()){PrintOrder pconnOrder = this.OrderManager.CreateNewOrder(channel payload claimsIdentity.Name);bool parseResult = this.OrderManager.ParseNewOrder(pconnOrder claimsIdentity.Name out parseErrorMessage);if (!parseResult){// return a fault to the callerHttpResponseMessage respMsg = new HttpResponseMessage(HttpStatusCode.BadRequest);respMsg.Content = new StringContent(parseErrorMessage);throw (new HttpResponseException(respMsg));}scope.Commit();return (pconnOrder.PrintOrderID);}
i'm busy creating web api inside asp mvc4 application i am using library suggested asp.net site generating documentation http www.asp.net web api overview creating web apis creating api help pages my problem my parameter model i can't specify what properties model contains generated help pages.here example model public class testmodel property string firstname get set property string surname get set property boolean active get set action lt summary&gt test action lt summary&gt lt param name model gt model&lt param&gt lt works lt param name firstname gt first name lt param&gt lt doesn't work lt param name model.surname gt surname&lt param&gt lt doesn't workpublic httpresponsemessage post my.namespace.models.testmodel model only parameter model gets generated.i took look xml document gets generated documentation does add other parameters lt member name my.namespace.api.post my.namespace.models.testmodel gt lt summary&gt test action lt summary&gt lt param name model&gt model&lt param&gt lt param name firstname gt first name lt param&gt lt param name model.surname gt surname&lt param&gt lt member&gt help pages only generates parameter model.i have traced down method where gets parameters from xml.collection lt apidescription&gt apidescriptions config.services.getapiexplorer apidescriptions located helppageconfigurationextentions.cs which auto generated.am i approaching wrong way does anyone know work around any suggestions solutions appreciated,josant's answer works great. I did find it was a bit-over zealous however. I found it was reporting simple things like strings as models and reporting them to be a Char array with a length field!We only needed this for models so I added this code to the end of the GetModelDocumentation method:if (parameterDescriptor.ParameterName == "value" || parameterDescriptor.ParameterName == "model"){retDictionary.Add(parameterDescriptor.ParameterName typeDocs);}Now it only returns parameter details for non-simple types.
only override i see exposed mvc authorizeattribute public override void onauthorization authorizationcontext filtercontext which suitable use async await because doesn't return task another way create authorizeattribute mvc allows use async await,for those who do not yet have the joy of being on .net core but you can use this method from ASP.NET Web API 2 :OnAuthorizationAsync override :public override async Task OnAuthorizationAsync(HttpActionContext actionContext CancellationToken cancellation)for example you can call a async webapi service like this : public override async Task OnAuthorizationAsync(HttpActionContext actionContext CancellationToken cancellation){await base.OnAuthorizationAsync(actionContext cancellation);if (await IsUserAdminAsync()) /* call any async service */return;this.HandleUnauthorizedRequest(actionContext);}
my webapi project i'm using owin.security.oauth add jwt authentication.inside grantresourceownercredentials my oauthprovider i'm setting errors using below line context.seterror invalid grant account locked returned client error invalid grant error description account locked after user gets authenticated he tries do normal request one my controllers he gets below response when model invalid using fluentvalidation message request invalid modelstate client.email email valid client.password password required both requests returning 400 bad request sometimes you must look error description field sometimes messagei able create custom response message only applies results i'm returning.my question possible replace message error response returned modelvalidatorproviders other places i've read about exceptionfilterattribute i don't know good place start fluentvalidation shouldn't problem because all does adding errors modelstate.edit next thing i'm trying fix inconsistent naming convention returned data across webapi when returning error from oauthprovider we have error details when returning badrequest modelstate from apicontroller we have modelstate you can see first uses snake case second camelcase,  is it possible to replace message with error in response that is  returned by ModelValidatorProvidersWe may use overloaded SetError to do it otherwise replace error with message. BaseValidatingContext&lt;TOptions&gt;.SetError Method (String)Marks this context as not validated by the application and assigns various error information properties. HasError becomes true and IsValidated becomes false as a result of calling.string msg = "{\"message\": \"Account locked.\"}";context.SetError(msg); Response.StatusCode = 400;context.Response.Write(msg);
i use vs 2012 created two application application 1 mvc 3 net 4.5application 2 mvc 4 net 4.5if i compare web.config applications i see app 2 mvc 4 has following handlers registered extensionlessurlhandler isapi-4.0_32bitextensionlessurlhandler-isapi-4.0_64bitextensionlessurlhandler-integrated-4.0could anybody please explain how when used one more question optional handlers required now where should i put my handlers before after them,Here is a blog post that may be helpful. http://blogs.msdn.com/b/tmarq/archive/2010/05/26/how-extensionless-urls-are-handled-by-asp-net-v4.aspx(which ironically doesn't use an extensionless url)My understanding is that you will need IIS 7 or greater to benefit from the Integrated mapping and for anything less you will need to use one of the other ISAPI handlers.
i have line code var response new httpclient postasjsonasync posturi model result called webapi controller returns bool make sure object saved how do i return bool response,I used HttpStatusCode to check the result.public HttpStatusCode PostStaffPositions(Foo foo){string uri = myapiuri;using (HttpClient httpClient = new HttpClient()){var response = httpClient.PostAsJsonAsync(uri foo).Result;return response.StatusCode;}}And then in Controller check it like this:   HttpStatusCode update = staffrest.PostStaffPositions(foo);if (update == HttpStatusCode.OK){   //Update Succeed}else{//Update Failed}
everytime i restart debugging visual studio i get freaking error you must call websecurity.initializedatabaseconnection method before you call any other method websecurity class call should placed appstart.cshtml file root your site.but everytime when i deploy app prod i get error here randomly.i do put proper tag authorize roles admin initializesimplemembership public class indexcontroller controllerto controller here filter way just doesnt wanna work.using system using system.data.entity using system.data.entity.infrastructure using system.threading using system.web.mvc using meetingtaskmanagement.models using webmatrix.webdata namespace meetingtaskmanagement.filters attributeusage attributetargets.class attributetargets.method allowmultiple false inherited true public sealed class initializesimplemembershipattribute actionfilterattribute private static simplemembershipinitializer initializer private static object initializerlock new object private static bool isinitialized public override void onactionexecuting actionexecutingcontext filtercontext ensure asp.net simple membership initialized only once per app startlazyinitializer.ensureinitialized ref initializer ref isinitialized ref initializerlock private class simplemembershipinitializer public simplemembershipinitializer database.setinitializer lt userscontext&gt null try using var context new userscontext context.database.exists create simplemembership database without entity framework migration schema iobjectcontextadapter context objectcontext.createdatabase websecurity.initializedatabaseconnection defaultconnection userprofile userid username autocreatetables true catch exception ex throw new invalidoperationexception asp.net simple membership database could initialized more information please see http go.microsoft.com fwlink linkid 256588 ex can someone help me sort out,Why not just create the  _AppStart.cshtml in the project root and place the initialization code in there as the error message states.@{WebMatrix.WebData.WebSecurity.InitializeDatabaseConnection("DefaultConnection" "TableName" "ColumnId" "ColumnName" autoCreateTables: false);}
i used below code my asp.net controller return json object my ajax javascriptpublic jsonresult mymethod return json object you could define new classreturn json new success true errormessage success return exception jquery ajax ajax type post url url data searchsuccess function data show json properties from controller success false show exception message from controller data.success alert data.message display success else alert data.message display exception error function xmlhttprequest textstatus errorthrown alert error xmlhttprequest.responsetext datatype json how can done web api controller can you give me some examples url reference.thanks regards,After reading tpeczek's answer Darrel Miller's answer and their comment conversation in tpeczek's answer I wanted get more guidance about when or why I might want to use Web Api and its content negotiation mechanism.  tpeczek's link is informative and useful but I found a couple other write-ups that were more geared at comparing the use of Web Api (and its content negotiation) with say plain MVC 4 controller actions that return JsonResult.  Here are the ones that I found useful to making such a decision.  One of the author concludes that he prefers using plain MVC 4 controllers while the other author prefers using Web Api controllers:Building a Public HTTP API for DataI believe there is one correction needed in the above author's post.  In there he mentions that   "...every [Controller] method that begins with 'Get' is automatically  associated to the GET verb. Does it sound great? It is but it also  means that you can’t have two methods whose name begin with 'Get' in  the same controller class."According to this answer you can indeed have multiple 'Get' methods in the same controller if you specify an ActionName attribute.  Now here's the second post:ASP.NET Web API vs. ASP.NET MVC “APIs”
possible draw charts curves histogram circle using c via asp.net mvc 4 razor i'm trying make some graphics from data extracted from my database i can't find how any suggestions please thanks lot,You can use NVD3 charts too based on D3.js
i trying require text input field form which implies needs something form however adding required tag my model wasn't working specifically look user name property public class columnwidthmetadata displayname column name required public string colname get set displayname primary key public int pkey get set displayname user name required public string username get set displayname column width required public int width get set allows empty strings get past model validation eventually database error thrown when attempts insert null value user name.how can i change attributes so do what seem like should do,You can add a DefaultValueAttribute to the property that requires a default value (e.g. string.Empty for UserName)[DisplayName("User Name")][System.ComponentModel.DefaultValue("")]public string UserName { get; set; }
my web app using large icon set jquery ui jqgrid.in order easily maintain changes css accommodate larger icons when upgrading jquery ui jqgrid i have separate css file where i have bunch overrides.as you can imagine override file must included after jquery ui stylesheet jqgrid style sheet.i put all my stylesheets bundle like sobundles.add new stylebundle content dark hive allstyles include content dark hive jquery ui-1.8.23.custom css content ui.jqgrid.css content jquery ui fixes.css content icons.css content site.css being rendered like so lt link href content dark hive jquery ui-1.8.23.custom css rel stylesheet gt lt link href content jquery ui fixes.css rel stylesheet gt lt link href content ui.jqgrid.css rel stylesheet gt lt link href content icons.css rel stylesheet gt lt link href content site.css rel stylesheet gt how can i configure my bundle render correct order updateok dumb worked.no matter what i did files would always render incorrectly so i tried something stupid added jquery ui fixes.css first jquery ui-1.8.23.custom css last.suddenly my order is&lt link href content jquery ui fixes.css rel stylesheet gt lt link href content dark hive jquery ui-1.8.23.custom css rel stylesheet gt lt link href content ui.jqgrid.css rel stylesheet gt lt link href content icons.css rel stylesheet gt lt link href content site.css rel stylesheet gt i renamed my javascript file jqueryuifixes.css now order preserved lower js files.i m thinking stylesheet has name gets prioritized first some reason order maintained other files it.if anyone can explain i'll give them check,You can create your custom bundler and override OrderFiles methodpublic class CustomBundleOrderer : IBundleOrderer{public IEnumerable&lt;FileInfo&gt; OrderFiles(BundleContext context IEnumerable&lt;FileInfo&gt; files){return files;}}then pass your css files in the order you would like them to be bundledvar bundle = new StyleBundle("~/Content/dark-hive/allstyles"){Orderer = new CustomBundleOrderer()};bundle.Include("~/Content/dark-hive/jquery-ui-1.8.23.custom.css""~/Content/ui.jqgrid.css""~/Content/jquery-ui-fixes.css""~/Content/icons.css""~/Content/site.css");bundles.Add(bundle);
i am sending login information from jquery ajax call mvc 4 controller post url data function response response invalidlogin show invalid login else response error show error else redirecting main page from here time being window.location.replace http localhost 1378/dashboard index login successful i want redirect user from server side appropriate page basis user type login fails string sent back user httppost public actionresult index loginmodel logindata login fails return json invalidlogin jsonrequestbehavior.allowget else i want redirect another controller view action depending user type problems method returns actionresult i'm getting error all code paths return value.if i use void i cannot return anything.even i use void return i am failing redirect other controller view due asynchronous nature jquery ajax calls.are any techniques handle scenarios,I had to do this but none of the solutions I found really satisfied my extreme requirements of JavaScript parsing errors that I had to avoid in order to redirect the client to the login page.What I did was to send a simple "NOAUTH" string response from my custom Authorization attribute then intercept the Ajax response before any event handlers are hit and redirect the user by setting window.location.Server side:protected override void HandleUnauthorizedRequest(AuthorizationContext context){if (context.RequestContext.HttpContext.Request.IsAjaxRequest()){var result = new ContentResult {Content = "NOAUTH"};context.Result = result;return;}}Then on the client side:$.ajaxSetup({dataFilter: function (data type) {if (data !== "" &amp;&amp; data === "NOAUTH") {window.location = '/';}return data;}});I would not recommend this approach though. If you have to do this then I would at-least suggest instead putting the "NOAUTH" value inside the http response header then read the value in a global JQuery complete handler.Server side:HttpContext.Current.Response.AddHeader("NOAUTH" "1");Client-side:$.ajaxSetup({complete: function (jqXHR textStatus) {if (jqXHR.getResponseHeader("NOAUTH") === '1')window.location = '/';}});Note that using dataFilter is the only way to intercept ajax requests before any other of your event handlers are hit.
i'm little confused how i should handle singular plural routes controllers my web application.the website simple quotes site think einstein shakespeare etc insurance within project i have controller called quotecontroller controller name singular so does mean controller should only handle display single quotes ie quote love battlefield-1do i need another controller display multiple quotes plural example quotes would default most recent quotes new quotes shakespeare quotes popularis convention good practice have separate controllers singular plural routes i hope makes sense,Good question. Some contributors to this site would recommend you try Programmers website but I'm willing to attempt an answer to your question.Routing mechanism in ASP.NET MVC conceptually is based on Resource-oriented architecture; the common guideline in ROA is   Applications should expose many URIs (possibly an infinite number of them) one for each Resource (any resources in your applications should be unambiguously accessible via a unique URI)So it's up to you to decide whether quote and quotes are two different resources or not.
